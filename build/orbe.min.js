/* Orbe.io || Created by Etienne Pinchon (@etiennepinchon) || Copyright @2016 */var __ORBE_JS_BUILD_DATE__=1469450934.381;"use strict";function EE(t,e,n){this.fn=t,this.context=e,this.once=n||!1}function EE3(){}var Orbe;Orbe||(Orbe={version:"1.0",creator:"Etienne Pinchon","do":"Dream | Create | Repeat",copyright:"orbe.io"});var Defaults,Originals;Originals={View:{width:200,height:200,backgroundColor:"rgba(123,123,123,0.5)"},Page:{fixed:!0,x:0,y:0,width:"100%",height:"100%",backgroundColor:"white"},Transition:{properties:{},time:.3,delay:0,view:null,curve:"ease"},ViewDraggable:{momentum:!0,momentumOptions:{friction:2.1,tolerance:1},bounce:!0,bounceOptions:{friction:40,tension:200,tolerance:1},directionLock:!1,directionLockThreshold:{x:10,y:10},overdrag:!0,overdragScale:.5,pixelAlign:!0,velocityTimeout:100,velocityScale:890},Animation:{view:null,delay:0,curve:"ease",curveOptions:{},time:.3,repeat:0,properties:{}},FrictionSimulator:{friction:2,tolerance:.1},SpringSimulator:{tension:500,friction:10,tolerance:1e-4},MomentumBounceSimulator:{momentum:{friction:2,tolerance:10},bounce:{tension:500,friction:10,tolerance:1}},Context:{perspective:0,perspectiveOriginX:.5,perspectiveOriginY:.5,parent:null,name:null},Pview:{width:300},TextField:{padding:8,width:300,fontSize:16,backgroundColor:"rgba(123,123,123,0.5)",borderWidth:0,color:"white",spacing:.6,userInteraction:!0},TextView:{padding:8,width:300,height:64,fontSize:16,scrollVertical:!0,backgroundColor:"rgba(123,123,123,0.5)",borderWidth:0,color:"white",spacing:.6,resize:!1,userInteraction:!0},WebView:{width:400,height:300},Slider:{width:200,height:200,backgroundColor:"rgba(123,123,123,0.5)"},ProgressBar:{},Dropdown:{__width:{w:200,width:200}},List:{},ListItem:{},Image:{},Text:{clip:!1,width:"100%",align:"center",userInteraction:!1,display:"table"},Link:{width:"100%",align:"center",display:"block",color:"black",userInteraction:!1},FileField:{padding:{x:12,y:10}},Checkbox:{Text:{display:"inline-block",cursor:"pointer",margin:{left:3},color:"#333",fontSize:13}},RadioButton:{Text:{display:"inline-block",cursor:"pointer",marginLeft:4,color:"#333",fontSize:13}},Button:{display:"block",padding:{x:20,y:8},margin:0,fontSize:14,backgroundColor:"rgba(123,123,123,0.5)",color:"white",borderWidth:0,cursor:"pointer",userInteraction:!1,borderBox:!0},Canvas:{width:200,height:200,backgroundColor:"rgba(123,123,123,0.5)"}},Defaults={set:function(t,e){return App.defaults.hasOwnProperty(t)?App.defaults[t]=Utils.extend(App.defaults[t],e):App.defaults[t]=e},getDefaults:function(t,e){var n,i;if(!App.defaults.hasOwnProperty(t))return e;n=Utils.clone(App.defaults[t]);for(i in e)n.hasOwnProperty(i)&&delete n[i];return[n,e]},get:function(t,e){var n,i,r,o;if(!App.defaults.hasOwnProperty(t))return{};n=Utils.clone(App.defaults[t]),o=App.defaults[t];for(i in o)r=o[i],n[i]=Utils.isFunction(r)?r():r;for(i in e)r=e[i],n[i]=r;return n},setup:function(){var t,e,n,i,r;if(App.defaults){r=App.defaults;for(t in r){e=r[t];for(n in e)i=e[n],Originals[t][n]=i}}return Defaults.reset()},reset:function(){return App.defaults=Utils.clone(Originals)}};var Utils,__domComplete,__domReady,__indexOf=[].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1},__slice=[].slice;Utils={},Utils.parseAsset=function(t){var e,n;return t&&0!==t.length&&void 0!==window.__CATALOG&&(n="",e=t.split(".").pop(),t===e)?void 0===window.__CATALOG[t]?(log("Asset named '"+t+"' does not exist.","error"),""):(n="documents/"+t+"."+window.__CATALOG[t],n=window.__IS_DIRECT_PATH&&window.__ID?"/"+window.__ID+"/"+n:void 0!==window.USE_PROJECT_PATH&&void 0!==window.__ID?"/p/"+window.__ID+"/"+n:"/"+n,App.__BUILD&&!App.USE_PROJECT_PATH&&(n+="?b="+App.__BUILD),n):t},Utils.parseURL=function(t){var e;return void 0===window.USE_PROJECT_PATH&&void 0===window.__IS_DIRECT_PATH||void 0===window.__ID||(e=function(t){var e,n;return e=function(t){return t.replace("http://","").replace("https://","").split("/")[0]},n=e(t),""===n?!1:e(location.href)!==n},e(t)||("/"!==t[0]&&(t="/"+t),(App.USE_PROJECT_PATH||App.__IS_DIRECT_PATH)&&(t="/"+window.__ID+t,App.USE_PROJECT_PATH&&(t="/p"+t)))),t},Utils.base64=function(t){return window.btoa(escape(encodeURIComponent(t)))},Utils.utf8=function(t){return decodeURIComponent(unescape(window.atob(t)))},Utils.groupBy=function(t,e){var n;return n={},t.forEach(function(t){var i;i=JSON.stringify(e(t)),n[i]=n[i]||[],n[i].push(t)}),Object.keys(n).map(function(t){return n[t]})},Utils.mergeArray=function(t,e){return t.concat(e)},Utils.values=function(t){var e,n,i,r,o;for(n=Object.keys(t),i=[],r=0,o=n.length;o>r;r++)e=n[r],i.push(t[e]);return i},Utils.pluck=function(t,e){return t.map(function(t){return t[e]})},Utils.without=function(t,e){return Utils.isArray(t)||(t=[t]),Utils.isArray(e)||(e=[e]),t.filter(function(t){return e.indexOf(t)<0})},Utils.e=function(t){return String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},Utils.clone=function(t){var e,n,i;if(Utils.isArray(t))return t.slice(0);for(e=Object.create(Object.getPrototypeOf(t)),n=void 0,i=Object.getOwnPropertyNames(t),n=0;n<i.length;)Object.defineProperty(e,i[n],Object.getOwnPropertyDescriptor(t,i[n])),n++;return e},Utils.capitalizeFirstLetter=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},Utils.capitalizeFirst=Utils.capitalizeFirstLetter,Utils.startsWith=function(t,e){return 0===t.lastIndexOf(e,0)},Utils.endsWith=function(t,e){return-1!==t.indexOf(e,t.length-e.length)},Utils.pick=function(t,e){var n,i,r,o,s;for(r={},n=0;n<e.length;){for(s=e[n].split("."),o=t[s[0]],i=1;i<s.length;)o=o[s[i]],i++;r[e[n]]=o,n++}return r},Utils.min=function(t){return Utils.isArray(t)?Math.min.apply(null,t):Object.keys(t).sort()[0]},Utils.max=function(t){return Utils.isArray(t)?Math.max.apply(null,t):Object.keys(t).sort().slice(-1)[0]},Utils.isEqual=function(t,e){var n;return null===t||void 0===t||null===e||void 0===e?t===e:t.constructor!==e.constructor?!1:t instanceof Function?t===e:t instanceof RegExp?t===e:t===e||t.valueOf()===e.valueOf()?!0:Array.isArray(t)&&t.length!==e.length?!1:t instanceof Date?!1:t instanceof Object&&e instanceof Object?(n=Object.keys(t),Object.keys(e).every(function(t){return-1!==n.indexOf(t)})&&n.every(function(n){return Utils.isEqual(t[n],e[n])})):!1},Utils.invoke=function(t,e){var n,i;return n=Array.prototype.slice.call(arguments,2),i="function"==typeof e,t.map(function(t){return(i?e:t[e]).apply(t,n)})},Utils.first=function(t){return t[0]},Utils.last=function(t){return t[t.length-1]},Utils.extend=function(t,e){var n;for(n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t},Utils.defaults=function(t,e){var n;for(n in e)t.hasOwnProperty(n)||(t[n]=e[n]);return t},Utils.union=function(t,e){var n,i,r,o;for(i=t.concat(e),n=i.concat(),r=0;r<n.length;){for(o=r+1;o<n.length;)n[r]===n[o]&&n.splice(o--,1),++o;++r}return n},Utils.isString=function(t){return"string"==typeof t?!0:!1},Utils.isFunction=function(t){return"function"==typeof t?!0:!1},Utils.isBoolean=function(t){return"boolean"==typeof t?!0:!1},Utils.isFloat=function(t){return Number(t)===t&&t%1!==0},Utils.isInteger=function(t){return Number.isInteger(t)},Utils.isNumber=function(t){return!isNaN(t)},Utils.isArray=function(t){return Array.isArray(t)},Utils.isObject=function(t){return t&&"object"==typeof t?!0:!1},Utils.isFinite=function(t){return 1/0>t&&t>-(1/0)?!0:!1},Utils.isDate=function(t){return t instanceof Date?!0:!1},Utils.isRegExp=function(t){return t instanceof RegExp?!0:!1},Utils.isError=function(t){return t instanceof Error?!0:!1},Utils.isNaN=function(t){return isNaN(t)?!0:!1},Utils.isNull=function(t){return null===t?!0:!1},Utils.isUndefined=function(t){return void 0===t?!0:!1},Utils.keys=function(t){return Object.keys(t)},Utils.reset=function(){return App.CurrentContext.reset()},Utils.getValue=function(t){return Utils.isFunction(t)?t():t},Utils.getValueForKeyPath=function(t,e){var n,i,r,o,s;if(n=t,o=!1,__indexOf.call(e,o)>=0)return t[e];for(s=e.split("."),i=0,r=s.length;r>i;i++)e=s[i],n=n[e];return n},Utils.setValueForKeyPath=function(t,e,n){var i,r,o,s,a;for(r=e.split("."),a=t,o=0,s=r.length;s>o&&void 0!==a;)i=r[o],o===s-1?a[i]=n:("undefined"!=typeof a[i]&&Utils.isObject(a[i])||(a[i]={}),a=a[i]),o++},Utils.valueOrDefault=function(t,e){return(void 0===t||null===t)&&(t=e),t},Utils.arrayNext=function(t,e){return t[t.indexOf(e)+1]||Utils.first(t)},Utils.arrayPrev=function(t,e){return t[t.indexOf(e)-1]||Utils.last(t)},Utils.sum=function(t){return t.reduce(function(t,e){return t+e})},Utils.average=function(t){return Utils.sum(t)/t.length},Utils.mean=Utils.average,Utils.median=function(t){var e;return 0===t.length?null:(e=t.slice().sort(function(t,e){return t-e}),e.length%2===1?e[(e.length-1)/2]:(e[e.length/2-1]+e[e.length/2])/2)},Utils.nearestIncrement=function(t,e){return e?Math.round(t*(1/e))/(1/e):t},window.performance?Utils.getTime=function(){return window.performance.now()/1e3}:Utils.getTime=function(){return Date.now()/1e3},Utils.delay=function(t,e){var n;return n=setTimeout(e,1e3*t),App.CurrentContext.addTimer(n),n},Utils.interval=function(t,e){var n;return n=setInterval(e,1e3*t),App.CurrentContext.addInterval(n),{stop:function(){return clearInterval(n)},clear:function(){return clearInterval(n)}}},Utils.debounce=function(t,e,n){var i;return null==t&&(t=.1),i=null,t*=1e3,function(){var r,o,s;return r=1<=arguments.length?__slice.call(arguments,0):[],s=this,o=function(){return n||e.apply(s,r),i=null},i?clearTimeout(i):n&&e.apply(s,r),i=setTimeout(o,t)}},Utils.throttle=function(t,e){var n;return 0===t?e:(t*=1e3,n=!1,function(){return n?void 0:(n=!0,-1!==t&&setTimeout(function(){return n=!1},t),e.apply(null,arguments))})},Utils.randomColor=function(t){return null==t&&(t=1),Color.random(t)},Utils.randomChoice=function(t){return t[Math.floor(Math.random()*t.length)]},Utils.randomNumber=function(t,e){return null==t&&(t=0),null==e&&(e=1),Utils.mapRange(Math.random(),0,1,t,e)},Utils.defineEnum=function(t,e,n){var i,r,o,s,a,u;for(null==t&&(t=[]),null==e&&(e=0),null==n&&(n=0),i={},r=a=0,u=t.length;u>a;r=++a)s=t[r],o=r,o=e?o+e:o,o=n?Math.pow(n,o):o,i[i[s]=o]=s;return i},Utils.stringify=function(t){try{if(Utils.isObject(t))return JSON.stringify(t)}catch(e){}return null===t?"null":void 0===t?"undefined":t.toString?t.toString():t},Utils.randomID=function(){return Math.floor(1e5*Math.random()+1)},Utils.uuid=function(){var t,e,n,i,r,o;for(t="0123456789abcdefghijklmnopqrstuvwxyz".split(""),n=new Array(36),r=0,e=o=1;32>=o;e=++o)2>=r&&(r=33554432+16777216*Math.random()|0),i=15&r,r>>=4,n[e]=t[19===e?3&i|8:i];return n.join("")},Utils.arrayFromArguments=function(t){return Utils.isArray(t[0])?t[0]:Array.prototype.slice.call(t)},Utils.cycle=function(){var t,e;return t=Utils.arrayFromArguments(arguments),e=-1,function(){return e++,e>=t.length&&(e=0),t[e]}},Utils.browser=function(){var t,e,n;return n=navigator.userAgent,e=void 0,t=n.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[],/trident/i.test(t[1])?(e=/\brv[ :]+(\d+)/g.exec(n)||[],{name:"IE",version:e[1]||""}):"Chrome"===t[1]&&(e=n.match(/\bOPR\/(\d+)/),null!==e)?{name:"Opera",version:e[1]}:(t=t[2]?[t[1],t[2]]:[navigator.appName,navigator.appVersion,"-?"],null!==(e=n.match(/version\/(\d+)/i))&&t.splice(1,1,e[1]),{name:t[0],version:t[1]})},Utils.isWebKit=function(){return void 0!==window.WebKitCSSMatrix},Utils.webkitVersion=function(){var t,e,n;return n=-1,t=/AppleWebKit\/([\d.]+)/,e=t.exec(navigator.userAgent),e&&(n=parseFloat(e[1])),n},Utils.isChrome=function(){return/chrome/.test(navigator.userAgent.toLowerCase())},Utils.isSafari=function(){return/safari/.test(navigator.userAgent.toLowerCase())&&!Utils.isChrome()?!0:!1},Utils.isTouch=function(){return null===window.ontouchstart&&null===window.ontouchmove&&null===window.ontouchend},Utils.isDesktop=function(){return"desktop"===Utils.deviceType()},Utils.isPhone=function(){return"phone"===Utils.deviceType()},Utils.isTablet=function(){return"tablet"===Utils.deviceType()},Utils.isMobile=function(){return Utils.isPhone()||Utils.isTablet()},Utils.isFileUrl=function(t){return t?Utils.startsWith(t,"file://"):void 0},Utils.isRelativeUrl=function(t){return!/^([a-zA-Z]{1,8}:\/\/).*$/.test(t)},Utils.isLocalServerUrl=function(t){return-1!==t.indexOf("127.0.0.1")||-1!==t.indexOf("localhost")},Utils.isLocalUrl=function(t){return Utils.isFileUrl(t)?!0:Utils.isLocalServerUrl(t)?!0:!1},Utils.devicePixelRatio=function(){return window.devicePixelRatio},Utils.deviceType=function(){return/(tablet)|(iPad)|(Nexus 9)/i.test(navigator.userAgent)?"tablet":/(mobi)/i.test(navigator.userAgent)?"phone":"desktop"},Utils.pathJoin=function(){return Utils.arrayFromArguments(arguments).join("/")},Utils.round=function(t,e){var n;return null==e&&(e=0),n=Math.pow(10,e),Math.round(t*n)/n},Utils.clamp=function(t,e,n){var i,r;return r=Math.min(e,n),i=Math.max(e,n),r>t&&(t=r),t>i&&(t=i),t},Utils.mapRange=function(t,e,n,i,r){return i+(t-e)/(n-e)*(r-i)},Utils.modulate=function(t,e,n,i){var r,o,s,a,u;if(null==i&&(i=!1),o=e[0],r=e[1],u=n[0],a=n[1],s=u+(t-o)/(r-o)*(a-u),i===!0)if(a>u){if(u>s)return u;if(s>a)return a}else{if(s>u)return u;if(a>s)return a}return s},Utils.parseFunction=function(t){var e;return e={name:"",args:[]},Utils.endsWith(t,")")?(e.name=t.split("(")[0],e.args=t.split("(")[1].split(",").map(function(t){return t.replace(/\)+$/,"").trim()})):e.name=t,e},__domComplete=[],__domReady=!1,Orbe.__domReady&&(__domReady=!0),"undefined"!=typeof document&&null!==document&&(document.onreadystatechange=function(t){var e,n;if("interactive"===document.readyState){for(__domReady=!0,n=[];__domComplete.length;)n.push(e=__domComplete.shift()());return n}}),Utils.domComplete=function(t){return __domReady?t():__domComplete.push(t)},Utils.domCompleteCancel=function(t){return __domComplete=Utils.without(__domComplete,t)},Utils.domValidEvent=function(t,e){return e?"touchstart"===e||"touchmove"===e||"touchend"===e?!0:"undefined"!=typeof t["on"+e.toLowerCase()]:void 0},Utils.domLoadScript=function(t,e){var n;if(!App.isOffline())return n=document.createElement("script"),n.type="text/javascript",n.src=t,Utils.isFunction(e)&&(n.onreadystatechange=e.bind(t),n.onload=e.bind(t)),Utils.domComplete(function(){return document.body.appendChild(n)})},Utils.insertCSS=function(t){var e;return e=document.createElement("style"),e.type="text/css",e.innerHTML=t,Utils.domComplete(function(){var t;return t=document.head||document.getElementsByTagName("head")[0],t.appendChild(e)})},Utils.pointDivide=function(t,e){return t={x:t.x/e,y:t.y/e}},Utils.pointAdd=function(t,e){var n;return n={x:t.x+e.x,y:t.y+e.y}},Utils.pointSubtract=function(t,e){var n;return n={x:t.x-e.x,y:t.y-e.y}},Utils.pointZero=function(t){return null==t&&(t={}),Utils.defaults(t,{x:0,y:0})},Utils.pointMin=function(){var t,e;return e=Utils.arrayFromArguments(arguments),t={x:Utils.min(e.map(function(t){return t.x})),y:Utils.min(e.map(function(t){return t.y}))}},Utils.pointMax=function(){var t,e;return e=Utils.arrayFromArguments(arguments),t={x:Utils.max(e.map(function(t){return t.x})),y:Utils.max(e.map(function(t){return t.y}))}},Utils.pointDelta=function(t,e){var n;return n={x:e.x-t.x,y:e.y-t.y}},Utils.pointDistance=function(t,e){var n,i;return n=t.x-e.x,i=t.y-e.y,Math.sqrt(n*n+i*i)},Utils.pointInvert=function(t){return t={x:0-t.x,y:0-t.y}},Utils.pointTotal=function(t){return t.x+t.y},Utils.pointAbs=function(t){return t={x:Math.abs(t.x),y:Math.abs(t.y)}},Utils.pointInFrame=function(t,e){return t.x<Utils.frameGetMinX(e)||t.x>Utils.frameGetMaxX(e)?!1:t.y<Utils.frameGetMinY(e)||t.y>Utils.frameGetMaxY(e)?!1:!0},Utils.pointCenter=function(t,e){var n;return n={x:(t.x+e.x)/2,y:(t.y+e.y)/2}},Utils.pointAngle=function(t,e){return 180*Math.atan2(e.y-t.y,e.x-t.x)/Math.PI},Utils.sizeZero=function(t){return null==t&&(t={}),Utils.defaults(t,{width:0,height:0})},Utils.sizeMin=function(){var t,e;return e=Utils.arrayFromArguments(arguments),t={width:Utils.min(e.map(function(t){return t.width})),height:Utils.min(e.map(function(t){return t.height}))}},Utils.sizeMax=function(){var t,e;return e=Utils.arrayFromArguments(arguments),t={width:Utils.max(e.map(function(t){return t.width})),height:Utils.max(e.map(function(t){return t.height}))}},Utils.rectZero=function(t){return null==t&&(t={}),Utils.defaults(t,{top:0,right:0,bottom:0,left:0})},Utils.parseRect=function(t){if(Utils.isArray(t)&&Utils.isNumber(t[0])){if(1===t.length)return Utils.parseRect({top:t[0]});if(2===t.length)return Utils.parseRect({top:t[0],right:t[1]});if(3===t.length)return Utils.parseRect({top:t[0],right:t[1],bottom:t[2]});if(4===t.length)return Utils.parseRect({top:t[0],right:t[1],bottom:t[2],left:t[3]})}return Utils.isArray(t)&&Utils.isObject(t[0])?t[0]:Utils.isObject(t)?t:{}},Utils.frameGetMinX=function(t){return t.x},Utils.frameSetMinX=function(t,e){return t.x=e},Utils.frameGetMidX=function(t){return 0===t.width?0:t.x+t.width/2},Utils.frameSetMidX=function(t,e){return t.x=0===t.width?0:e-t.width/2},Utils.frameGetMaxX=function(t){return 0===t.width?0:t.x+t.width},Utils.frameSetMaxX=function(t,e){return t.x=0===t.width?0:e-t.width},Utils.frameGetMinY=function(t){return t.y},Utils.frameSetMinY=function(t,e){return t.y=e},Utils.frameGetMidY=function(t){return 0===t.height?0:t.y+t.height/2},Utils.frameSetMidY=function(t,e){return t.y=0===t.height?0:e-t.height/2},Utils.frameGetMaxY=function(t){return 0===t.height?0:t.y+t.height},Utils.frameSetMaxY=function(t,e){return t.y=0===t.height?0:e-t.height},Utils.frameZero=function(t){return null==t&&(t={}),Utils.defaults(t,{top:0,right:0,bottom:0,left:0})},Utils.frameSize=function(t){var e;return e={width:t.width,height:t.height}},Utils.framePoint=function(t){var e;return e={x:t.x,y:t.y}},Utils.pointsFromFrame=function(t){var e,n,i,r,o,s,a,u;return a=Utils.frameGetMinX(t),o=Utils.frameGetMaxX(t),u=Utils.frameGetMinY(t),s=Utils.frameGetMaxY(t),e={x:a,y:u},n={x:a,y:s},i={x:o,y:s},r={x:o,y:u},[e,n,i,r]},Utils.frameFromPoints=function(t){var e,n,i,r,o,s,a;return s=Utils.pluck(t,"x"),a=Utils.pluck(t,"y"),r=Utils.min(s),n=Utils.max(s),o=Utils.min(a),i=Utils.max(a),e={x:r,y:o,width:n-r,height:i-o}},Utils.pixelAlignedFrame=function(t){var e;return e={width:Math.round(t.width+t.x%1),height:Math.round(t.height+t.y%1),x:Math.round(t.x),y:Math.round(t.y)}},Utils.frameMerge=function(){var t,e;return e=Utils.arrayFromArguments(arguments),t={x:Utils.min(e.map(Utils.frameGetMinX)),y:Utils.min(e.map(Utils.frameGetMinY))},t.width=Utils.max(e.map(Utils.frameGetMaxX))-t.x,t.height=Utils.max(e.map(Utils.frameGetMaxY))-t.y,t},Utils.framePointForOrigin=function(t,e,n){return t={x:t.x+e*t.width,y:t.y+n*t.height,width:t.width,height:t.height}},Utils.frameInset=function(t,e){return Utils.isNumber(e)&&(e={top:e,right:e,bottom:e,left:e}),t={x:t.x+e.left,y:t.y+e.top,width:t.width-e.left-e.right,height:t.height-e.top-e.bottom}},Utils.frameSortByAbsoluteDistance=function(t,e,n,i){var r;return null==n&&(n=0),null==i&&(i=0),r=function(e){var r;return r=Utils.pointDelta(t,Utils.framePointForOrigin(e,n,i)),r=Utils.pointAbs(r),r=Utils.pointTotal(r)},e.sort(function(t,e){return r(t)-r(e)})},Utils.pointInPolygon=function(t,e){var n,i,r,o,s,a,u,h,l,p;for(s=t[0],h=t[1],i=!1,n=0,o=e.length-1;n<e.length;)a=e[n][0],l=e[n][1],u=e[o][0],p=e[o][1],r=l>h&&h!==p&&p>h&&(u-a)*(h-l)/(p-l)+a>s,r&&(i=!i),o=n++;return i},Utils.frameCenterPoint=function(t){var e;return e={x:Utils.frameGetMidX(t),y:Utils.frameGetMidY(t)}},Utils.rotationNormalizer=function(){var t;return t=null,function(e){return function(e){var n,i,r;return null==t&&(t=e),n=t-e,i=Math.abs(n)+180,r=Math.floor(i/360),180>n&&(e-=360*r),n>180&&(e+=360*r),t=e,e}}(this)},Utils.inspectObjectType=function(t){var e,n;return null!=t._kind&&"Object"!==t._kind?t._kind:(n=function(t){var e,n;return t?(n=/\[object (\w+)\]/,e=n.exec(t),e?e[1]:null):null},t.toString&&(e=n(t.toString()))?e:"Object")},Utils.inspect=function(t,e,n){var i,r,o,s,a;if(null==e&&(e=5),null==n&&(n=0),null===t)return"null";if(void 0===t)return"undefined";if(Utils.isFunction(t.toInspect))return t.toInspect();if(Utils.isString(t))return'"'+t+'"';if(Utils.isNumber(t))return""+t;if(Utils.isFunction(t))return i=t.toString().slice("function ".length).replace(/\n/g,"").replace(/\s+/g," "),r=50,i.length>r&&n>0&&(i=""+Utils.trimRight(i.slice(0,+r+1||9e9))+"… }"),"<Function "+i+">";if(Utils.isArray(t))return n>e?"[...]":"["+t.map(function(t){return Utils.inspect(t,e,n+1)}).join(", ")+"]";if(Utils.isObject(t)){if(s=Utils.inspectObjectType(t),/HTML\w+?Element/.test(s))return"<"+s+">";if(n>e)o="{...}";else{o=[];for(a in t)o.push(""+a+":"+Utils.inspect(t[a],e,n+1).toString());o="{"+o.join(", ")+"}"}return"Object"===s?o:"<"+s+" "+o+">"}return""+t},Utils.formatBytes=function(t,e){var n,i,r,o;return 0===t?"0 Byte":(r=1e3,n=e+1||3,o=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],i=Math.floor(Math.log(t)/Math.log(r)),parseFloat((t/Math.pow(r,i)).toFixed(n))+" "+o[i])};var ResetCSS;ResetCSS="html, body, div, span, applet, object, iframe, h1, h2, h3, h4, h5, h6, p, blockquote, pre, a, abbr, acronym, address, big, cite, code, del, dfn, em, img, ins, kbd, q, s, samp, small, strike, strong, sub, sup, tt, var, b, u, i, center, dl, dt, dd, ol, ul, li, fieldset, form, label, legend, table, caption, tbody, tfoot, thead, tr, th, td, article, aside, canvas, details, embed, figure, figcaption, footer, header, hgroup, menu, nav, output, ruby, section, summary, time, mark, audio, video { margin: 0; padding: 0; border: 0; font-size: 100%; font: inherit; vertical-align: baseline; } /* HTML5 display-role reset for older browsers */ article, aside, details, figcaption, figure,  footer, header, hgroup, menu, nav, section { display: block; } body { line-height: 1; overflow: hidden; outline: none; text-decoration: none; font-family: Arial, sans-serif; } ol, ul { list-style: none; } blockquote, q { quotes: none; } blockquote:before, blockquote:after, q:before, q:after { content: ''; content: none; } table { border-collapse: collapse; border-spacing: 0; } a { text-decoration: none; } input, textarea { -webkit-box-sizing: border-box; -moz-box-sizing: border-box; box-sizing: border-box; vertical-align: top; outline: none; } .no-select { user-select: none; -o-user-select:none; -moz-user-select: none; -khtml-user-select: none; -webkit-user-select: none; } .select { user-select: text !important; -o-user-select: text !important; -moz-user-select: text !important; -khtml-user-select: text !important; -webkit-user-select: text !important; } :-webkit-full-screen	{ display: block !important; width: 100% !important; height: 100% !important; } :-moz-full-screen		{ display: block !important; width: 100% !important; height: 100% !important; } :-ms-full-screen		{ display: block !important; width: 100% !important; height: 100% !important; } :-o-full-screen		{ display: block !important; width: 100% !important; height: 100% !important; } :full-screen			{ display: block !important; width: 100% !important; height: 100% !important; } ",Utils.domComplete(function(){return Utils.insertCSS(ResetCSS)});var log,say,__slice=[].slice;say=function(){var t,e,n,i;if(t=1<=arguments.length?__slice.call(arguments,0):[],n="» "+t.map(function(t){return Utils.inspect(t)}).join(", "),App.inWebView()){i=void 0;try{i=window.parent.location.host===window.location.host}catch(r){e=r,i=!1}if(!i)return;window.top.APP_CONSOLE.push(n),void 0!==window.top.REFRESH_APP_CONSOLE&&window.top.REFRESH_APP_CONSOLE()}else console.log(n)},log=say;var has=Object.prototype.hasOwnProperty,prefix="function"!=typeof Object.create?"~":!1;EE3.prototype._events=void 0,EE3.prototype.eventNames=function(){var t,e=this._events,n=[];if(!e)return n;for(t in e)has.call(e,t)&&n.push(prefix?t.slice(1):t);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(e)):n},EE3.prototype.listeners=function(t,e){var n=prefix?prefix+t:t,i=this._events&&this._events[n];if(e)return!!i;if(!i)return[];if(i.fn)return[i.fn];for(var r=0,o=i.length,s=new Array(o);o>r;r++)s[r]=i[r].fn;return s},EE3.prototype.emit=function(t,e,n,i,r,o){var s=prefix?prefix+t:t;if(!this._events||!this._events[s])return!1;var a,u,h=this._events[s],l=arguments.length;if("function"==typeof h.fn){switch(h.once&&this.removeListener(t,h.fn,void 0,!0),l){case 1:return h.fn.call(h.context),!0;case 2:return h.fn.call(h.context,e),!0;case 3:return h.fn.call(h.context,e,n),!0;case 4:return h.fn.call(h.context,e,n,i),!0;case 5:return h.fn.call(h.context,e,n,i,r),!0;case 6:return h.fn.call(h.context,e,n,i,r,o),!0}for(u=1,a=new Array(l-1);l>u;u++)a[u-1]=arguments[u];h.fn.apply(h.context,a)}else{var p,c=h.length;for(u=0;c>u;u++)switch(h[u].once&&this.removeListener(t,h[u].fn,void 0,!0),l){case 1:h[u].fn.call(h[u].context);break;case 2:h[u].fn.call(h[u].context,e);break;case 3:h[u].fn.call(h[u].context,e,n);break;default:if(!a)for(p=1,a=new Array(l-1);l>p;p++)a[p-1]=arguments[p];h[u].fn.apply(h[u].context,a)}}return!0},EE3.prototype.on=function(t,e,n){var i=new EE(e,n||this),r=prefix?prefix+t:t;return this._events||(this._events=prefix?{}:Object.create(null)),this._events[r]?this._events[r].fn?this._events[r]=[this._events[r],i]:this._events[r].push(i):this._events[r]=i,this},EE3.prototype.once=function(t,e,n){var i=new EE(e,n||this,!0),r=prefix?prefix+t:t;return this._events||(this._events=prefix?{}:Object.create(null)),this._events[r]?this._events[r].fn?this._events[r]=[this._events[r],i]:this._events[r].push(i):this._events[r]=i,this},EE3.prototype.removeListener=function(t,e,n,i){var r=prefix?prefix+t:t;if(!this._events||!this._events[r])return this;var o=this._events[r],s=[];if(e)if(o.fn)(o.fn!==e||i&&!o.once||n&&o.context!==n)&&s.push(o);else for(var a=0,u=o.length;u>a;a++)(o[a].fn!==e||i&&!o[a].once||n&&o[a].context!==n)&&s.push(o[a]);return s.length?this._events[r]=1===s.length?s[0]:s:delete this._events[r],this},EE3.prototype.removeAllListeners=function(t){return this._events?(t?delete this._events[prefix?prefix+t:t]:this._events=prefix?{}:Object.create(null),this):this},EE3.prototype.off=EE3.prototype.removeListener,EE3.prototype.addListener=EE3.prototype.on,EE3.prototype.setMaxListeners=function(){return this},EE3.prefixed=prefix,"undefined"!=typeof module&&(module.exports=EE3);var Change,Gesture,__indexOf=[].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1};Event.WillAppear="willappear",Event.Appear="didappear",Event.DidAppear="didappear",Event.WillDisappear="willdisappear",Event.Disappear="diddisappear",Event.DidDisappear="diddisappear",Event.Click="click",Event.DoubleClick="dblclick",Event.Hover=["mouseenter","mouseleave"],Event.In="mouseenter",Event.Out="mouseleave",Event.Down="mousedown",Event.Up="mouseup",Event.Over="mouseover",Event.Move="mousemove",Event.RightClick="contextmenu",Event.MouseWheel="wheel",Event.MouseIn=Event.In,Event.MouseUp=Event.Up,Event.MouseDown=Event.Down,Event.MouseOver=Event.Over,Event.MouseOut=Event.Out,Event.MouseMove=Event.Move,Event.Abort="abort",Event.Quit="beforeunload",Event.Error="error",Event.HashChange="hashchange",Event.Load="load",Event.Loaded="load",Event.Resize="resize",Event.Scroll="scroll",Event.Show="show",Event.Close="close",Event.PressingKey="keydown",Event.PressKey="keypress",Event.ReleaseKey="keyup",Event.KeyDown="keydown",Event.KeyPress="keypress",Event.KeyUp="keyup",Event.Focus="focus",Event.ResignFocus="blur",Event.Blur="blur",Event.Change="change",Event.WillFocus="focusin",Event.WillResignFocus="focusout",Event.Input="input",Event.Invalid="invalid",Event.Reset="reset",Event.Search="search",Event.Select="select",Event.Submit="submit",Event.DragStart="dragstart",Event.DragWillMove="dragwillmove",Event.DragMove="dragmove",Event.DragDidMove="dragmove",Event.Drag="dragmove",Event.DragEnd="dragend",Event.DragAnimationDidStart="draganimationdidstart",Event.DragAnimationDidEnd="draganimationdidend",Event.DirectionLockDidStart="directionlockdidstart",Event.DragEnter="dragenter",Event.DragOver="dragover",Event.DragLeave="dragleave",Event.Drop="drop",Event.Copy="copy",Event.Cut="cut",Event.Paste="paste",Event.LoadEnd="loadend",Event.Unsupported="unsupported",Event.Success="success",Event.Clear="clear",Event.Response="response",Event.Receive="receive",Event.Send="send",Event.End="end",Event.Granted="granted",Event.Run="run",Event.Online="online",Event.Offline="offline",Event.HistoryChanged="popstate",Event.Wheel="wheel",Event.CanPlay="canplay",Event.CanPlayThrough="canplaythrough",Event.DurationChange="durationchange",Event.Emptied="emptied",Event.ReachEnd="ended",Event.LoadedData="loadeddata",Event.LoadedMetaData="loadedmetadata",Event.LoadStart="loadstart",Event.Pause="pause",Event.Play="play",Event.Playing="playing",Event.Progress="progress",Event.SpeedChange="ratechange",Event.Seeked="seeked",Event.Seeking="seeking",Event.Stalled="stalled",Event.Suspend="suspend",Event.TimeUpdate="timeupdate",Event.VolumeChange="volumechange",Event.Waiting="waiting",Event.AnimationStart="start",Event.AnimationStop="stop",Event.AnimationEnd="end",Event.AnimationDidStart="start",Event.AnimationDidStop="stop",Event.AnimationDidEnd="end",Event.PreloadDone="preloadEnd",Event.PreloadEnd="preloadEnd",Event.PreloadProgress="preloadProgress",Event.ImportDone="importEnd",Event.ImportEnd="importEnd",Event.ImportProgress="importProgress",Event.TouchStart="touchstart",Event.TouchEnd="touchend",Event.TouchMove="touchmove",Event.TouchStart="mousedown",Event.TouchEnd="mouseup",Event.TouchMove="mousemove",Event.StateWillSwitch="willSwitch",Event.StateDidSwitch="didSwitch",Event.DisplayConnected="displayconnected",Event.DisplayDisconnected="displaydisconnected",Change={},Change.x="change:x",Change.y="change:y",Change.point="change:point",Change.width="change:width",Change.height="change:height",Change.size="change:size",Change.frame="change:frame",Change.rotation="change:rotation",Change.borderRadius="change:borderRadius",Change.currentPage="change:currentPage",Change.style="change:style",Change.html="change:html",Change.children="change:children",Change.parent="change:parent",Change.page="change:page",Change.value="change:value",Change.BatteryCharging="change:batteryCharging",Change.BatteryLevel="change:batteryLevel",Change.ChargingTime="change:chargingTime",Change.DischargingTime="change:dischargingTime",Change.DeviceMotion="devicemotion",Change.DeviceOrientation="deviceorientation",Gesture={},Gesture.Tap="tap",Gesture.TapStart="tapstart",Gesture.TapEnd="tapend",Gesture.DoubleTap="doubletap",Gesture.ForceTap="forcetap",Gesture.ForceTapChange="forcetapchange",Gesture.ForceTapStart="forcetapstart",Gesture.ForceTapEnd="forcetapend",Gesture.LongPress="longpress",Gesture.LongPressStart="longpressstart",Gesture.LongPressEnd="longpressend",Gesture.Swipe="swipe",Gesture.SwipeStart="swipestart",Gesture.SwipeEnd="swipeend",Gesture.SwipeUp="swipeup",Gesture.SwipeUpStart="swipeupstart",Gesture.SwipeUpEnd="swipeupend",Gesture.SwipeDown="swipedown",Gesture.SwipeDownStart="swipedownstart",Gesture.SwipeDownEnd="swipedownend",Gesture.SwipeLeft="swipeleft",Gesture.SwipeLeftStart="swipeleftstart",Gesture.SwipeLeftEnd="swipeleftend",Gesture.SwipeRight="swiperight",Gesture.SwipeRightStart="swiperightstart",Gesture.SwipeRightEnd="swiperightend",Gesture.EdgeSwipe="edgeswipe",Gesture.EdgeSwipeStart="edgeswipestart",Gesture.EdgeSwipeEnd="edgeswipeend",Gesture.EdgeSwipeTop="edgeswipetop",Gesture.EdgeSwipeTopStart="edgeswipetopstart",Gesture.EdgeSwipeTopEnd="edgeswipetopend",Gesture.EdgeSwipeRight="edgeswiperight",Gesture.EdgeSwipeRightStart="edgeswiperightstart",Gesture.EdgeSwipeRightEnd="edgeswiperightend",Gesture.EdgeSwipeBottom="edgeswipebottom",Gesture.EdgeSwipeBottomStart="edgeswipebottomstart",Gesture.EdgeSwipeBottomEnd="edgeswipebottomend",Gesture.EdgeSwipeLeft="edgeswipeleft",Gesture.EdgeSwipeLeftStart="edgeswipeleftstart",Gesture.EdgeSwipeLeftEnd="edgeswipeleftend",Gesture.Pan="pan",Gesture.PanStart="panstart",Gesture.PanEnd="panend",Gesture.PanLeft="panleft",Gesture.PanRight="panright",Gesture.PanUp="panup",Gesture.PanDown="pandown",Gesture.Pinch="pinch",Gesture.PinchStart="pinchstart",Gesture.PinchEnd="pinchend",Gesture.Scale="scale",Gesture.ScaleStart="scalestart",
Gesture.ScaleEnd="scaleend",Gesture.Rotate="rotate",Gesture.RotateStart="rotatestart",Gesture.RotateEnd="rotateend",Event.ScrollStart="scrollstart",Event.Scroll="scroll",Event.ScrollMove=Event.Scroll,Event.ScrollEnd="scrollend",Event.ScrollAnimationDidStart="scrollanimationdidstart",Event.ScrollAnimationDidEnd="scrollanimationdidend",Utils.extend(Event,Gesture),Event.touchEvent=function(t){var e,n,i;return e=null!=(n=t.touches)?n[0]:void 0,null==e&&(e=null!=(i=t.changedTouches)?i[0]:void 0),null==e&&(e=t),e},Event.wrap=function(t){return App.CurrentContext.domEventManager.wrap(t)},Event.isGesture=function(t){return __indexOf.call(Gesture,t)>=0};var EventEmitter,EventKey,__hasProp={}.hasOwnProperty,__extends=function(t,e){function n(){this.constructor=t}for(var i in e)__hasProp.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};EventKey="_events",EventEmitter=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return __extends(e,t),e.prototype.listenerEvents=function(){return void 0===this[EventKey]?[]:Utils.keys(this[EventKey])},e.prototype.removeAllListeners=function(t){var e,n,i,r,o;for(e=t?[t]:this.listenerEvents(),o=[],i=0,r=e.length;r>i;i++)t=e[i],o.push(function(){var e,i,r,o;for(r=this.listeners(t),o=[],e=0,i=r.length;i>e;e++)n=r[e],o.push(this.removeListener(t,n));return o}.call(this));return o},e}(EE3);var Element,__bind=function(t,e){return function(){return t.apply(e,arguments)}},__hasProp={}.hasOwnProperty,__extends=function(t,e){function n(){this.constructor=t}for(var i in e)__hasProp.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};Element=function(t){function e(t){null==t&&(t={}),this._getPropertyValue=__bind(this._getPropertyValue,this),this._setPropertyValue=__bind(this._setPropertyValue,this),this.toInspect=__bind(this.toInspect,this),this.__options=t,this._context=App.CurrentContext,this._DefinedPropertiesValuesKey={},this._id=Utils.randomID()}return __extends(e,t),e.prototype._kind="Element",e.prototype.toInspect=function(){return"<"+this._kind+" id:"+(this.id||null)+">"},e.define=function(t,n){var i,r,o,s,a,u;for(u=["enumerable","exportable","importable"],s=0,a=u.length;a>s;s++)if(r=u[s],n.hasOwnProperty(r)&&!Utils.isBoolean(n[r]))throw Error("woops "+t+" "+n[r]);return this!==e&&(n.propertyName=t,null==n.enumerable&&(n.enumerable=!0),null==n.exportable&&(n.exportable=!0),null==n.importable&&(n.importable=!0),n.importable=n.importable&&n.set,(n.exportable||n.importable)&&(null==this._DefinedPropertiesKey&&(this._DefinedPropertiesKey={}),this._DefinedPropertiesKey[t]=n)),i="get"+Utils.capitalizeFirstLetter(t),this.prototype[i]=n.get,n.get=this.prototype[i],n.set&&(o="set"+Utils.capitalizeFirstLetter(t),this.prototype[o]=n.set,n.set=this.prototype[o]),Object.defineProperty(this.prototype,t,n)},e.simpleProperty=function(t,e,n){return null==n&&(n={}),Utils.extend(n,{"default":e,get:function(){return this._getPropertyValue(t)},set:function(e){return this._setPropertyValue(t,e)}})},e.proxyProperty=function(t,e){var n;return null==e&&(e={}),n=t.split(".")[0],Utils.extend(e,{get:function(){return Utils.isObject(this[n])?Utils.getValueForKeyPath(this,t):void 0},set:function(e){return Utils.isObject(this[n])?Utils.setValueForKeyPath(this,t,e):void 0}})},e.prototype._setPropertyValue=function(t,e){return this._DefinedPropertiesValuesKey[t]=e},e.prototype._getPropertyValue=function(t){return Utils.valueOrDefault(this._DefinedPropertiesValuesKey[t],this._getPropertyDefaultValue(t))},e.prototype._getPropertyDefaultValue=function(t){return this._propertyList()[t]["default"]},e.prototype._propertyList=function(){return this.constructor._DefinedPropertiesKey},e.prototype.keys=function(){return Utils.keys(this.props)},e.prototype.onChange=function(t,e){return this.on("change:"+t,e)},e.define("id",{get:function(){return this._id}}),e.define("props",{importable:!1,exportable:!1,get:function(){var t,e,n,i;n=[],i=this._propertyList();for(e in i)t=i[e],t.exportable&&n.push(e);return Utils.pick(this,n)},set:function(t){var e,n,i,r,o;if(Utils.isArray(t))return t[0]&&(this.props=t[0]),void(t[1]&&(this.props=t[1]));e=null,i=this._propertyList();for(n in t)r=t[n],"do"===n?e=r:(null!=(o=i[n])?o.importable:void 0)&&(this[n]=r);return e?this["do"]=e:void 0}}),e}(EventEmitter);var EventBuffer,__hasProp={}.hasOwnProperty,__extends=function(t,e){function n(){this.constructor=t}for(var i in e)__hasProp.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};Event.EventBufferReset="eventbufferreset",Event.EventBufferUpdated="eventbufferupdated",EventBuffer=function(t){function e(t){null==t&&(t={}),this.options=Utils.defaults(t,{velocityTimeout:100}),this._events=[]}return __extends(e,t),e.prototype.push=function(t){return this._events.push(t),this.emit(Event.EventBufferUpdated,t)},e.prototype.reset=function(){return this._events.length=0,this.emit(Event.EventBufferReset)},e.define("length",{get:function(){return this._events.length}}),e.define("first",{get:function(){return this._events[0]}}),e.define("offset",{get:function(){var t,e,n;return events.length<2?{x:0,y:0}:(t=events[events.length-1],e=events[0],n={x:t.x-e.x,y:t.y-e.y})}}),e.define("events",{get:function(){var t;return t=Date.now()-this.options.velocityTimeout,this._events.filter(function(e){return function(e){return e.t>t}}(this))}}),e.define("angle",{get:function(){var t,e,n;return t=this.events,t.length<2?0:(e=t[0],n=t[1],180*Math.atan2(n.y-e.y,n.x-e.x)/Math.PI)}}),e.define("velocity",{get:function(){var t,e,n,i,r;return e=this.events,e.length<2?{x:0,y:0}:(t=e[e.length-1],n=e[0],i=t.t-n.t,r={x:(t.x-n.x)/i,y:(t.y-n.y)/i},r.x===1/0&&(r.x=0),r.y===1/0&&(r.y=0),r)}}),e}(Element);var DOMEventManager,DOMEventManagerElement,EventManagerIdCounter,__hasProp={}.hasOwnProperty,__extends=function(t,e){function n(){this.constructor=t}for(var i in e)__hasProp.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},__bind=function(t,e){return function(){return t.apply(e,arguments)}};DOMEventManagerElement=function(t){function e(t){this.element=t}return __extends(e,t),e.prototype.addListener=function(t,n,i){return null==i&&(i=!1),e.__super__.addListener.call(this,t,n),this.element.addEventListener(t,n,!1)},e.prototype.removeListener=function(t,n){return e.__super__.removeListener.call(this,t,n),this.element.removeEventListener(t,n,!1)},e.prototype.addEventListener=e.prototype.addListener,e.prototype.removeEventListener=e.prototype.removeListener,e}(EventEmitter),EventManagerIdCounter=0,DOMEventManager=function(){function t(t){this.wrap=__bind(this.wrap,this),this._elements={}}return t.prototype.wrap=function(t){return t._eventManagerId||(t._eventManagerId=EventManagerIdCounter++),this._elements[t._eventManagerId]||(this._elements[t._eventManagerId]=new DOMEventManagerElement(t)),this._elements[t._eventManagerId]},t.prototype.reset=function(){var t,e,n,i;n=this._elements,i=[];for(t in n)e=n[t],i.push(e.removeAllListeners());return i},t}();var Context,__hasProp={}.hasOwnProperty,__extends=function(t,e){function n(){this.constructor=t}for(var i in e)__hasProp.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},__indexOf=[].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1};Context=function(t){function e(t){if(e.__super__.constructor.apply(this,arguments),t||(t={}),!t.name)throw Error("Context: name required.");this._parent=t.parent,this._name=t.name,this.perspective=t.perspective,this.perspectiveOriginX=t.perspectiveOriginX,this.perspectiveOriginY=t.perspectiveOriginY,this.reset()}return __extends(e,t),e.prototype.reset=function(){return this._createDOMEventManager(),this._createRootElement(),this.resetViews(),this.resetAnimations(),this.resetTimers(),this.resetIntervals(),this.emit("reset",this)},e.define("parent",{get:function(){return this._parent}}),e.define("element",{get:function(){return this._element}}),e.define("views",{get:function(){return Utils.clone(this._views)}}),e.define("viewCounter",{get:function(){return this._viewCounter}}),e.prototype.addView=function(t){return __indexOf.call(this._views,t)>=0?void 0:(this._viewCounter++,this._views.push(t))},e.prototype.removeView=function(t){return this._views=Utils.without(this._views,t)},e.prototype.resetViews=function(){return this.resetGesture(),this._views=[],this._viewCounter=0},e.define("animations",{get:function(){return Utils.clone(this._animations)}}),e.prototype.addAnimation=function(t){return __indexOf.call(this._animations,t)>=0?void 0:this._animations.push(t)},e.prototype.removeAnimation=function(t){return this._animations=Utils.without(this._animations,t)},e.prototype.resetAnimations=function(){return this.stopAnimations(),this._animations=[]},e.prototype.stopAnimations=function(){return this._animations?this._animations.map(function(t){return t.stop(!0)}):void 0},e.define("timers",{get:function(){return Utils.clone(this._timers)}}),e.prototype.addTimer=function(t){return __indexOf.call(this._timers,t)>=0?void 0:this._timers.push(t)},e.prototype.removeTimer=function(t){return this._timers=Utils.without(this._timers,t)},e.prototype.resetTimers=function(){return this._timers&&this._timers.map(window.clearTimeout),this._timers=[]},e.define("intervals",{get:function(){return Utils.clone(this._intervals)}}),e.prototype.addInterval=function(t){return __indexOf.call(this._intervals,t)>=0?void 0:this._intervals.push(t)},e.prototype.removeInterval=function(t){return this._intervals=Utils.without(this._intervals,t)},e.prototype.resetIntervals=function(){return this._intervals&&this._intervals.map(window.clearInterval),this._intervals=[]},e.prototype.resetGesture=function(){var t,e,n,i;if(this._views)for(i=this._views,e=0,n=i.length;n>e;e++)t=i[e],t._gestures&&t._gestures.destroy()},e.prototype.freeze=function(){var t,e,n,i,r,o,s,a,u,h;if(null!=this._frozenEvents)throw new Error("Context is already frozen");for(this._frozenEvents={},u=this._views,r=0,s=u.length;s>r;r++){for(e=u[r],i={},h=e.listenerEvents(),o=0,a=h.length;a>o;o++)t=h[o],i[t]=e.listeners(t);e.removeAllListeners(),n=this._views.indexOf(e),this._frozenEvents[n]=i}return this.stopAnimations(),this.resetTimers(),this.resetIntervals()},e.prototype.resume=function(){var t,e,n,i,r,o,s,a,u;if(null==this._frozenEvents)throw new Error("Context is not frozen, cannot resume");u=this._frozenEvents;for(o in u){e=u[o],r=this._views[o];for(t in e)for(i=e[t],s=0,a=i.length;a>s;s++)n=i[s],r.on(t,n)}return delete this._frozenEvents},e.prototype._createDOMEventManager=function(){return this.domEventManager&&this.domEventManager.reset(),this.domEventManager=new DOMEventManager},e.prototype._createRootElement=function(){return this._destroyRootElement(),this._element=document.createElement("div"),this._element.id="OrbeRoot",this._element.setAttribute("name",this._name),this._element.style.perspective=this.perspective,this._element.style.backgroundColor=this.backgroundColor,this.__pendingElementAppend=function(t){return function(){var e,n;return e=null!=(n=t._parent)?n._element:void 0,null==e&&(e=document.body),e.appendChild(t._element)}}(this),Utils.domComplete(this.__pendingElementAppend)},e.prototype._destroyRootElement=function(){return this._element&&this._element.parentNode&&this._element.parentNode.removeChild(this._element),this.__pendingElementAppend&&(Utils.domCompleteCancel(this.__pendingElementAppend),this.__pendingElementAppend=void 0),this._element=void 0},e.define("width",{get:function(){return null!=this.parent?this.parent.width:window.innerWidth}}),e.define("height",{get:function(){return null!=this.parent?this.parent.height:window.innerHeight}}),e.define("frame",{get:function(){return{x:0,y:0,width:this.width,height:this.height}}}),e.define("size",{get:function(){return Utils.pick(this.frame,["width","height"])}}),e.define("point",{get:function(){return Utils.pick(this.frame,["x","y"])}}),e.define("canvasFrame",{get:function(){return null==this.parent?this.frame:this.parent.canvasFrame}}),e.define("backgroundColor",{get:function(){return Color.isColor(this._backgroundColor)?this._backgroundColor:"transparent"},set:function(t){var e;return Color.isColor(t)?(this._backgroundColor=t,null!=(e=this._element)?e.style.backgroundColor=new Color(t.toString()):void 0):void 0}}),e.define("perspective",{get:function(){return this._perspective},set:function(t){var e;return Utils.isNumber(t)?(this._perspective=t,null!=(e=this._element)?e.style.perspective=this._perspective:void 0):void 0}}),e.prototype._updatePerspective=function(){var t;return null!=(t=this._element)?t.style.perspectiveOrigin=""+100*this.perspectiveOriginX+"% "+100*this.perspectiveOriginY+"%":void 0},e.define("perspectiveOriginX",{get:function(){return Utils.isNumber(this._perspectiveOriginX)?this._perspectiveOriginX:.5},set:function(t){return Utils.isNumber(t)?(this._perspectiveOriginX=t,this._updatePerspective()):void 0}}),e.define("perspectiveOriginY",{get:function(){return Utils.isNumber(this._perspectiveOriginY)?this._perspectiveOriginY:.5},set:function(t){return Utils.isNumber(t)?(this._perspectiveOriginY=t,this._updatePerspective()):void 0}}),e.prototype.toInspect=function(){var t;return t=function(t){return parseInt(t)===t?parseInt(t):Utils.round(t,1)},"<Context id:"+this.id+" name:"+this._name+" "+t(this.width)+"x"+t(this.height)+">"},e}(Element);var libhusl;(function(){var t,e,n,i,r,o,s,a,u,h,l,p,c,d,f,_,g,m,v;p={R:[3.2409699419045213,-1.5373831775700935,-.4986107602930033],G:[-.9692436362808798,1.8759675015077206,.04155505740717561],B:[.05563007969699361,-.20397695888897657,1.0569715142428786]},c={X:[.4123907992659595,.35758433938387796,.1804807884018343],Y:[.21263900587151036,.7151686787677559,.07219231536073371],Z:[.01933081871559185,.11919477979462599,.9505321522496606]},_=.19783000664283681,g=.468319994938791,h=903.2962962962963,o=.008856451679035631,a=function(t){var e,n,i,r,s,a,u,l,c,d,f,_,g,m,v,y,w,b;for(m=Math.pow(t+16,3)/1560896,v=m>o?m:t/h,g=[],d=["R","G","B"],i=0,s=d.length;s>i;i++)for(n=d[i],f=p[n],u=f[0],l=f[1],c=f[2],_=[0,1],r=0,a=_.length;a>r;r++)y=_[r],w=(284517*u-94839*c)*v,b=(838422*c+769860*l+731718*u)*t*v-769860*y*t,e=(632260*c-126452*l)*v+126452*y,g.push([w/e,b/e]);return g},u=function(t,e){return(t[1]-e[1])/(e[0]-t[0])},i=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2))},l=function(t,e){var n,i,r;return r=e[0],n=e[1],i=n/(Math.sin(t)-r*Math.cos(t)),0>i?null:i},f=function(t){var e,n,r,o,s,h,l,p;for(o=[],h=a(t),n=0,r=h.length;r>n;n++)l=h[n],s=l[0],e=l[1],p=u([s,e],[-1/s,0]),o.push(i([p,e+p*s]));return Math.min.apply(Math,o)},d=function(t,e){var n,i,r,o,s,u,h;for(n=e/360*Math.PI*2,s=[],h=a(t),i=0,o=h.length;o>i;i++)u=h[i],r=l(n,u),null!==r&&s.push(r);return Math.min.apply(Math,s)},r=function(t,e){var n,i,r,o;for(o=0,n=i=0,r=t.length-1;r>=0?r>=i:i>=r;n=r>=0?++i:--i)o+=t[n]*e[n];return o},s=function(t){return.0031308>=t?12.92*t:1.055*Math.pow(t,1/2.4)-.055},v=function(t){var e;return e=.055,t>.04045?Math.pow((t+e)/(1+e),2.4):t/12.92},n={xyz:{},luv:{},lch:{},husl:{},huslp:{},rgb:{},hex:{}},n.xyz.rgb=function(t){var e,n,i;return i=s(r(p.R,t)),n=s(r(p.G,t)),e=s(r(p.B,t)),[i,n,e]},n.rgb.xyz=function(t){var e,n,i,o,s,a,u;return i=t[0],n=t[1],e=t[2],u=[v(i),v(n),v(e)],o=r(c.X,u),s=r(c.Y,u),a=r(c.Z,u),[o,s,a]},e=function(t){return o>=t?t*h:116*Math.pow(t,1/3)-16},t=function(t){return 8>=t?t/h:Math.pow((t+16)/116,3)},n.xyz.luv=function(t){var n,i,r,o,s,a,u,h;return o=t[0],s=t[1],a=t[2],0===s?[0,0,0]:(n=e(s),u=4*o/(o+15*s+3*a),h=9*s/(o+15*s+3*a),i=13*n*(u-_),r=13*n*(h-g),[n,i,r])},n.luv.xyz=function(e){var n,i,r,o,s,a,u,h;return n=e[0],i=e[1],r=e[2],0===n?[0,0,0]:(u=i/(13*n)+_,h=r/(13*n)+g,s=t(n),o=0-9*s*u/((u-4)*h-u*h),a=(9*s-15*h*s-h*o)/(3*h),[o,s,a])},n.luv.lch=function(t){var e,n,i,r,o,s;return r=t[0],o=t[1],s=t[2],e=Math.sqrt(Math.pow(o,2)+Math.pow(s,2)),1e-8>e?n=0:(i=Math.atan2(s,o),n=360*i/2/Math.PI,0>n&&(n=360+n)),[r,e,n]},n.lch.luv=function(t){var e,n,i,r,o,s;return r=t[0],e=t[1],n=t[2],i=n/360*2*Math.PI,o=Math.cos(i)*e,s=Math.sin(i)*e,[r,o,s]},n.husl.lch=function(t){var e,n,i,r,o;return n=t[0],r=t[1],i=t[2],i>99.9999999||1e-8>i?e=0:(o=d(i,n),e=o/100*r),[i,e,n]},n.lch.husl=function(t){var e,n,i,r,o;return i=t[0],e=t[1],n=t[2],i>99.9999999||1e-8>i?r=0:(o=d(i,n),r=e/o*100),[n,r,i]},n.huslp.lch=function(t){var e,n,i,r,o;return n=t[0],r=t[1],i=t[2],i>99.9999999||1e-8>i?e=0:(o=f(i),e=o/100*r),[i,e,n]},n.lch.huslp=function(t){var e,n,i,r,o;return i=t[0],e=t[1],n=t[2],i>99.9999999||1e-8>i?r=0:(o=f(i),r=e/o*100),[n,r,i]},n.rgb.hex=function(t){var e,n,i,r;for(n="#",i=0,r=t.length;r>i;i++){if(e=t[i],e=Math.round(1e6*e)/1e6,0>e||e>1)throw new Error("Illegal rgb value: "+e);e=Math.round(255*e).toString(16),1===e.length&&(e="0"+e),n+=e}return n},n.hex.rgb=function(t){var e,n,i,r,o,s,a,u;for("#"===t.charAt(0)&&(t=t.substring(1,7)),s=t.substring(0,2),n=t.substring(2,4),e=t.substring(4,6),a=[s,n,e],u=[],i=0,r=a.length;r>i;i++)o=a[i],u.push(parseInt(o,16)/255);return u},n.lch.rgb=function(t){return n.xyz.rgb(n.luv.xyz(n.lch.luv(t)))},n.rgb.lch=function(t){return n.luv.lch(n.xyz.luv(n.rgb.xyz(t)))},n.husl.rgb=function(t){return n.lch.rgb(n.husl.lch(t))},n.rgb.husl=function(t){return n.lch.husl(n.rgb.lch(t))},n.huslp.rgb=function(t){return n.lch.rgb(n.huslp.lch(t))},n.rgb.huslp=function(t){return n.lch.huslp(n.rgb.lch(t))},m={},m.fromRGB=function(t,e,i){return n.rgb.husl([t,e,i])},m.fromHex=function(t){return n.rgb.husl(n.hex.rgb(t))},m.toRGB=function(t,e,i){return n.husl.rgb([t,e,i])},m.toHex=function(t,e,i){return n.rgb.hex(n.husl.rgb([t,e,i]))},m.p={},m.p.toRGB=function(t,e,i){return n.xyz.rgb(n.luv.xyz(n.lch.luv(n.huslp.lch([t,e,i]))))},m.p.toHex=function(t,e,i){return n.rgb.hex(n.xyz.rgb(n.luv.xyz(n.lch.luv(n.huslp.lch([t,e,i])))))},m.p.fromRGB=function(t,e,i){return n.lch.huslp(n.luv.lch(n.xyz.luv(n.rgb.xyz([t,e,i]))))},m.p.fromHex=function(t){return n.lch.huslp(n.luv.lch(n.xyz.luv(n.rgb.xyz(n.hex.rgb(t)))))},m._conv=n,m._getBounds=a,m._maxChromaForLH=d,m._maxSafeChromaForL=f,libhusl=m}).call(this),function(t){function e(t){return"[object Function]"==Object.prototype.toString.call(t)}function n(t){return"[object Array]"==Object.prototype.toString.call(t)}function i(t,e){var n=/^\w+\:\/\//;return/^\/\/\/?/.test(t)?t=location.protocol+t:n.test(t)||"/"==t.charAt(0)||(t=(e||"")+t),n.test(t)?t:("/"==t.charAt(0)?y:v)+t}function r(t,e){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function o(t){for(var e=!1,n=0;n<t.scripts.length;n++)t.scripts[n].ready&&t.scripts[n].exec_trigger&&(e=!0,t.scripts[n].exec_trigger(),t.scripts[n].exec_trigger=null);return e}function s(t,e,n,i){t.onload=t.onreadystatechange=function(){t.readyState&&"complete"!=t.readyState&&"loaded"!=t.readyState||e[n]||(t.onload=t.onreadystatechange=null,i())}}function a(t){t.ready=t.finished=!0;for(var e=0;e<t.finished_listeners.length;e++)t.finished_listeners[e]();t.ready_listeners=[],t.finished_listeners=[]}function u(t,e,n,i,r){setTimeout(function(){var o,a,u=e.real_src;if("item"in w){if(!w[0])return void setTimeout(arguments.callee,25);w=w[0]}o=document.createElement("script"),e.type&&(o.type=e.type),e.charset&&(o.charset=e.charset),r?A?(t[_]&&E("start script preload: "+u),n.elem=o,U?(o.preload=!0,o.onpreload=i):o.onreadystatechange=function(){"loaded"==o.readyState&&i()},o.src=u):r&&0==u.indexOf(y)&&t[p]?(a=new XMLHttpRequest,t[_]&&E("start script preload (xhr): "+u),a.onreadystatechange=function(){4==a.readyState&&(a.onreadystatechange=function(){},n.text=a.responseText+"\n//@ sourceURL="+u,i())},a.open("GET",u),a.send()):(t[_]&&E("start script preload (cache): "+u),o.type="text/cache-script",s(o,n,"ready",function(){w.removeChild(o),i()}),o.src=u,w.insertBefore(o,w.firstChild)):k?(t[_]&&E("start script load (ordered async): "+u),o.async=!1,s(o,n,"finished",i),o.src=u,w.insertBefore(o,w.firstChild)):(t[_]&&E("start script load: "+u),s(o,n,"finished",i),o.src=u,w.insertBefore(o,w.firstChild))},0)}function h(){function v(t,e,n){function i(){null!=r&&(r=null,a(n))}var r;T[e.src].finished||(t[d]||(T[e.src].finished=!0),r=n.elem||document.createElement("script"),e.type&&(r.type=e.type),e.charset&&(r.charset=e.charset),s(r,n,"finished",i),n.elem?n.elem=null:n.text?(r.onload=r.onreadystatechange=null,r.text=n.text):r.src=e.real_src,w.insertBefore(r,w.firstChild),n.text&&i())}function y(t,e,n,r){var o,s,h=function(){e.ready_cb(e,function(){v(t,e,o)})},l=function(){e.finished_cb(e,n)};e.src=i(e.src,t[g]),e.real_src=e.src+(t[f]?(/\?.*$/.test(e.src)?"&_":"?_")+~~(1e9*Math.random())+"=":""),T[e.src]||(T[e.src]={items:[],finished:!1}),s=T[e.src].items,t[d]||0==s.length?(o=s[s.length]={ready:!1,finished:!1,ready_listeners:[h],finished_listeners:[l]},u(t,e,o,r?function(){o.ready=!0;for(var t=0;t<o.ready_listeners.length;t++)o.ready_listeners[t]();o.ready_listeners=[]}:function(){a(o)},r)):(o=s[0],o.finished?l():o.finished_listeners.push(l))}function b(){function t(t,e){l[_]&&E("script preload finished: "+t.real_src),t.ready=!0,t.exec_trigger=e,s()}function i(t,e){l[_]&&E("script execution finished: "+t.real_src),t.ready=t.finished=!0,t.exec_trigger=null;for(var n=0;n<e.scripts.length;n++)if(!e.scripts[n].finished)return;e.finished=!0,s()}function s(){for(;d<p.length;)if(e(p[d])){l[_]&&E("$LAB.wait() executing: "+p[d]);try{p[d++]()}catch(t){l[m](t),l[_]&&x("$LAB.wait() error caught: ",t)}}else{if(!p[d].finished){if(o(p[d]))continue;break}d++}d==p.length&&(f=!1,h=!1)}function a(){h&&h.scripts||p.push(h={scripts:[],finished:!0})}var u,h,l=r(U,{}),p=[],d=0,f=!1;return u={script:function(){for(var o=0;o<arguments.length;o++)!function(o,s){var p;n(o)||(s=[o]);for(var d=0;d<s.length;d++)a(),o=s[d],e(o)&&(o=o()),o&&(n(o)?(p=[].slice.call(o),p.unshift(d,1),[].splice.apply(s,p),d--):("string"==typeof o&&(o={src:o}),o=r(o,{ready:!1,ready_cb:t,finished:!1,finished_cb:i}),h.finished=!1,h.scripts.push(o),y(l,o,h,k&&f),f=!0,l[c]&&u.wait()))}(arguments[o],arguments[o]);return u},wait:function(){if(arguments.length>0){for(var t=0;t<arguments.length;t++)p.push(arguments[t]);h=p[p.length-1]}else h=!1;return s(),u}},{script:u.script,wait:u.wait,setOptions:function(t){return r(t,l),u}}}var S,U={},k=A||C,P=[],T={};return U[p]=!0,U[c]=!1,U[d]=!1,U[f]=!1,U[_]=!1,U[g]="",U[m]=function(t){},S={setGlobalDefaults:function(t){return r(t,U),S},setOptions:function(){return b().setOptions.apply(null,arguments)},script:function(){return b().script.apply(null,arguments)},wait:function(){return b().wait.apply(null,arguments)},queueScript:function(){return P[P.length]={type:"script",args:[].slice.call(arguments)},S},queueWait:function(){return P[P.length]={type:"wait",args:[].slice.call(arguments)},S},runQueue:function(){for(var t,e=S,n=P.length,i=n;--i>=0;)t=P.shift(),e=e[t.type].apply(null,t.args);return e},noConflict:function(){return t.$LAB=l,S},sandbox:function(){return h()}}}var l=t.$LAB,p="UseLocalXHR",c="AlwaysPreserveOrder",d="AllowDuplicates",f="CacheBust",_="Debug",g="BasePath",m="ErrorHandler",v=/^[^?#]*\//.exec(location.href)[0],y=/^\w+\:\/\/\/?[^\/]+/.exec(v)[0],w=document.head||document.getElementsByTagName("head"),b=t.opera&&"[object Opera]"==Object.prototype.toString.call(t.opera)||"MozAppearance"in document.documentElement.style,E=function(){},x=E,S=document.createElement("script"),U="boolean"==typeof S.preload,A=U||S.readyState&&"uninitialized"==S.readyState,k=!A&&S.async===!0,C=!A&&!k&&!b;t.console&&t.console.log&&(t.console.error||(t.console.error=t.console.log),E=function(e){t.console.log(e)},x=function(e,n){t.console.error(e,n)}),t.$LAB=h(),function(t,e,n){null==document.readyState&&document[t]&&(document.readyState="loading",document[t](e,n=function(){document.removeEventListener(e,n,!1),document.readyState="complete"},!1))}("addEventListener","DOMContentLoaded")}(this);var Color,ColorModel,ColorType,bound01,color,convertToPercentage,correctAlpha,cssNames,hslToRgb,inputData,isNumeric,isOnePointZero,isPercentage,matchers,numberFromString,pad2,percentToFraction,rgb,rgbToHex,rgbToHsl,rgbToRgb,rgba,rgbaFromHusl,stringToObject,__bind=function(t,e){return function(){return t.apply(e,arguments)}},__hasProp={}.hasOwnProperty,__extends=function(t,e){function n(){this.constructor=t}for(var i in e)__hasProp.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};rgb=function(t,e,n){return"rgb("+t+", "+e+", "+n+")"},rgba=function(t,e,n,i){return"rgba("+t+", "+e+", "+n+", "+i+")"},ColorType={RGB:"rgb",HSL:"hsl",HEX:"hex",NAME:"name"},Color=function(t){function e(t,n,i,r){var o;return this.color=t,this.toInspect=__bind(this.toInspect,this),""===this.color&&(this.color=null),t=this.color,e.isColorObject(t)?t:(o=inputData(t,n,i,r),this._type=o.type,this._r=o.r,this._g=o.g,this._b=o.b,this._a=o.a,this._h=o.h,this._s=o.s,this._l=o.l,void(this._roundA=Math.round(100*this._a)/100))}return __extends(e,t),e.define("r",{get:function(){return this._r}}),e.define("g",{get:function(){return this._g}}),e.define("b",{get:function(){return this._b}}),e.define("a",{get:function(){return this._a}}),e.define("h",{get:function(){return this._h}}),e.define("s",{get:function(){return this._s}}),e.define("l",{get:function(){return this._l}}),e.prototype.toHex=function(t){return rgbToHex(this._r,this._g,this._b,t)},e.prototype.toHexString=function(t){return"#"+this.toHex(t)},e.prototype.toRgb=function(){return void 0===this._rgb&&(this._rgb={r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}),this._rgb},e.prototype.toRgbString=function(){return 1===this._a?"rgb("+Utils.round(this._r,0)+", "+Utils.round(this._g,0)+", "+Utils.round(this._b,0)+")":"rgba("+Utils.round(this._r,0)+", "+Utils.round(this._g,0)+", "+Utils.round(this._b,0)+", "+this._roundA+")"},e.prototype.toHsl=function(){return void 0===this._hsl&&(this._hsl={h:this.h,s:this.s,l:this.l,a:this.a}),this._hsl},e.prototype.toHusl=function(){var t,e;return void 0===this._husl&&(t=libhusl._conv,e=t.lch.husl(t.luv.lch(t.xyz.luv(t.rgb.xyz([this.r/255,this.g/255,this.b/255])))),this._husl={h:e[0],s:e[1],l:e[2]}),this._husl},e.prototype.toHslString=function(){var t,e,n,i;return void 0===this._hslString&&(e=this.toHsl(),t=Math.round(e.h),i=Math.round(100*e.s),n=Math.round(100*e.l),1===this._a?this._hslString="hsl("+t+", "+i+"%, "+n+"%)":this._hslString="hsla("+t+", "+i+"%, "+n+"%, "+this._roundA+")"),this._hslString},e.prototype.toName=function(){var t,e,n,i,r,o;if(0===this._a)return"transparent";if(this._a<1)return!1;for(t=rgbToHex(this._r,this._g,this._b,!0),o=Utils.keys(cssNames),i=0,r=o.length;r>i;i++)if(e=o[i],n=cssNames[e],n===t)return e;return!1},e.prototype.lighten=function(t){var n;return null==t&&(t=10),n=this.toHsl(),n.l+=t/100,n.l=Math.min(1,Math.max(0,n.l)),new e(n)},e.prototype.brighten=function(t){return null==t&&(t=10),rgb=this.toRgb(),rgb.r=Math.max(0,Math.min(255,rgb.r-Math.round(255*-(t/100)))),rgb.g=Math.max(0,Math.min(255,rgb.g-Math.round(255*-(t/100)))),rgb.b=Math.max(0,Math.min(255,rgb.b-Math.round(255*-(t/100)))),new e(rgb)},e.prototype.darken=function(t){var n;return null==t&&(t=10),n=this.toHsl(),n.l-=t/100,n.l=Math.min(1,Math.max(0,n.l)),new e(n)},e.prototype.desaturate=function(t){var n;return null==t&&(t=10),n=this.toHsl(),n.s-=t/100,n.s=Math.min(1,Math.max(0,n.s)),new e(n)},e.prototype.saturate=function(t){var n;return null==t&&(t=10),n=this.toHsl(),n.s+=t/100,n.s=Math.min(1,Math.max(0,n.s)),new e(n)},e.prototype.grayscale=function(){var t;return t=this.toHsl(),new e(t).desaturate(100)},e.prototype.toString=function(){return this.toRgbString()},e.prototype.isEqual=function(t){return e.equal(this,t)},e.prototype.transparent=function(){var t;return t=new e({r:this.r,g:this.g,b:this.b,a:0})},e.prototype.mix=function(t,n,i,r){return null==i&&(i=!1),e.mix(this,t,n,i,r)},e.prototype.toInspect=function(){return this._type===ColorType.HSL?"<Color h:"+this.h+" s:"+this.s+" l:"+this.l+" a:"+this.a+">":this._type===ColorType.HEX||this._type===ColorType.NAME?'<Color "'+this.color+'">':"<Color r:"+this.r+" g:"+this.g+" b:"+this.b+" a:"+this.a+">"},e.mix=function(t,n,i,r,o){var s,a,u,h,l,p,c;return null==i&&(i=.5),null==r&&(r=!1),l=null,"string"==typeof t&&this.isColorString(t)&&(t=new e(t)),"string"==typeof n&&this.isColorString(n)&&(n=new e(n)),!(t instanceof e)&&n instanceof e?t=n.transparent():t instanceof e&&0===t._a&&n instanceof e&&0!==n._a?t=n.transparent():!(n instanceof e)&&t instanceof e?n=t.transparent():n instanceof e&&0===n._a&&t instanceof e&&0!==t._a&&(n=t.transparent()),n instanceof e&&(ColorModel.isRGB(o)?l=new e({r:Utils.modulate(i,[0,1],[t._r,n._r],r),g:Utils.modulate(i,[0,1],[t._g,n._g],r),b:Utils.modulate(i,[0,1],[t._b,n._b],r),a:Utils.modulate(i,[0,1],[t._a,n._a],r)}):(ColorModel.isHSL(o)?(u=t.toHsl(),h=n.toHsl()):(u=t.toHusl(),h=n.toHusl()),0===u.s?u.h=h.h:0===h.s&&(h.h=u.h),a=u.h,p=h.h,s=p-a,s>180?s=p-360-a:-180>s&&(s=p+360-a),c={h:Utils.modulate(i,[0,1],[a,a+s],r),s:Utils.modulate(i,[0,1],[u.s,h.s],r),l:Utils.modulate(i,[0,1],[u.l,h.l],r),a:Utils.modulate(i,[0,1],[t.a,n.a],r)},l=new e(ColorModel.isHSL(o)?c:rgbaFromHusl(c)))),l},e.random=function(t){var n;return null==t&&(t=1),n=function(){return parseInt(255*Math.random())},new e("rgba("+n()+", "+n()+", "+n()+", "+t+")")},e.toColor=function(t){return"inherit"===t?t:t.color&&Utils.isString(t.color)&&-1!==t.color.indexOf("gradient")?t.color:new e(t)},e.validColorValue=function(t){return t instanceof e||null===t},e.isColor=function(t){return Utils.isString(t)?this.isColorString(t):this.isColorObject(t)},e.isColorObject=function(t){return t instanceof e},e.isColorString=function(t){return Utils.isString(t)?stringToObject(t)!==!1:!1},e.equal=function(t,n){return(this.validColorValue(t)||e.isColorString(t))&&(this.validColorValue(n)||e.isColorString(n))?(t=new e(t),n=new e(n),t.r!==n.r?!1:t.g!==n.g?!1:t.b!==n.b?!1:t.a!==n.a?!1:!0):!1},e.rgbToHsl=function(t,e,n){return rgbToHsl(t,e,n)},e.gradient=function(){var t,n,i,r,o,s,a,u,h,l,p;for(n=arguments,s="to bottom",r=[],a="",o=0,u=0,l=n.length;l>u;u++)t=n[u],"string"==typeof t&&this.isColorString(t)?(t=new e(t),r.push(t)):"transparent"===t||"clear"===t?(t=new e,t=t.transparent(),r.push(t)):s=Utils.isNumber(t)?t+"deg":-1===t.indexOf("deg")?"to "+t:t,o++;for(o=0,h=0,p=r.length;p>h;h++)i=r[h],a+=i.toString(),o!==r.length-1&&(a+=", "),o++;return{color:"linear-gradient("+s+", "+a+")"}},e}(Element),ColorModel={RGB:"rgb",RGBA:"rgba",HSL:"hsl",HSLA:"hsla"},ColorModel.isRGB=function(t){var e;return Utils.isString(t)?(e=t.toLowerCase())===ColorModel.RGB||e===ColorModel.RGBA:!1},ColorModel.isHSL=function(t){var e;return Utils.isString(t)?(e=t.toLowerCase())===ColorModel.HSL||e===ColorModel.HSLA:!1},rgbaFromHusl=function(t){var e;return e=libhusl._conv,rgb=e.xyz.rgb(e.luv.xyz(e.lch.luv(e.husl.lch([t.h,t.s,t.l])))),rgba={r:255*rgb[0],g:255*rgb[1],b:255*rgb[2],a:t.a}},inputData=function(t,e,n,i){var r,o,s,a,u,h,l;return rgb={r:0,g:0,b:0},s={h:0,s:0,l:0},r=1,u=!1,l=ColorType.RGB,null===t?r=0:Utils.isNumber(t)?(rgb.r=t,Utils.isNumber(e)&&(rgb.g=e),Utils.isNumber(n)&&(rgb.b=n),Utils.isNumber(i)&&(r=i)):("string"==typeof t&&(t=stringToObject(t),t||(t={r:0,g:0,b:0,a:0}),t.hasOwnProperty("type")&&(l=t.type)),"object"==typeof t&&(t.hasOwnProperty("r")||t.hasOwnProperty("g")||t.hasOwnProperty("b")?rgb=rgbToRgb(t.r,t.g,t.b):(t.hasOwnProperty("h")||t.hasOwnProperty("s")||t.hasOwnProperty("l"))&&(o=isNumeric(t.h)?parseFloat(t.h):0,o=(o+360)%360,h=isNumeric(t.s)?t.s:1,Utils.isString(t.s)&&(h=numberFromString(t.s)),a=isNumeric(t.l)?t.l:.5,Utils.isString(t.l)&&(a=numberFromString(t.l)),rgb=hslToRgb(o,h,a),l=ColorType.HSL,s={h:o,s:h,l:a}),t.hasOwnProperty("a")&&(r=t.a))),r=correctAlpha(r),l!==ColorType.HSL&&(s=rgbToHsl(rgb.r,rgb.g,rgb.b)),{type:l,r:Math.min(255,Math.max(rgb.r,0)),g:Math.min(255,Math.max(rgb.g,0)),b:Math.min(255,Math.max(rgb.b,0)),h:Utils.clamp(s.h,0,360),s:Utils.clamp(s.s,0,1),l:Utils.clamp(s.l,0,1),
a:r}},numberFromString=function(t){return t.match(/\d+/)[0]},rgbToRgb=function(t,e,n){return{r:isNumeric(t)?255*bound01(t,255):0,g:isNumeric(e)?255*bound01(e,255):0,b:isNumeric(n)?255*bound01(n,255):0}},rgbToHex=function(t,e,n,i){var r;return r=[pad2(Math.round(t).toString(16)),pad2(Math.round(e).toString(16)),pad2(Math.round(n).toString(16))],i&&r[0].charAt(0)===r[0].charAt(1)&&r[1].charAt(0)===r[1].charAt(1)&&r[2].charAt(0)===r[2].charAt(1)?r[0].charAt(0)+r[1].charAt(0)+r[2].charAt(0):r.join("")},rgbToHsl=function(t,e,n){var i,r,o,s,a,u;if(t=bound01(t,255),e=bound01(e,255),n=bound01(n,255),s=Math.max(t,e,n),a=Math.min(t,e,n),r=u=o=(s+a)/2,s===a)r=u=0;else{switch(i=s-a,u=o>.5?i/(2-s-a):i/(s+a),s){case t:r=(e-n)/i+(n>e?6:0);break;case e:r=(n-t)/i+2;break;case n:r=(t-e)/i+4}r/=6}return{h:360*r,s:u,l:o}},hslToRgb=function(t,e,n){var i,r,o,s,a,u;return u=void 0,r=void 0,i=void 0,t=bound01(t,360),e=bound01(100*e,100),n=bound01(100*n,100),o=function(t,e,n){return 0>n&&(n+=1),n>1&&(n-=1),1/6>n?t+6*(e-t)*n:.5>n?e:2/3>n?t+(e-t)*(2/3-n)*6:t},0===e?u=r=i=n:(a=.5>n?n*(1+e):n+e-n*e,s=2*n-a,u=o(s,a,t+1/3),r=o(s,a,t),i=o(s,a,t-1/3)),{r:255*u,g:255*r,b:255*i}},convertToPercentage=function(t){return 1>=t&&(t=100*t+"%"),t},correctAlpha=function(t){return t=parseFloat(t),0>t&&(t=0),(isNaN(t)||t>1)&&(t=1),t},bound01=function(t,e){var n;return isOnePointZero(t)&&(t="100%"),n=isPercentage(t),t=Math.min(e,Math.max(0,parseFloat(t))),n&&(t=parseInt(t*e,10)/100),Math.abs(t-e)<1e-6?1:t%e/parseFloat(e)},isOnePointZero=function(t){return"string"==typeof t&&-1!==t.indexOf(".")&&1===parseFloat(t)},isPercentage=function(t){return"string"==typeof t&&-1!==t.indexOf("%")},pad2=function(t){return 1===t.length?"0"+t:""+t},matchers=function(){var t,e,n,i,r;return t="[-\\+]?\\d+%?",e="[-\\+]?\\d*\\.\\d+%?",n="(?:"+e+")|(?:"+t+")",i="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?",r="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?",{rgb:new RegExp("rgb"+i),rgba:new RegExp("rgba"+r),hsl:new RegExp("hsl"+i),hsla:new RegExp("hsla"+r),hex3:/^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}(),isNumeric=function(t){return!isNaN(t)&&isFinite(t)},percentToFraction=function(t){return numberFromString(t)/100},stringToObject=function(t){var e,n,i,r;if(i=/^[\s,#]+/,r=/\s+$/,t=t.replace(i,"").replace(r,"").toLowerCase(),n=!1,cssNames[t])t=cssNames[t],n=!0,{type:ColorType.NAME};else if("transparent"===t)return{r:0,g:0,b:0,a:0,type:ColorType.NAME};return e=void 0,(e=matchers.rgb.exec(t))?{r:e[1],g:e[2],b:e[3]}:(e=matchers.rgba.exec(t))?{r:e[1],g:e[2],b:e[3],a:e[4]}:(e=matchers.hsl.exec(t))?{h:e[1],s:percentToFraction(e[2]),l:percentToFraction(e[3])}:(e=matchers.hsla.exec(t))?{h:e[1],s:percentToFraction(e[2]),l:percentToFraction(e[3]),a:e[4]}:(e=matchers.hex6.exec(t)||(e=matchers.hex6.exec(cssNames[t])))?{r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16),a:1,type:ColorType.HEX}:(e=matchers.hex3.exec(t)||(e=matchers.hex3.exec(cssNames[t])))?{r:parseInt(e[1]+""+e[1],16),g:parseInt(e[2]+""+e[2],16),b:parseInt(e[3]+""+e[3],16),type:ColorType.HEX}:!1},cssNames={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"};for(color in cssNames)Color[color]="#"+cssNames[color];for(color in cssNames)window[color]="#"+cssNames[color];window.clear="clear",window.transparent="transparent";var SessionStore,Store;Store={set:function(t,e){var n;try{localStorage.setItem(t,JSON.stringify(e))}catch(i){n=i,console.warn("Error, Store not available.")}},get:function(t){var e;try{return JSON.parse(localStorage.getItem(t))}catch(n){return e=n,console.warn("Error, Store not available.")}},remove:function(t){var e;try{localStorage.removeItem(t)}catch(n){e=n,console.warn("Error, Store not available.")}}},SessionStore={set:function(t,e){var n;try{sessionStorage.setItem(t,JSON.stringify(e))}catch(i){n=i,console.warn("Error, Store not available.")}},get:function(t){var e;try{return JSON.parse(sessionStorage.getItem(t))}catch(n){return e=n,console.warn("Error, Store not available.")}},remove:function(t){var e;try{sessionStorage.removeItem(t)}catch(n){e=n,console.warn("Error, Store not available.")}}};var Cookie;Cookie={set:function(t,e,n){var i,r,o,s,a;o=new Date,o.setTime(o.getTime()+-864e5),a="expires="+o.toUTCString(),document.cookie=t+"=; "+a+"; path=/",void 0===n&&(n=365),s=new Date,s.setDate(s.getDate()+n),r=encodeURI(e)+(null===n?"":"; expires="+s.toUTCString()),i=t+"="+r+";path=/",document.cookie=i},get:function(t){var e,n,i,r,o;for(r=t+"=",n=document.cookie.split(";"),i=0;i<n.length;){for(e=n[i];" "===e.charAt(0);)e=e.substring(1);if(0===e.indexOf(r))return o=decodeURI(e.substring(r.length,e.length)),("false"===o||"true"===o)&&(o=JSON.parse(o)),o;i++}},remove:function(t){var e,n;e=new Date,e.setTime(e.getTime()+-864e5),n="expires="+e.toUTCString(),document.cookie=t+"=; "+n+"; path=/"}};var DEL,GET,Network,POST,PUT,__hasProp={}.hasOwnProperty,__extends=function(t,e){function n(){this.constructor=t}for(var i in e)__hasProp.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};GET=function(){return 0!==arguments.length?Network._inline("get",arguments):void 0},POST=function(){return 0!==arguments.length?Network._inline("post",arguments):void 0},DEL=function(){return 0!==arguments.length?Network._inline("del",arguments):void 0},PUT=function(){return 0!==arguments.length?Network._inline("put",arguments):void 0},Network=function(t){function e(t){var e,n,i;if(this.url=!1,this.type=!1,this.parameters="",this._parameters={},this.beforeCallback=!1,this.thenCallback=!1,this.successCallback=!1,this.errorCallback=!1,this.files=!1,this.username="",this.password="",this.response={},this.async=!0,void 0!==t){if(void 0!==t.get?(this.url=t.get,this.type="GET"):void 0!==t.post?(this.url=t.post,this.type="POST"):void 0!==t.put?(this.url=t.put,this.type="PUT"):void 0!==t.del?(this.url=t.del,this.type="DELETE"):void 0!==t["delete"]&&(this.url=t["delete"],this.type="DELETE"),void 0!==t.async&&(this.async=t.async),void 0!==t.parameters){if("object"!=typeof t.parameters)return;this._parameters=t.parameters,this.parameters=Object.keys(t.parameters).map(function(e){return encodeURIComponent(e)+"="+encodeURIComponent(t.parameters[e])}).join("&")}if(void 0!==t.before&&(this.beforeCallback=t.before),void 0!==t.then&&(this.thenCallback=t.then),void 0!==t.success&&(this.successCallback=t.success),void 0!==t.username&&(this.username=t.username),void 0!==t.password&&(this.password=t.password),void 0!==t.error&&(this.errorCallback=t.error),this.url||this.type){if(this.beforeCallback&&this.beforeCallback(),n=new XMLHttpRequest,void 0!==t.files&&(this.files=t.files,i=this,n.upload.addEventListener(Event.Progress,function(t){t.lengthComputable?t.progress=t.loaded/t.total:t.progress=void 0,i.emit(Event.Progress,t)}),n.upload.addEventListener(Event.Loaded,function(t){t.progress=100,i.emit(Event.Load,t)}),n.upload.addEventListener(Event.Error,function(t){i.emit(Event.Error,t)}),n.upload.addEventListener(Event.Abort,function(t){i.emit(Event.Abort,t)})),n.onreadystatechange=function(){var t;if(this.response.state=n.readyState,this.response.status=n.status,4===n.readyState){if(this.response.raw=n.responseText,"2"===n.status.toString()[0]){if(this.successCallback){try{this.response.data=JSON.parse(n.responseText)}catch(e){t=e,this.response.data=n.responseText}this.successCallback(this.response),this.emit(Event.Success,this.response)}}else if(this.errorCallback){if(void 0!==n.responseText)try{this.response.data=JSON.parse(n.responseText)}catch(e){t=e,this.response.data=n.responseText}this.errorCallback(this.response),this.emit(Event.Error,this.response)}this.thenCallback&&this.thenCallback(this.response),this.emit(Event.Response,this.response)}}.bind(this),"GET"===this.type&&""!==this.parameters&&(this.url=this.url+"?"+this.parameters),n.open(this.type,this.url,this.async,this.username,this.password),t=void 0,"GET"!==this.type)if(t=this.parameters,"POST"===this.type&&this.files){t=new FormData;for(e in this._parameters)t.append(e,this._parameters[e]);for(e in this.files)t.append(e,this.files[e])}else n.setRequestHeader("Content-type","application/x-www-form-urlencoded");n.send(t)}}}return __extends(e,t),e.prototype._kind="Network",e.prototype.onSuccess=function(t){return this.on(Event.Success,t)},e.prototype.onError=function(t){return this.on(Event.Error,t)},e.prototype.onResponse=function(t){return this.on(Event.Response,t)},e.prototype.onProgress=function(t){return this.on(Event.Progress,t)},e.prototype.onAbort=function(t){return this.on(Event.Abort,t)},e.prototype.onLoad=function(t){return this.on(Event.Load,t)},e.prototype.onLoaded=function(t){return this.on(Event.Loaded,t)},e.prototype.onDone=function(t){return this.on(Event.Loaded,t)},e}(Element),Network._inline=function(t,e){var n;return n={},Utils.isString(e[0])&&(n[t]=e[0]),e[1]&&Utils.isObject(e[1])&&!Utils.isFunction(e[1])?(n.parameters=e[1],e[2]&&Utils.isFunction(e[2])&&(n.success=e[2],e[3]&&Utils.isFunction(e[3])&&(n.error=e[3]))):e[1]&&Utils.isFunction(e[1])&&(n.success=e[1],e[2]&&Utils.isFunction(e[2])&&(n.error=e[2])),Network(n)};var GestureDoubleTapTime,GestureEdgeSwipeDistance,GestureForceTapDesktop,GestureForceTapMobile,GestureForceTapMobilePollTime,GestureLongPressTime,GestureMinimumFingerDistance,GestureRecognizer,GestureSwipeThreshold,GestureVelocityTime,__bind=function(t,e){return function(){return t.apply(e,arguments)}};GestureLongPressTime=.5,GestureDoubleTapTime=.25,GestureSwipeThreshold=30,GestureEdgeSwipeDistance=30,GestureVelocityTime=.1,GestureForceTapDesktop=MouseEvent.WEBKIT_FORCE_AT_FORCE_MOUSE_DOWN,GestureForceTapMobile=.7,GestureForceTapMobilePollTime=1/30,GestureMinimumFingerDistance=30,GestureRecognizer=function(){function t(){this._process=__bind(this._process,this),this.edgeswipedirectionend=__bind(this.edgeswipedirectionend,this),this.edgeswipedirectionstart=__bind(this.edgeswipedirectionstart,this),this.edgeswipedirection=__bind(this.edgeswipedirection,this),this.swipedirectionend=__bind(this.swipedirectionend,this),this.swipedirection=__bind(this.swipedirection,this),this.swipedirectionstart=__bind(this.swipedirectionstart,this),this.swipeend=__bind(this.swipeend,this),this.swipe=__bind(this.swipe,this),this.swipestart=__bind(this.swipestart,this),this.rotateend=__bind(this.rotateend,this),this.rotate=__bind(this.rotate,this),this.rotatestart=__bind(this.rotatestart,this),this.scaleend=__bind(this.scaleend,this),this.scale=__bind(this.scale,this),this.scalestart=__bind(this.scalestart,this),this.pinchend=__bind(this.pinchend,this),this.pinch=__bind(this.pinch,this),this.pinchstart=__bind(this.pinchstart,this),this.panright=__bind(this.panright,this),this.panleft=__bind(this.panleft,this),this.pandown=__bind(this.pandown,this),this.panup=__bind(this.panup,this),this.panend=__bind(this.panend,this),this.pan=__bind(this.pan,this),this.panstart=__bind(this.panstart,this),this.forcetapend=__bind(this.forcetapend,this),this.forcetapstart=__bind(this.forcetapstart,this),this.forcetapchange=__bind(this.forcetapchange,this),this._updateMacForce=__bind(this._updateMacForce,this),this._updateTouchForce=__bind(this._updateTouchForce,this),this.longpressend=__bind(this.longpressend,this),this.longpressstart=__bind(this.longpressstart,this),this.doubletap=__bind(this.doubletap,this),this.tapend=__bind(this.tapend,this),this.tapstart=__bind(this.tapstart,this),this.tap=__bind(this.tap,this),this.touchend=__bind(this.touchend,this),this.touchmove=__bind(this.touchmove,this),this.touchstart=__bind(this.touchstart,this),this.startTouch=__bind(this.startTouch,this),this.startMouse=__bind(this.startMouse,this),this.em=new DOMEventManager,this.em.wrap(window).addEventListener("mousedown",this.startMouse),this.em.wrap(window).addEventListener("touchstart",this.startTouch)}return t.prototype.destroy=function(){return this.em.removeAllListeners()},t.prototype.cancel=function(){return window.clearTimeout(this.session.pressTimer),this.session=null},t.prototype.startMouse=function(t){return this.session?void 0:(this.em.wrap(window).addEventListener("mousemove",this.touchmove),this.em.wrap(window).addEventListener("mouseup",this.touchend),this.touchstart(t))},t.prototype.startTouch=function(t){return this.session?void 0:(this.em.wrap(window).addEventListener("touchmove",this.touchmove),this.em.wrap(window).addEventListener("touchend",this.touchend),this.touchstart(t))},t.prototype.touchstart=function(t){return this.session?void 0:(this.em.wrap(window).addEventListener("webkitmouseforcechanged",this._updateMacForce),this.session={startEvent:this._getGestureEvent(t),lastEvent:null,startMultiEvent:null,startTime:Date.now(),pressTimer:window.setTimeout(this.longpressstart,1e3*GestureLongPressTime),started:{},events:[],eventCount:0},t=this._getGestureEvent(t),this.tapstart(t),Date.now()-this.doubleTapTime<1e3*GestureDoubleTapTime?this.doubletap(t):this.doubleTapTime=Date.now(),this._process(t),Utils.isTouch()?this._updateTouchForce():void 0)},t.prototype.touchmove=function(t){return this._process(this._getGestureEvent(t))},t.prototype.touchend=function(t){var e,n,i,r;if(null!=t.touches)if(Utils.isTouch()){if(0!==t.touches.length)return}else if(t.touches.length!==t.changedTouches.length)return;this.em.wrap(window).removeEventListener("mousemove",this.touchmove),this.em.wrap(window).removeEventListener("mouseup",this.touchend),this.em.wrap(window).removeEventListener("touchmove",this.touchmove),this.em.wrap(window).removeEventListener("touchend",this.touchend),this.em.wrap(window).addEventListener("webkitmouseforcechanged",this._updateMacForce),t=this._getGestureEvent(t),i=this.session.started;for(e in i)n=i[e],n&&this[""+e+"end"](t);return(null!=(r=this.session)?r.startEvent:void 0)?this.session.startEvent.target===t.target&&this.tap(t):this.tap(t),this.tapend(t),this.cancel()},t.prototype.tap=function(t){return this._dispatchEvent("tap",t)},t.prototype.tapstart=function(t){return this._dispatchEvent("tapstart",t)},t.prototype.tapend=function(t){return this._dispatchEvent("tapend",t)},t.prototype.doubletap=function(t){return this._dispatchEvent("doubletap",t)},t.prototype.longpressstart=function(){var t;if(this.session&&!this.session.started.longpress)return t=this._getGestureEvent(this.session.startEvent),this.session.started.longpress=t,this._dispatchEvent("longpressstart",t),this._dispatchEvent("longpress",t)},t.prototype.longpressend=function(t){return this._dispatchEvent("longpressend",t)},t.prototype._updateTouchForce=function(){var t,e,n;if(null!=(e=this.session)&&null!=(n=e.lastEvent)?n.touches.length:void 0)return this.session.force=this.session.lastEvent.touches[0].force||0,t=this._getGestureEvent(this.session.lastEvent),this.forcetapchange(t),this.session.force>=GestureForceTapMobile?this.forcetapstart(t):this.forcetapend(t),setTimeout(this._updateTouchForce,GestureForceTapMobilePollTime)},t.prototype._updateMacForce=function(t){return this.session?(this.session.force=Utils.modulate(t.webkitForce,[0,3],[0,1]),this.forcetapchange(this._getGestureEvent(t)),t.webkitForce>=GestureForceTapDesktop?this.forcetapstart(t):this.forcetapend(t)):void 0},t.prototype.forcetapchange=function(t){return this._dispatchEvent("forcetapchange",t)},t.prototype.forcetapstart=function(t){return this.session&&!this.session.started.forcetap?(this.session.started.forcetap=t,this._dispatchEvent("forcetapstart",t),this._dispatchEvent("forcetap",t)):void 0},t.prototype.forcetapend=function(t){return this.session&&this.session.started.forcetap?(this.session.started.forcetap=null,this._dispatchEvent("forcetapend",t)):void 0},t.prototype.panstart=function(t){return this.session.started.pan=t,this._dispatchEvent("panstart",t,this.session.started.pan.target)},t.prototype.pan=function(t){var e;return this._dispatchEvent("pan",t,this.session.started.pan.target),e=this._getDirection(t.delta),e?this["pan"+e](t):void 0},t.prototype.panend=function(t){return this._dispatchEvent("panend",t,this.session.started.pan.target),this.session.started.pan=null},t.prototype.panup=function(t){return this._dispatchEvent("panup",t,this.session.started.pan.target)},t.prototype.pandown=function(t){return this._dispatchEvent("pandown",t,this.session.started.pan.target)},t.prototype.panleft=function(t){return this._dispatchEvent("panleft",t,this.session.started.pan.target)},t.prototype.panright=function(t){return this._dispatchEvent("panright",t,this.session.started.pan.target)},t.prototype.pinchstart=function(t){return this.session.started.pinch=t,this.scalestart(t,this.session.started.pinch.target),this.rotatestart(t,this.session.started.pinch.target),this._dispatchEvent("pinchstart",t)},t.prototype.pinch=function(t){return this._dispatchEvent("pinch",t),this.scale(t,this.session.started.pinch.target),this.rotate(t,this.session.started.pinch.target)},t.prototype.pinchend=function(t){return this._dispatchEvent("pinchend",t),this.scaleend(t,this.session.started.pinch.target),this.rotateend(t,this.session.started.pinch.target),this.session.started.pinch=null},t.prototype.scalestart=function(t){return this._dispatchEvent("scalestart",t)},t.prototype.scale=function(t){return this._dispatchEvent("scale",t)},t.prototype.scaleend=function(t){return this._dispatchEvent("scaleend",t)},t.prototype.rotatestart=function(t){return this._dispatchEvent("rotatestart",t)},t.prototype.rotate=function(t){return this._dispatchEvent("rotate",t)},t.prototype.rotateend=function(t){return this._dispatchEvent("rotateend",t)},t.prototype.swipestart=function(t){return this._dispatchEvent("swipestart",t),this.session.started.swipe=t,this.swipedirectionstart(t)},t.prototype.swipe=function(t){return this._dispatchEvent("swipe",t),this.swipedirection(t)},t.prototype.swipeend=function(t){return this._dispatchEvent("swipeend",t)},t.prototype.swipedirectionstart=function(t){var e,n,i,r,o,s,a,u;if(t.offsetDirection&&!this.session.started.swipedirection)return this.session.started.swipedirection=t,e=this.session.started.swipedirection.offsetDirection,this._dispatchEvent("swipe"+e+"start",t),r=this._edgeForSwipeDirection(e),n=Utils.frameGetMaxX(App.frame),i=Utils.frameGetMaxY(App.frame),"top"===r&&0<(o=t.start.y-App.frame.y)&&GestureEdgeSwipeDistance>o&&this.edgeswipedirectionstart(t),"right"===r&&n-GestureEdgeSwipeDistance<(s=t.start.x)&&n>s&&this.edgeswipedirectionstart(t),"bottom"===r&&i-GestureEdgeSwipeDistance<(a=t.start.y)&&i>a&&this.edgeswipedirectionstart(t),"left"===r&&0<(u=t.start.x-App.frame.x)&&GestureEdgeSwipeDistance>u?this.edgeswipedirectionstart(t):void 0},t.prototype.swipedirection=function(t){var e;if(this.session.started.swipedirection)return e=this.session.started.swipedirection.offsetDirection,this._dispatchEvent("swipe"+e,t),this.session.started.edgeswipedirection?this.edgeswipedirection(t):void 0},t.prototype.swipedirectionend=function(t){var e;if(this.session.started.swipedirection)return e=this.session.started.swipedirection.offsetDirection,this._dispatchEvent("swipe"+e+"end",t)},t.prototype.edgeswipedirection=function(t){var e;return e=this._edgeForSwipeDirection(this.session.started.edgeswipedirection.offsetDirection),App.emit("edgeswipe",this._createEvent("edgeswipe",t)),App.emit("edgeswipe"+e,this._createEvent("edgeswipe"+e,t)),this._dispatchEvent("edgeswipe"+e,t)},t.prototype.edgeswipedirectionstart=function(t){var e;if(!this.session.started.edgeswipedirection)return this.session.started.edgeswipedirection=t,e=this._edgeForSwipeDirection(this.session.started.edgeswipedirection.offsetDirection),App.emit("edgeswipestart",this._createEvent("edgeswipestart",t)),App.emit("edgeswipe"+e+"start",this._createEvent("edgeswipe"+e+"start",t))},t.prototype.edgeswipedirectionend=function(t){var e;return e=this._edgeForSwipeDirection(this.session.started.edgeswipedirection.offsetDirection),App.emit("edgeswipeend",this._createEvent("edgeswipeend",t)),App.emit("edgeswipe"+e+"end",this._createEvent("edgeswipe"+e+"end",t))},t.prototype._process=function(t){return this.session?(this.session.events.push(t),t.eventCount=this.session.eventCount++,(Math.abs(t.delta.x)>0||Math.abs(t.delta.y)>0)&&(this.session.started.pan?this.pan(t):this.panstart(t)),this.session.started.pinch&&1===t.fingers?this.pinchend(t):this.session.started.pinch||2!==t.fingers?this.session.started.pinch&&this.pinch(t):this.pinchstart(t),!this.session.started.swipe&&(Math.abs(t.offset.x)>GestureSwipeThreshold||Math.abs(t.offset.y)>GestureSwipeThreshold)?this.swipestart(t):this.session.started.swipe&&this.swipe(t),this.session.lastEvent=t):void 0},t.prototype._getEventPoint=function(t){var e;return(null!=(e=t.touches)?e.length:void 0)?this._getTouchPoint(t,0):{x:t.pageX,y:t.pageY}},t.prototype._getGestureEvent=function(t){var e,n,i,r,o,s,a,u,h,l,p,c,d,f,_,g;for(Utils.extend(t,{time:Date.now(),point:this._getEventPoint(t),start:this._getEventPoint(t),previous:this._getEventPoint(t),offset:{x:0,y:0},offsetTime:0,offsetAngle:0,offsetDirection:null,delta:{x:0,y:0},deltaTime:0,deltaAngle:0,deltaDirection:null,force:0,velocity:{x:0,y:0},fingers:(null!=(a=t.touches)?a.length:void 0)||0,touchCenter:this._getEventPoint(t),touchOffset:{x:0,y:0},touchDistance:0,scale:1,scaleDirection:null,rotation:0}),(null!=(u=this.session)?u.startEvent:void 0)&&(t.start=this.session.startEvent.point,t.offset=Utils.pointSubtract(t.point,t.start),t.offsetTime=t.time-this.session.startEvent.time,t.offsetAngle=Utils.pointAngle(this.session.startEvent.point,t.point),t.offsetDirection=this._getDirection(t.offset),t.touchCenterStart=this.session.startEvent.touchCenter),(null!=(h=this.session)?h.lastEvent:void 0)&&(t.previous=this.session.lastEvent.point,t.deltaTime=t.time-this.session.lastEvent.time,t.delta=Utils.pointSubtract(t.point,this.session.lastEvent.point),t.deltaAngle=Utils.pointAngle(t.point,this.session.lastEvent.point),t.deltaDirection=this._getDirection(t.delta)),t.fingers>1&&(i=this._getTouchPoint(t,0),r=this._getTouchPoint(t,1),t.touchCenter=Utils.pointCenter(r,i),t.touchOffset=Utils.pointSubtract(r,i),t.touchDistance=Utils.max([GestureMinimumFingerDistance,Utils.pointDistance(i,r)]),t.rotation=Utils.pointAngle(i,r)),(null!=(l=this.session)?l.events:void 0)&&(e=this.session.events.filter(function(e){return 0===e.eventCount?!1:e.time>t.time-1e3*GestureVelocityTime}),t.velocity=this._getVelocity(e)),(null!=(p=this.session)?p.started.pinch:void 0)&&(t.scale=t.touchDistance/this.session.started.pinch.touchDistance,t.scaleDirection=this._getScaleDirection(t.scale-this.session.lastEvent.scale),!t.scaleDirection&&(null!=(c=this.session)?c.lastEvent:void 0)&&(t.scaleDirection=this.session.lastEvent.scaleDirection)),(null!=(d=this.session)?d.lastEvent:void 0)&&(t.fingers!==(f=this.session.lastEvent.fingers)&&2===f&&(t.delta={x:0,y:0}),2===t.fingers&&2===this.session.lastEvent.fingers&&(t.delta=Utils.pointSubtract(t.touchCenter,this.session.lastEvent.touchCenter))),(null!=(_=this.session)?_.lastEvent:void 0)&&this.session.force&&(t.force=this.session.force),g=["point","start","previous","offset","delta","velocity","touchCenter","touchOffset"],o=0,s=g.length;s>o;o++)n=g[o],t[""+n+"X"]=t[n].x,t[""+n+"Y"]=t[n].y;return t},t.prototype._getTouchPoint=function(t,e){var n;return n={x:t.touches[e].pageX,y:t.touches[e].pageY}},t.prototype._getDirection=function(t){if(Math.abs(t.x)>Math.abs(t.y)){if(t.x>0)return"right";if(t.x<0)return"left"}if(Math.abs(t.x)<Math.abs(t.y)){if(t.y<0)return"up";if(t.y>0)return"down"}return null},t.prototype._edgeForSwipeDirection=function(t){return"down"===t?"top":"left"===t?"right":"up"===t?"bottom":"right"===t?"left":null},t.prototype._getScaleDirection=function(t){return t>0?"up":0>t?"down":null},t.prototype._createEvent=function(t,e){var n,i,r;i=document.createEvent("MouseEvent"),i.initMouseEvent(t,!0,!0,window,e.detail,e.screenX,e.screenY,e.clientX,e.clientY,e.ctrlKey,e.shiftKey,e.altKey,e.metaKey,e.button,e.relatedTarget),i.touches=e.touches,i.changedTouches=e.touches,i.targetTouches=e.touches;for(n in e)r=e[n],i[n]=r;return i},t.prototype._dispatchEvent=function(t,e,n){var i,r,o;return i=this._createEvent(t,e),null==n&&(n=null!=(r=this.session)&&null!=(o=r.startEvent)?o.target:void 0),null==n&&(n=e.target),n.dispatchEvent(i)},t.prototype._getVelocity=function(t){var e,n,i,r;return t.length<2?{x:0,y:0}:(e=t[t.length-1],n=t[0],i=e.time-n.time,r={x:(e.point.x-n.point.x)/i,y:(e.point.y-n.point.y)/i},r.x===1/0&&(r.x=0),r.y===1/0&&(r.y=0),r)},t}();var Transition,__hasProp={}.hasOwnProperty,__extends=function(t,e){function n(){this.constructor=t}for(var i in e)__hasProp.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};Transition=function(t){function e(t){t.duration&&(t.time=t.duration),t=Defaults.get(this._kind,t),e.__super__.constructor.call(this,t),this.options=Utils.clone(Utils.defaults(t,{properties:{},time:.3,delay:0,view:null,curve:"ease"})),t&&(t.properties?this.options.properties=t.properties:this.options.properties={},t.view&&(this.options.view=t.view),t.duration&&(this.options.duration=t.duration),t.delay&&(this.options.delay=t.delay),t.curve&&(this.options.curve=t.curve))}return __extends(e,t),e.prototype._kind="Transition",e}(Element),Transition.prototype.start=function(t){var e,n;if(this.options.view)return this.options.view.style.transition="all "+this.options.duration+"s "+this.options.curve+" "+this.options.delay+"s",this.options.view.props=this.options.properties,t?(n=this.options.view,e=this,Utils.delay(this.options.duration,function(){return n.style.transition="",e.emit("end")})):void 0},Transition.prototype.disable=function(){return this.options.view?this.options.view.style.transition="none":void 0},Transition.prototype.remove=function(){return this.options.view?this.options.view.style.transition="":void 0};var Animator;Animator=function(){function t(t){null==t&&(t={}),this.setup(t)}return t.setup=function(t){throw Error("Not implemented")},t.next=function(t){throw Error("Not implemented")},t.finished=function(){throw Error("Not implemented")},t}();var LinearAnimator,__hasProp={}.hasOwnProperty,__extends=function(t,e){function n(){this.constructor=t}for(var i in e)__hasProp.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};LinearAnimator=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return __extends(e,t),e.prototype.setup=function(t){return this.options=Utils.defaults(t,{time:1,precision:.001}),this._time=0},e.prototype.next=function(t){return this._time+=t,this.finished()?1:this._time/this.options.time},e.prototype.finished=function(){return this._time>=this.options.time-this.options.precision},e}(Animator);var BezierCurveAnimator,BezierCurveDefaults,UnitBezier,__hasProp={}.hasOwnProperty,__extends=function(t,e){function n(){this.constructor=t}for(var i in e)__hasProp.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};BezierCurveDefaults={linear:[0,0,1,1],ease:[.25,.1,.25,1],"ease-in":[.42,0,1,1],"ease-out":[0,0,.58,1],"ease-in-out":[.42,0,.58,1],easein:[.42,0,1,1],easeout:[0,0,.58,1],easeinout:[.42,0,.58,1]},BezierCurveAnimator=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return __extends(e,t),e.prototype.setup=function(t){return Utils.isString(t)&&BezierCurveDefaults.hasOwnProperty(t.toLowerCase())&&(t={values:BezierCurveDefaults[t.toLowerCase()]}),t.values&&Utils.isString(t.values)&&BezierCurveDefaults.hasOwnProperty(t.values.toLowerCase())&&(t={values:BezierCurveDefaults[t.values.toLowerCase()],time:t.time}),Utils.isArray(t)&&4===t.length&&(t={values:t}),this.options=Utils.defaults(t,{values:BezierCurveDefaults["ease-in-out"],time:1,precision:.001}),this._unitBezier=new UnitBezier(this.options.values[0],this.options.values[1],this.options.values[2],this.options.values[3],this._time=0)},e.prototype.next=function(t){return this._time+=t,this.finished()?1:this._unitBezier.solve(this._time/this.options.time)},e.prototype.finished=function(){return this._time>=this.options.time-this.options.precision},e}(Animator),UnitBezier=function(){function t(t,e,n,i){this.cx=3*t,this.bx=3*(n-t)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*e,this.by=3*(i-e)-this.cy,this.ay=1-this.cy-this.by}return t.prototype.epsilon=1e-6,t.prototype.sampleCurveX=function(t){return((this.ax*t+this.bx)*t+this.cx)*t},t.prototype.sampleCurveY=function(t){return((this.ay*t+this.by)*t+this.cy)*t},t.prototype.sampleCurveDerivativeX=function(t){return(3*this.ax*t+2*this.bx)*t+this.cx},t.prototype.solveCurveX=function(t){var e,n,i,r,o,s;for(o=t,n=0;8>n;){if(s=this.sampleCurveX(o)-t,Math.abs(s)<this.epsilon)return o;if(e=this.sampleCurveDerivativeX(o),Math.abs(e)<this.epsilon)break;o-=s/e,n++}if(i=0,r=1,o=t,i>o)return i;if(o>r)return r;for(;r>i;){if(s=this.sampleCurveX(o),Math.abs(s-t)<this.epsilon)return o;t>s?i=o:r=o,o=.5*(r-i)+i}return o},t.prototype.solve=function(t){return this.sampleCurveY(this.solveCurveX(t))},t}();var SpringRK4Animator,__bind=function(t,e){return function(){return t.apply(e,arguments)}},__hasProp={}.hasOwnProperty,__extends=function(t,e){function n(){this.constructor=t}for(var i in e)__hasProp.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,
t.prototype=new n,t.__super__=e.prototype,t};SpringRK4Animator=function(t){function e(){return this.finished=__bind(this.finished,this),e.__super__.constructor.apply(this,arguments)}return __extends(e,t),e.prototype.setup=function(t){return this.options=Utils.defaults(t,{tension:250,friction:25,velocity:0,tolerance:1e-4,time:null}),this._time=0,this._value=0,this._velocity=this.options.velocity,this._stopSpring=!1,this._integrator=new Integrator(function(t){return function(e){return-t.options.tension*e.x-t.options.friction*e.v}}(this))},e.prototype.next=function(t){var e,n,i,r,o,s,a;return this.finished()?1:(this._time+=t,a={},s={},a.x=this._value-1,a.v=this._velocity,s=this._integrator.integrateState(a,t),this._value=1+s.x,e=s.v,i=s.x,n=s.v,r=Math.abs(i)<this.options.tolerance,o=Math.abs(n)<this.options.tolerance,this._stopSpring=r&&o,this._velocity=e,this._value)},e.prototype.finished=function(){return this._stopSpring},e}(Animator);var SpringDHOAnimator,__bind=function(t,e){return function(){return t.apply(e,arguments)}},__hasProp={}.hasOwnProperty,__extends=function(t,e){function n(){this.constructor=t}for(var i in e)__hasProp.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};SpringDHOAnimator=function(t){function e(){return this.finished=__bind(this.finished,this),e.__super__.constructor.apply(this,arguments)}return __extends(e,t),e.prototype.setup=function(t){return this.options=Utils.defaults(t,{velocity:0,tolerance:1e-4,stiffness:50,damping:2,mass:.2,time:null}),this._time=0,this._value=0,this._velocity=this.options.velocity},e.prototype.next=function(t){var e,n,i,r;return this.finished()?1:(this._time+=t,r=0-this.options.stiffness,i=0-this.options.damping,n=r*(this._value-1),e=i*this._velocity,this._velocity+=(n+e)/this.options.mass*t,this._value+=this._velocity*t,this._value)},e.prototype.finished=function(){return this._time>0&&Math.abs(this._velocity)<this.options.tolerance},e}(Animator);var Animation,AnimatorClassBezierPresets,AnimatorClasses,evaluateRelativeProperty,isRelativeProperty,numberRE,relativePropertyRE,__slice=[].slice,__bind=function(t,e){return function(){return t.apply(e,arguments)}},__hasProp={}.hasOwnProperty,__extends=function(t,e){function n(){this.constructor=t}for(var i in e)__hasProp.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},__indexOf=[].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1};AnimatorClasses={linear:LinearAnimator,"bezier-curve":BezierCurveAnimator,"spring-rk4":SpringRK4Animator,"spring-dho":SpringDHOAnimator},AnimatorClasses.spring=AnimatorClasses["spring-rk4"],AnimatorClasses["cubic-bezier"]=AnimatorClasses["bezier-curve"],AnimatorClassBezierPresets=["ease","ease-in","easein","ease-out","easeout","ease-in-out","easeinout"],numberRE=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/,relativePropertyRE=new RegExp("^(?:([+-])=|)("+numberRE.source+")([a-z%]*)$","i"),isRelativeProperty=function(t){return Utils.isString(t)&&relativePropertyRE.test(t)},evaluateRelativeProperty=function(t,e,n){var i,r,o,s,a,u;return u=relativePropertyRE.exec(n),i=u[0],s=u[1],r=u[2],a=u[3],o=5<=u.length?__slice.call(u,4):[],s?t[e]+(s+1)*r:+r},Animation=function(t){function e(t){var n;null==t&&(t={}),this._updateColorValue=__bind(this._updateColorValue,this),this._updateNumberValue=__bind(this._updateNumberValue,this),this._updateValues=__bind(this._updateValues,this),this._update=__bind(this._update,this),this._start=__bind(this._start,this),this.start=__bind(this.start,this),t.props&&(t.properties=t.props),t.duration&&(t.time=t.duration),t=Defaults.get("Animation",t),e.__super__.constructor.call(this,t),this.options=Utils.clone(Utils.defaults(t,{view:null,properties:{},curve:"linear",curveOptions:{},time:.3,repeat:0,delay:0,debug:!1,colorModel:"husl"})),n=!1,void 0!==t.then&&(n=t.then),void 0!==t.finish&&(n=t.finish),void 0!==t.done&&(n=t.done),void 0!==t.end&&(n=t.end),void 0!==t.finished&&(n=t.finished),n&&this.on(Event.AnimationEnd,function(){var t;try{return n()}catch(e){return t=e,console.error(t.toString())}}),t.origin&&console.warn("Animation.origin: please use view.originX and view.originY"),this.options.properties=e.filterAnimatableProperties(this.options.properties),this._parseAnimatorOptions(),this._originalState=this._currentState(),this._repeatCounter=this.options.repeat}return __extends(e,t),e.define("isAnimating",{get:function(){return __indexOf.call(this.options.view.context.animations,this)>=0}}),e.prototype.start=function(){var t,e,n,i,r,o,s,a;null===this.options.view&&console.error("Animation: missing view"),t=this._animatorClass(),this.options.debug&&(console.log("Animation.duration "+this.options.time),console.log("Animation.start "+t.name,this.options.curveOptions)),this._animator=new t(this.options.curveOptions),this._target=this.options.view,this._stateA=this._currentState(),this._stateB={},o=this.options.properties;for(n in o)r=o[n],Utils.isFunction(r)?r=r(this.options.view,n):isRelativeProperty(r)&&(r=evaluateRelativeProperty(this._target,n,r)),this._stateA[n]!==r&&(this._stateB[n]=r);if(0===Utils.keys(this._stateA).length)return console.warn("Animation: nothing to animate, no animatable properties"),!1;if(Utils.isEqual(this._stateA,this._stateB))return console.warn("Animation: nothing to animate, all properties are equal to what it is now"),!1;s=this._target.animatingProperties();for(i in s)e=s[i],this._stateA.hasOwnProperty(i)&&e.stop(),"x"===i&&(this._stateA.hasOwnProperty("minX")||this._stateA.hasOwnProperty("midX")||this._stateA.hasOwnProperty("maxX"))&&e.stop(),"y"===i&&(this._stateA.hasOwnProperty("minY")||this._stateA.hasOwnProperty("midY")||this._stateA.hasOwnProperty("maxY"))&&e.stop();if(this.options.debug){console.log("Animation.start"),a=this._stateB;for(n in a)r=a[n],console.log("	"+n+": "+this._stateA[n]+" -> "+this._stateB[n])}return this._repeatCounter>0&&this.once("end",function(t){return function(){var e;e=t._stateA;for(n in e)r=e[n],t._target[n]=r;return t._repeatCounter--,t.start()}}(this)),this.options.delay?Utils.delay(this.options.delay,this._start):this._start(),!0},e.prototype.stop=function(t){return null==t&&(t=!0),this.options.view.context.removeAnimation(this),t&&this.emit("stop"),App.Loop.off("update",this._update)},e.prototype.reverse=function(){var t,n;return n=Utils.clone(this.options),n.properties=this._originalState,t=new e(n)},e.prototype.copy=function(){return new e(Utils.clone(this.options))},e.prototype.revert=function(){return this.reverse()},e.prototype.inverse=function(){return this.reverse()},e.prototype.invert=function(){return this.reverse()},e.prototype.emit=function(t){return e.__super__.emit.apply(this,arguments),this.options.view.emit(t,this)},e.prototype.animatingProperties=function(){return Utils.keys(this._stateA)},e.prototype._start=function(){var t,e,n,i;this.options.view.context.addAnimation(this),this.emit("start"),App.Loop.on("update",this._update),this._valueUpdaters={},n=this._stateB,i=[];for(t in n)e=n[t],Color.isColorObject(e)||Color.isColorObject(this._stateA[t])?i.push(this._valueUpdaters[t]=this._updateColorValue):i.push(this._valueUpdaters[t]=this._updateNumberValue);return i},e.prototype._update=function(t){var e;return this._animator.finished()?(this._updateValues(1),this.stop(e=!1),this.emit("end"),this.emit("stop")):this._updateValues(this._animator.next(t))},e.prototype._updateValues=function(t){var e,n,i;i=this._stateB;for(e in i)n=i[e],this._valueUpdaters[e](e,t);return null},e.prototype._updateNumberValue=function(t,e){return this._target[t]=Utils.mapRange(e,0,1,this._stateA[t],this._stateB[t])},e.prototype._updateColorValue=function(t,e){return this._target[t]=Color.mix(this._stateA[t],this._stateB[t],e,!1,this.options.colorModel)},e.prototype._currentState=function(){return Utils.pick(this.options.view,Utils.keys(this.options.properties))},e.prototype._animatorClass=function(){var t,e;return e=Utils.parseFunction(this.options.curve),t=e.name.toLowerCase(),AnimatorClasses.hasOwnProperty(t)?AnimatorClasses[t]:__indexOf.call(AnimatorClassBezierPresets,t)>=0?BezierCurveAnimator:LinearAnimator},e.prototype._parseAnimatorOptions=function(){var t,e,n,i,r,o,s,a,u,h,l,p,c;if(t=this._animatorClass(),r=Utils.parseFunction(this.options.curve),e=r.name.toLowerCase(),(t===LinearAnimator||t===BezierCurveAnimator)&&((Utils.isString(this.options.curveOptions)||Utils.isArray(this.options.curveOptions))&&(this.options.curveOptions={values:this.options.curveOptions}),this.options.curveOptions.time=this.options.time),t===BezierCurveAnimator&&__indexOf.call(AnimatorClassBezierPresets,e)>=0&&(this.options.curveOptions.values=e,this.options.curveOptions.time=this.options.time),r.args.length){if(t===BezierCurveAnimator&&(this.options.curveOptions.values=r.args.map(function(t){return parseFloat(t)||0})),t===SpringRK4Animator)for(l=["tension","friction","velocity","tolerance"],n=s=0,u=l.length;u>s;n=++s)i=l[n],o=parseFloat(r.args[n]),o&&(this.options.curveOptions[i]=o);if(t===SpringDHOAnimator){for(p=["stiffness","damping","mass","tolerance"],c=[],n=a=0,h=p.length;h>a;n=++a)i=p[n],o=parseFloat(r.args[n]),o?c.push(this.options.curveOptions[i]=o):c.push(void 0);return c}}},e.filterAnimatableProperties=function(t){var e,n,i;e={};for(n in t)i=t[n],Utils.isNumber(i)||Utils.isFunction(i)||isRelativeProperty(i)||Color.isColorObject(i)||null===i?e[n]=i:Utils.isString(i)&&Color.isColorString(i)&&(e[n]=new Color(i));return e},e.prototype.toInspect=function(){return"<Animation id:"+this.id+" isAnimating:"+this.isAnimating+" ["+Utils.keys(this.options.properties)+"]>"},e.prototype.onAnimationStart=function(t){return this.on(Event.AnimationStart,t)},e.prototype.onAnimationStop=function(t){return this.on(Event.AnimationStop,t)},e.prototype.onAnimationEnd=function(t){return this.on(Event.AnimationEnd,t)},e.prototype.onAnimationDidStart=function(t){return this.on(Event.AnimationDidStart,t)},e.prototype.onAnimationDidStop=function(t){return this.on(Event.AnimationDidStop,t)},e.prototype.onAnimationDidEnd=function(t){return this.on(Event.AnimationDidEnd,t)},e}(Element);var Integrator;Integrator=function(){function t(t){this._accelerationForState=t,Utils.isFunction(this._accelerationForState)||(console.warn("Integrator: an integrator must be constructed with an acceleration function"),this._accelerationForState=function(){return 0})}return t.prototype.integrateState=function(t,e){var n,i,r,o,s,a;return n=this._evaluateState(t),i=this._evaluateStateWithDerivative(t,.5*e,n),r=this._evaluateStateWithDerivative(t,.5*e,i),o=this._evaluateStateWithDerivative(t,e,r),a=1/6*(n.dx+2*(i.dx+r.dx)+o.dx),s=1/6*(n.dv+2*(i.dv+r.dv)+o.dv),t.x=t.x+a*e,t.v=t.v+s*e,t},t.prototype._evaluateState=function(t){var e;return e={},e.dx=t.v,e.dv=this._accelerationForState(t),e},t.prototype._evaluateStateWithDerivative=function(t,e,n){var i,r;return r={},r.x=t.x+n.dx*e,r.v=t.v+n.dv*e,i={},i.dx=r.v,i.dv=this._accelerationForState(r),i},t}();var AnimationLoop,AnimatorClassBezierPresets,AnimatorClasses,getTime,__bind=function(t,e){return function(){return t.apply(e,arguments)}},__hasProp={}.hasOwnProperty,__extends=function(t,e){function n(){this.constructor=t}for(var i in e)__hasProp.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};getTime=function(){return 1e3*Utils.getTime()},AnimationLoop=function(t){function e(){this.start=__bind(this.start,this),this.delta=1/60,this.raf=!0,Utils.webkitVersion()>600&&Utils.webkitVersion()<601&&Utils.isDesktop()&&(this.raf=!1),this.maximumListeners=1/0}return __extends(e,t),e.prototype.start=function(){var t,e,n,i;return t=this,i=getTime(),n=function(){var e,n;return t.delta?e=t.delta:(n=getTime(),e=(n-i)/1e3,i=n),t.emit("update",e),t.emit("render",e)},(e=function(i){return t.raf?(n(),window.requestAnimationFrame(e)):window.setTimeout(function(){return n(),window.requestAnimationFrame(e)},0)})()},e}(EventEmitter),AnimatorClasses={linear:LinearAnimator,"bezier-curve":BezierCurveAnimator,"spring-rk4":SpringRK4Animator,spring:SpringRK4Animator,"spring-dho":SpringDHOAnimator},AnimatorClassBezierPresets=["ease","ease-in","ease-out","ease-in-out"];var Simulator,__hasProp={}.hasOwnProperty,__extends=function(t,e){function n(){this.constructor=t}for(var i in e)__hasProp.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};Simulator=function(t){function e(t){null==t&&(t={}),this._state={x:0,v:0},this.options=null,this.setup(t)}return __extends(e,t),e.define("state",{get:function(){return Utils.clone(this._state)},set:function(t){return this._state=Utils.clone(t)}}),e.prototype.setup=function(t){throw Error("Not implemented")},e.prototype.next=function(t){throw Error("Not implemented")},e.prototype.finished=function(){throw Error("Not implemented")},e}(Element);var FrictionSimulator,__bind=function(t,e){return function(){return t.apply(e,arguments)}},__hasProp={}.hasOwnProperty,__extends=function(t,e){function n(){this.constructor=t}for(var i in e)__hasProp.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};FrictionSimulator=function(t){function e(){return this.finished=__bind(this.finished,this),e.__super__.constructor.apply(this,arguments)}return __extends(e,t),e.prototype.setup=function(t){return this.options=Defaults.get("FrictionSimulator",t),this.options=Utils.defaults(t,{velocity:0,position:0}),this._state={x:this.options.position,v:this.options.velocity},this._integrator=new Integrator(function(t){return function(e){return-(t.options.friction*e.v)}}(this))},e.prototype.next=function(t){return this._state=this._integrator.integrateState(this._state,t),this._state},e.prototype.finished=function(){return Math.abs(this._state.v)<this.options.tolerance},e}(Simulator);var SpringSimulator,__bind=function(t,e){return function(){return t.apply(e,arguments)}},__hasProp={}.hasOwnProperty,__extends=function(t,e){function n(){this.constructor=t}for(var i in e)__hasProp.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};SpringSimulator=function(t){function e(){return this.finished=__bind(this.finished,this),e.__super__.constructor.apply(this,arguments)}return __extends(e,t),e.prototype.setup=function(t){return this.options=Defaults.get("SpringSimulator",t),this.options=Utils.defaults(t,{velocity:0,position:0,offset:0}),this._state={x:this.options.position,v:this.options.velocity},this._integrator=new Integrator(function(t){return function(e){return-t.options.tension*e.x-t.options.friction*e.v}}(this))},e.prototype.next=function(t){return this._state=this._integrator.integrateState(this._state,t),this.getState()},e.prototype.finished=function(){var t,e;return t=Math.abs(this._state.x)<this.options.tolerance,e=Math.abs(this._state.v)<this.options.tolerance,t&&e},e.prototype.setState=function(t){return this._state={x:t.x-this.options.offset,v:t.v}},e.prototype.getState=function(){var t;return t={x:this._state.x+this.options.offset,v:this._state.v}},e}(Simulator);var MomentumBounceSimulator,__bind=function(t,e){return function(){return t.apply(e,arguments)}},__hasProp={}.hasOwnProperty,__extends=function(t,e){function n(){this.constructor=t}for(var i in e)__hasProp.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};MomentumBounceSimulator=function(t){function e(){return this.finished=__bind(this.finished,this),e.__super__.constructor.apply(this,arguments)}return __extends(e,t),e.prototype.setup=function(t){return this.options=Defaults.get("MomentumBounceSimulator",t),this.options=Utils.defaults(t,{velocity:0,position:0,min:0,max:0}),this._frictionSimulator=new FrictionSimulator({friction:this.options.momentum.friction,tolerance:this.options.momentum.tolerance,velocity:this.options.velocity,position:this.options.position}),this._springSimulator=new SpringSimulator({tension:this.options.bounce.tension,friction:this.options.bounce.friction,tolerance:this.options.bounce.tolerance,velocity:this.options.velocity,position:this.options.position}),this._state={x:this.options.position,v:this.options.velocity},this._useSpring=!1},e.prototype.next=function(t){return this._useSpring?this._state=this._springSimulator.next(t):(this._state=this._frictionSimulator.next(t),this._tryTransitionToSpring(this._state)),this._state},e.prototype.finished=function(){return this._useSpring?this._springSimulator.finished():this._frictionSimulator.finished()},e.prototype.setState=function(t){var e;return this._state={x:t.x,v:t.v},this._frictionSimulator.setState(this._state),this._isValidState()?this._tryTransitionToSpring():(this._state.x<=this.options.min&&(e=this.options.min),this._state.x>=this.options.max&&(e=this.options.max),this._transitionToSpring(e))},e.prototype._tryTransitionToSpring=function(t){var e,n,i;return n=this._state.x<this.options.min&&this._state.v<=0,e=this._state.x>this.options.max&&this._state.v>=0,n||e?(n&&(i=this.options.min),e&&(i=this.options.max),this._transitionToSpring(i)):this._useSpring=!1},e.prototype._transitionToSpring=function(t){return this._useSpring=!0,this._springSimulator.options.offset=t,this._springSimulator.setState(this._state)},e.prototype._isValidState=function(){var t,e,n,i,r,o;return e=this._state.x<this.options.min&&this._state.v>0,t=this._state.x>this.options.max&&this._state.v<0,i=!1,e?(n=this.options.min,i=!0):t&&(n=this.options.max,i=!0),i?(r=this._frictionSimulator.options.friction,o=1-r*(n-this._state.x)/this._state.v,o>0):!0},e}(Simulator);var Simulation,SimulatorClasses,__bind=function(t,e){return function(){return t.apply(e,arguments)}},__hasProp={}.hasOwnProperty,__extends=function(t,e){function n(){this.constructor=t}for(var i in e)__hasProp.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},__indexOf=[].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1};Event.SimulationStart="simulationStart",Event.SimulationStep="simulationStep",Event.SimulationStop="simulationStop",SimulatorClasses={spring:SpringSimulator,friction:FrictionSimulator,"inertial-scroll":MomentumBounceSimulator},Simulation=function(t){function e(t){var n;null==t&&(t={}),this._update=__bind(this._update,this),this._start=__bind(this._start,this),this.start=__bind(this.start,this),e.__super__.constructor.call(this,t),this.options=Utils.defaults(t,{view:null,properties:{},model:"spring",modelOptions:{},delay:0,debug:!1}),this._running=!1,n=SimulatorClasses[this.options.model]||SpringSimulator,this._simulator=new n(this.options.modelOptions)}return __extends(e,t),e.prototype.animatingProperties=function(){return Utils.keys(this.options.properties)},e.prototype.start=function(){var t,e,n,i;null===this.options.view&&console.error("Simulation: missing view"),this.options.debug&&console.log("Simulation.start "+this._simulator.constructor.name,this.options.modelOptions),t=this.animatingProperties(),i=this.options.view.animatingProperties();for(n in i)e=i[n],__indexOf.call(t,n)>=0&&e.stop();return this.options.delay?Utils.delay(this.options.delay,this._start):this._start(),!0},e.prototype.stop=function(t){return null==t&&(t=!0),this._running?(this._running=!1,this.options.view.context.removeAnimation(this),t&&this.emit(Event.SimulationStop),App.Loop.off("update",this._update)):void 0},e.prototype.emit=function(t){return e.__super__.emit.apply(this,arguments),this.options.view.emit(t,this)},e.prototype._start=function(){return this._running?void 0:(this._running=!0,this.options.view.context.addAnimation(this),this.emit(Event.SimulationStart),App.Loop.on("update",this._update))},e.prototype._update=function(t){var e,n;return this._simulator.finished()?(this.stop(e=!1),this.emit("end"),this.emit(Event.SimulationStop)):(n=this._simulator.next(t),this.emit(Event.SimulationStep,n,t))},e.define("simulator",{get:function(){return this._simulator}}),e.prototype.finished=function(){return this._simulator.finished()},e}(Element);var FileReader,__hasProp={}.hasOwnProperty,__extends=function(t,e){function n(){this.constructor=t}for(var i in e)__hasProp.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};window._FileReader=FileReader,FileReader=function(t){function e(t){var e;return void 0===t&&(t={}),window._FileReader?(this.reader=new window._FileReader,e=this,this.reader.addEventListener("loadstart",function(n){e.emit(Event.LoadStart,n),t.start&&t.start(n)},!1),this.reader.addEventListener("loadend",function(n){e.emit(Event.LoadEnd,n),t.end&&t.end(n)},!1),this.reader.addEventListener("progress",function(n){e.emit(Event.Progress,n),t.progress&&t.progress(n)},!1),this.reader.addEventListener("load",function(){e.emit(Event.Load,e.reader.result),t.then?t.then(e.reader.result):t.done?t.done(e.reader.result):t.loaded&&t.loaded(e.reader.result)},!1),this.reader.addEventListener("error",function(){e.emit(Event.Error,e.reader.error),t.error&&t.error(e.reader.error)},!1),this.reader.addEventListener("abort",function(n){e.emit(Event.Abort,n),t.abort&&t.abort(n)},!1),void(t.arrayBuffer?this.arrayBuffer=t.arrayBuffer:t.binary?this.binary=t.binary:t.base64?this.base64=t.base64:t.text&&(this.text=t.text))):(this.emit(Event.Unsupported),properties.unsupported&&properties.unsupported(),!1)}return __extends(e,t),e.prototype._kind="FileReader",e.define("arrayBuffer",{get:function(){return this._arrayBuffer},set:function(t){this._arrayBuffer=t,this.reader.readAsArrayBuffer(t)}}),e.define("binary",{get:function(){return this._binary},set:function(t){this._binary=t,this.reader.readAsBinaryString(t)}}),e.define("base64",{get:function(){return this._base64},set:function(t){this._base64=t,this.reader.readAsDataURL(t)}}),e.define("text",{get:function(){return this._text},set:function(t){this._text=t,this.reader.readAsText(t)}}),e.prototype.onUnsupported=function(t){return this.on(Event.Unsupported,t)},e.prototype.onLoadStart=function(t){return this.on(Event.LoadStart,t)},e.prototype.onLoadEnd=function(t){return this.on(Event.LoadEnd,t)},e.prototype.onProgress=function(t){return this.on(Event.Progress,t)},e.prototype.onLoad=function(t){return this.on(Event.Load,t)},e.prototype.onLoaded=function(t){return this.on(Event.Load,t)},e.prototype.onDone=function(t){return this.on(Event.Loaded,t)},e.prototype.onAbort=function(t){return this.on(Event.Abort,t)},e.prototype.onQuit=function(t){return this.on(Event.Quit,t)},e}(Element),FileReader.prototype.abort=function(t){void 0!==this.reader&&this.reader.abort()};var Location,__hasProp={}.hasOwnProperty,__extends=function(t,e){function n(){this.constructor=t}for(var i in e)__hasProp.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};Location=function(t){function e(t){return t||(t={}),navigator.geolocation?(t.current&&(t.success=t.current,this.current(t)),t.watch&&(t.success=t.watch,this.watch(t)),!0):(this.emit(Event.Unsupported),t.unsupported&&t.unsupported(),!1)}return __extends(e,t),e.prototype._kind="Location",e.prototype.onUnsupported=function(t){return this.on(Event.Unsupported,t)},e.prototype.onSuccess=function(t){return this.on(Event.Success,t)},e.prototype.onError=function(t){return this.on(Event.Error,t)},e.prototype.onClear=function(t){return this.on(Event.Clear,t)},e}(Element),Location.prototype.current=function(t){var e,n;return Utils.isBoolean(t)&&(e=t,t={}),t||(t={}),void 0===t.accurate&&(t.accurate=!1),e&&(t.accurate=e),n=this,navigator.geolocation.getCurrentPosition(function(e){e.coords.timestamp=e.timestamp,n.emit(Event.Success,e.coords),t.success&&t.success(e.coords)},function(e){n.emit(Event.Error,e),t.error&&t.error(e)},{enableHighAccuracy:t.accurate})},Location.prototype.watch=function(t){var e,n;Utils.isBoolean(t)&&(e=t,t={}),t||(t={}),void 0===t.accurate&&(t.accurate=!1),e&&(t.accurate=e),n=this,this.watch=navigator.geolocation.watchPosition(function(e){e.coords.timestamp=e.timestamp,n.emit(Event.Success,e.coords),t.success&&t.success(e.coords)},function(e){n.emit(Event.Error,e),t.error&&t.error(e)},{enableHighAccuracy:t.accurate})},Location.prototype.clear=function(){this.watch&&(this.emit(Event.Clear),navigator.geolocation.clearWatch(this.watch))};var Thread,__hasProp={}.hasOwnProperty,__extends=function(t,e){function n(){this.constructor=t}for(var i in e)__hasProp.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};Thread=function(t){function e(t){return void 0===t&&(t={}),window.Worker?Utils.isFunction(t)?void(this.process=t):t.process?void(this.process=t.process):t.receive?void(this.onReceive=t.receive):void 0:(this.emit(Event.Unsupported),t.unsupported&&t.unsupported(),!1)}return __extends(e,t),e.prototype._kind="Thread",e.define("process",{get:function(){return this._process},set:function(t){var e,n,i;return window.send=window.postMessage,window.URL=window.URL||window.webkitURL,e=t.toString().match(/function[^{]+\{([\s\S]*)\}$/)[1],n=new Blob(["self.send = postMessage;\n"+e],{type:"text/javascript"}),this.worker&&this.end(),this.worker=new Worker(window.URL.createObjectURL(n)),i=this,this.worker.addEventListener("message",function(t){return i.emit(Event.Receive,t)},!1),this.worker.addEventListener("error",function(t){return i.emit(Event.Error,t)},!1)}}),e.prototype.onUnsupported=function(t){return this.on(Event.Unsupported,t)},e.prototype.onReceive=function(t){return this.on(Event.Receive,t)},e.prototype.onSend=function(t){return this.on(Event.Send,t)},e.prototype.onEnd=function(t){return this.on(Event.End,t)},e.prototype.onStop=function(t){return this.on(Event.End,t)},e.prototype.onTerminate=function(t){return this.on(Event.End,t)},e.prototype.onError=function(t){return this.on(Event.Error,t)},e}(Element),Thread.prototype.send=function(t){void 0!==this.worker&&(this.worker.postMessage(t),this.emit(Event.Send,t))},Thread.prototype.end=function(){void 0!==this.worker&&(this.worker.terminate(),delete this.worker,this.worker=void 0,this.emit(Event.End))},Thread.prototype.stop=function(){this.end()},Thread.prototype.terminate=function(){this.terminate()};var Notification,__hasProp={}.hasOwnProperty,__extends=function(t,e){function n(){this.constructor=t}for(var i in e)__hasProp.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};window.Notification&&(window._Notification=window.Notification),Notification=function(t){function e(t){var e,n,i;if(i=this,e=function(){this._notification=new window._Notification(t.title,n),this._notification.addEventListener("close",function(){t.close&&t.close(),i.emit(Event.Close)}),this._notification.addEventListener("show",function(){t.show&&t.show(),i.emit(Event.Show)}),this._notification.addEventListener("click",function(){t.click&&t.click(),i.emit(Event.Click)}),this._notification.addEventListener("error",function(){t.error&&t.error(),i.emit(Event.Error)})},t||(t={}),!window._Notification)return this.emit(Event.Unsupported),t.unsupported&&t.unsupported(),!1;if(t.title&&(t.title=""),n={},t.text&&(t.body=t.text),t.body&&(n.body=t.body),t.icon&&(n.icon=Utils.parseAsset(t.icon)),void 0!==t.vibrate&&(n.vibrate=t.vibrate),void 0!==t.silent&&(n.silent=t.silent),"granted"===window._Notification.permission)e();else{if("denied"!==window._Notification.permission)return void window._Notification.requestPermission(function(t){return"granted"===t?(i.emit(Event.Granted,t),e()):i.emit(Event.Denied,t)});t.denied&&t.denied(),i.emit(Event.Denied)}}return __extends(e,t),e.prototype._kind="Notification",e.prototype.onUnsupported=function(t){return this.on(Event.Unsupported,t)},e.prototype.onGranted=function(t){return this.on(Event.Granted,t)},e.prototype.onDenied=function(t){return this.on(Event.Denied,t)},e.prototype.onError=function(t){return this.on(Event.Error,t)},e.prototype.onClick=function(t){return this.on(Event.onClick,t)},e.prototype.onShow=function(t){return this.on(Event.Show,t)},e.prototype.onClose=function(t){return this.on(Event.Close,t)},e}(Element),Notification.prototype.close=function(t){this._notification&&this._notification.close()},Notification.requestPermission=function(t){var e;return void 0===e&&(e={}),window._Notification.requestPermission(function(e){return"granted"!==e?(t.denied&&t.denied(e),void this.emit(Event.Denied,e)):(t.granted&&t.granted(e),void this.emit(Event.Granted,e))})},Notification.isGranted=function(){return"granted"===window._Notification.permission?!0:!1};var App,Before,Fonts,Routes,Title,WebFontConfig,onSwipeEnd,onSwipeStart,url,_googleFont;App=window,App._kind="App",App._ee=new EventEmitter,App._pages_counter=0,window.center="center",window.left="left",window.right="right",window.top="top",window.bottom="bottom",window.auto="auto",window.inlineBlock="inline-block",window.block="block",window.inline="inline",window.none="none",window.fit="fit",window.fitCenter="fitCenter",window.fill="fill",window.fillWidth="fillWidth",window.fillHeight="fillHeight",window.fillHeightCenter="fillHeightCenter",App._responsives={},WebFontConfig=null,_googleFont=[],window.__IS_DIRECT_PATH=!1,window.__ID&&8===window.__ID.length&&(url=App.location.pathname.split("/"),url.shift(),url[0]===window.__ID&&(window.__IS_DIRECT_PATH=!0)),Before=null,Routes=function(t,e){return e&&(window.Before=e),App.routes=t},Fonts=function(t){return App.fonts=t},Title=function(t){return App.title=t},App.define=function(t,e){return Object.defineProperty(this,t,e)},App.emit=function(t,e){return this._wrapper?this._wrapper.emit(t,e):void 0},App.once=function(t,e){return this._wrapper?this._wrapper.once(t,e):void 0},App.on=function(t,e){return this._wrapper?this._wrapper.on(t,e):void 0},App.off=function(t,e){return this._wrapper?this._wrapper.off(t,e):void 0},App.reset=function(){return this.id=Utils.randomID(),App.element=void 0,this._routes={},App._page=null,this.pages=[],App._responsives={},this._fonts=null,this._fontsCollection=[],this.DefaultContext?(this._wrapper&&this._wrapper.destroy(!0),this.CurrentContext.reset()):(this.DefaultContext=new Context({name:"Default",backgroundColor:"white"}),this.CurrentContext=this.DefaultContext),Event.wrap(window).addEventListener(Event.Abort,function(t){return this.emit(Event.Abort,t)}),Event.wrap(window).addEventListener(Event.Quit,function(t){this.emit(Event.Quit,t)}),Event.wrap(window).addEventListener(Event.Error,function(t){return this.emit(Event.Error,t)}),Event.wrap(window).addEventListener(Event.HashChange,function(t){return this.emit(Event.HashChange,t)}),Event.wrap(window).addEventListener(Event.Load,function(t){return this.emit(Event.Load,t)}),Event.wrap(window).addEventListener(Event.Resize,function(t){return this.emit(Event.Resize,t)}),Event.wrap(window).addEventListener(Event.Scroll,function(t){return this.emit(Event.Scroll,t)}),Event.wrap(window).addEventListener(Event.Show,function(t){return this.emit(Event.Show,t)}),Event.wrap(window).addEventListener(Event.Close,function(t){return this.emit(Event.Close,t)}),Event.wrap(window).addEventListener(Event.Blur,function(t){return this.emit(Event.Blur,t)}),Event.wrap(window).addEventListener(Event.Focus,function(t){return this.emit(Event.Focus,t)}),Event.wrap(window).addEventListener(Event.HistoryChanged,function(t){return this.emit(Event.HistoryChanged,t)})},App.run=function(t){var e;e=function(e){this.reset(),Defaults.setup(),this._element=document.createElement("div"),this._element.setAttribute("id","OrbeApp::"+App.id),this._element.style.background="white",this._element.style.width="100%",this._element.style.height="100%",this._element.style.position="fixed",this._element.style.top="0",this._element.style.left="0",this._element.style.right="0",this._element.style.bottom="0",this._element.style.webkitFontSmoothing="antialiased",this.CurrentContext._element.appendChild(this._element),this._wrapper=new View({width:"100%",height:"100%"
}),this._element.appendChild(this._wrapper._element),this._wrapper._element.setAttribute("id","OrbeAppWrapper::"+this._wrapper.id),App.on(Event.HistoryChanged,function(t){return t.state?App._routing():void 0}),Utils.isSafari()&&history.replaceState({},""),App._updateResponsivesStates(),App.onResize(function(){return App._updateResponsivesStates()}),t&&(this.emit(Event.Run),t())},__domReady?e():Utils.domComplete(e)},App.setup=function(){this.Loop=new AnimationLoop,Utils.domComplete(this.Loop.start),this.GestureInputRecognizer=new GestureRecognizer,this.define("routes",{configurable:!0,get:function(){return this._routes},set:function(t){if(!Utils.isObject(t))throw new Error("App: routes must be in an object.");this._routes=t,App._routing()}}),this.define("page",{configurable:!0,get:function(){return App._page},set:function(t){App._page&&(App.removePage(App._page),App._page=null),this.addPage(t)}}),this.define("pages",{configurable:!0,get:function(){return App._wrapper.children}}),this.define("title",{configurable:!0,get:function(){return document.title},set:function(t){document.title=t}}),this.define("fonts",{configurable:!0,get:function(){return this._fonts},set:function(t){var e;return this._fonts=t,e=Utils.clone(this._googleFont),this._googleFont=[],this._updateFonts(this._fonts),App._fontsCollection.length>0&&(App.fontName=App._fontsCollection[0].name),Utils.isEqual(e,this._googleFont)?void 0:this._googleFont.length>0?(WebFontConfig={google:{families:App._googleFont}},Utils.domLoadScript(("https:"===document.location.protocol?"https":"http")+"://ajax.googleapis.com/ajax/libs/webfont/1/webfont.js")):void 0}}),this.define("fontName",{configurable:!0,get:function(){return this._element.style.fontFamily},set:function(t){this._element.style.fontFamily=t+", sans-serif"}}),this.define("fontFamily",{configurable:!0,get:function(){return this.fontName},set:function(t){this.fontName=t}}),this.define("fontWeight",{configurable:!0,get:function(){return this._element.style.fontWeight},set:function(t){this._element.style.fontFamily=t}}),this.define("fontSize",{configurable:!0,get:function(){return this._element.style.fontSize},set:function(t){this._element.style.fontSize=t}}),this.define("textColor",{configurable:!0,get:function(){return this._element.style.color},set:function(t){this._element.style.color=t}}),this.define("width",{configurable:!0,get:function(){return this.innerWidth}}),this.define("height",{configurable:!0,get:function(){return this.innerHeight}}),this.define("size",{configurable:!0,get:function(){return{width:this.width,height:this.height}}}),this.define("frame",{configurable:!0,get:function(){return{x:0,y:0,width:this.width,height:this.height}}}),this.css=Utils.insertCSS,this.go=function(t,e){("main"===t||"index"===t)&&(t=""),Utils.startsWith(t,"/")||(t="/"+t),window.USE_URL&&(window.USE_URL=t),e!==!0&&(t=Utils.parseURL(t)),history.pushState?history.pushState({},null,t):say("App: your browser does not support the HTML5 pushState method."),App._routing()},this.updateURL=function(t,e){("main"===t||"index"===t)&&(t=""),Utils.startsWith(t,"/")||(t="/"+t),window.USE_URL&&(window.USE_URL=t),e!==!0&&(t=Utils.parseURL(t)),history.pushState?history.pushState({},null,t):say("App: your browser does not support the HTML5 pushState method.")},this.pathname=function(){var t;return t=void 0,t=App.USE_URL?App.USE_URL.split("/"):App.location.pathname.split("/"),t.shift(),window.__IS_DIRECT_PATH?(t.shift(),0===t.length&&t.push("")):void 0!==App.USE_PROJECT_PATH&&(t.shift(),t.shift(),0===t.length&&t.push("")),t},this.parameters=function(){var t,e;return t=window.location.search.substr(1),e={},t.split("&").forEach(function(t){var n;n=t.split("="),""!==n[0]&&(e[n[0]]=decodeURIComponent(n[1]))}),e},this.hash=function(){return location.hash.replace("#","")},this.addPage=function(t){var e,n,i,r;for(App._responsives={},r=App._wrapper.children,n=0,i=r.length;i>n;n++)e=r[n],e._kind&&"Page"===e._kind&&(e.parent=null);return App._page&&(App._page.parent=null),t._kind&&"Page"===t._kind?(App._page=t,App._page.parent=this):void 0},this.removePage=function(t){return t.parent=null},this.enterFullScreen=function(){return this.page?this.page.enterFullScreen():!1},this.exitFullScreen=function(){return this.page?this.page.exitFullScreen():!1},this.isFullScreen=function(){return this.page?this.page.isFullScreen():!1},this.inWebView=function(){var t;try{return window.self!==window.top}catch(e){return t=e,!0}},this.isOnline=function(){return navigator.onLine},this.isOffline=function(){return!navigator.onLine}},App.setup(),App.battery=!1,navigator.getBattery&&navigator.getBattery().then(function(t){App.battery=t,t.addEventListener("chargingchange",function(){App.emit("change:batteryCharging",t.charging)}),t.addEventListener("levelchange",function(){App.emit("change:batteryLevel",t.level)}),t.addEventListener("chargingtimechange",function(){App.emit("change:chargingTime",t.chargingTime)}),t.addEventListener("dischargingtimechange",function(){App.emit("change:dischargingTime",t.dischargingTime)})}),App.vibrate=function(t){return navigator.vibrate?void window.navigator.vibrate(t):!1},App.clipboard={cut:function(){document.execCommand("Cut")},copy:function(t){var e,n;return e=function(){var t,e,n,i,r;return r=window.navigator.userAgent,e=r.indexOf("MSIE "),e>0?parseInt(r.substring(e+5,r.indexOf(".",e)),10):(i=r.indexOf("Trident/"),i>0?(n=r.indexOf("rv:"),parseInt(r.substring(n+3,r.indexOf(".",n)),10)):(t=r.indexOf("Edge/"),t>0?parseInt(r.substring(t+5,r.indexOf(".",t)),10):!1))},t?void document.execCommand("Copy"):(e()&&window.clipboardData.setData("Text",t),n=document.createElement("textarea"),n.innerText=t,document.body.appendChild(n),n.select(),document.execCommand("copy"),window.clipboardData&&window.clipboardData.setData("Text",copytext),void n.remove())}},App.toInspect=function(t){return function(){return"<App id:"+(t.id||null)+">"}}(this),App._routing=function(){var t,e,n,i,r,o,s,a,u;if(r=this.pathname(),n=function(t){var e,n,i;window.Before&&(i=window.Before(),i===!1)||(e=!0,n=App._routes[t](),n&&"Page"===n._kind&&(App.page=n))},Utils.isFileUrl(App.location.href))throw e="Error: Project opened as a local file. Please set index.html as root / using a virtual server to use Routes.",alert(e),Error(e);i=r[0],s=!1;for(a in this._routes)if(Utils.startsWith(a,"/")&&(i="/"+r[0]),Utils.startsWith(a,"match:")){a=a.replace("match:","");try{if(o=new RegExp(a),u=o.test(i),u||(u=o.test("/"+r.join("/"))),u)return void n("match:"+a)}catch(h){t=h,console.log("App: Invalid regex, "+a)}}else if(a===i||""===i&&("main"===a||"index"===a||"Main"===a))return void n(a);s||(this._routes.hasOwnProperty("default")?n("default"):this._routes.hasOwnProperty("404")?n("404"):this._routes.hasOwnProperty("Default")?n("Default"):this._routes.hasOwnProperty("defaults")?n("defaults"):this._routes.hasOwnProperty("Defaults")&&n("Defaults"))},App._updateFonts=function(t){var e,n,i,r,o,s;if(o=function(t){return t.name?(t._name=t.name.split(" ").join("+"),t.weight||(t.weight="400"),t.sets||(t.sets="latin"),t._name+":"+t.weight+":"+t.sets):""},t){if(n=new this._fontDetector,Utils.isString(t)&&(t=[t]),Utils.isArray(t)){for(r=0,s=[];r<t.length;)"string"==typeof t[r]&&(i=t[r].replace(/\s+/g,""),e={name:t[r]},this._fonts[i]=t[r],this._fontsCollection.push(e),n.detect(t[r])||this._googleFont.push(o(e))),Utils.isObject(t[r])&&t[r].name&&(i=t[r].name.replace(/\s+/g,""),e=t[r],this._fonts[i]=t[r].name,this._fontsCollection.push(e),n.detect(t[r].name)||this._googleFont.push(o(t[r]))),s.push(r++);return s}return Utils.isObject(t)&&t.name&&(i=t.name.replace(/\s+/g,""),this._fonts[i]=t.name,this._fontsCollection.push(t),!n.detect(t.name))?this._googleFont.push(o(t)):void 0}},App._fontDetector=function(){var t,e,n,i,r,o,s,a,u;t=["monospace","sans-serif","serif"],u="mmmmmmmmmmlli",a="72px",r=document.getElementsByTagName("body")[0],s=document.createElement("span"),i=function(i){var o,a,u;o=!1;for(a in t)s.style.fontFamily=i+","+t[a],r.appendChild(s),u=s.offsetWidth!==n[t[a]]||s.offsetHeight!==e[t[a]],r.removeChild(s),o=o||u;return o},s.style.fontSize=a,s.innerHTML=u,n={},e={};for(o in t)s.style.fontFamily=t[o],r.appendChild(s),n[t[o]]=s.offsetWidth,e[t[o]]=s.offsetHeight,r.removeChild(s);this.detect=i},App.onFocus=function(t){return this.on(Event.Focus,t)},App.onResignFocus=function(t){return this.on(Event.Blur,t)},App.onBlur=function(t){return this.on(Event.Blur,t)},App.onResize=function(t){return this.on(Event.Resize,t)},App.onAbort=function(t){return this.on(Event.Abort,t)},App.onQuit=function(t){return this.on(Event.Quit,t)},App.onHashChange=function(t){return this.on(Event.HashChange,t)},App.onLoad=function(t){return this.on(Event.Load,t)},App.onLoaded=function(t){return this.on(Event.Load,t)},App.onDone=function(t){return this.on(Event.Loaded,t)},App.onShow=function(t){return this.on(Event.Show,t)},App.onClose=function(t){return this.on(Event.Close,t)},App.onClick=function(t){return this.on(Event.Click,t)},App.onDoubleClick=function(t){return this.on(Event.DoubleClick,t)},App.onIn=function(t){return this.on(Event.In,t)},App.onOut=function(t){return this.on(Event.Out,t)},App.onDown=function(t){return this.on(Event.Down,t)},App.onOver=function(t){return this.on(Event.Over,t)},App.onUp=function(t){return this.on(Event.Up,t)},App.onMove=function(t){return this.on(Event.Move,t)},App.onRightClick=function(t){return this.on(Event.RightClick,t)},App.onMouseIn=function(t){return this.on(Event.MouseIn,t)},App.onMouseUp=function(t){return this.on(Event.MouseUp,t)},App.onMouseDown=function(t){return this.on(Event.MouseDown,t)},App.onMouseOver=function(t){return this.on(Event.MouseOver,t)},App.onMouseOut=function(t){return this.on(Event.MouseOut,t)},App.onMouseMove=function(t){return this.on(Event.MouseMove,t)},App.onMouseWheel=function(t){return this.on(Event.MouseWheel,t)},App.onScroll=function(t){return this.on(Event.Scroll,t)},App.onTouchStart=function(t){return this.on(Event.TouchStart,t)},App.onTouchEnd=function(t){return this.on(Event.TouchEnd,t)},App.onTouchMove=function(t){return this.on(Event.TouchMove,t)},App.onTap=function(t){return this.on(Event.Tap,t)},App.onTapStart=function(t){return this.on(Event.TapStart,t)},App.onTapEnd=function(t){return this.on(Event.TapEnd,t)},App.onDoubleTap=function(t){return this.on(Event.DoubleTap,t)},App.onForceTap=function(t){return this.on(Event.ForceTap,t)},App.onForceTapChange=function(t){return this.on(Event.ForceTapChange,t)},App.onForceTapStart=function(t){return this.on(Event.ForceTapStart,t)},App.onForceTapEnd=function(t){return this.on(Event.ForceTapEnd,t)},App.onLongPress=function(t){return this.on(Event.LongPress,t)},App.onLongPressStart=function(t){return this.on(Event.LongPressStart,t)},App.onLongPressEnd=function(t){return this.on(Event.LongPressEnd,t)},App.onSwipe=function(t){return this.on(Event.Swipe,t)},onSwipeStart=function(t){return this.on(Event.SwipeStart,t)},onSwipeEnd=function(t){return this.on(Event.SwipeEnd,t)},App.onSwipeUp=function(t){return this.on(Event.SwipeUp,t)},App.onSwipeUpStart=function(t){return this.on(Event.SwipeUpStart,t)},App.onSwipeUpEnd=function(t){return this.on(Event.SwipeUpEnd,t)},App.onSwipeDown=function(t){return this.on(Event.SwipeDown,t)},App.onSwipeDownStart=function(t){return this.on(Event.SwipeDownStart,t)},App.onSwipeDownEnd=function(t){return this.on(Event.SwipeDownEnd,t)},App.onSwipeLeft=function(t){return this.on(Event.SwipeLeft,t)},App.onSwipeLeftStart=function(t){return this.on(Event.SwipeLeftStart,t)},App.onSwipeLeftEnd=function(t){return this.on(Event.SwipeLeftEnd,t)},App.onSwipeRight=function(t){return this.on(Event.SwipeRight,t)},App.onSwipeRightStart=function(t){return this.on(Event.SwipeRightStart,t)},App.onSwipeRightEnd=function(t){return this.on(Event.SwipeRightEnd,t)},App.onPan=function(t){return this.on(Event.Pan,t)},App.onPanStart=function(t){return this.on(Event.PanStart,t)},App.onPanEnd=function(t){return this.on(Event.PanEnd,t)},App.onPanLeft=function(t){return this.on(Event.PanLeft,t)},App.onPanRight=function(t){return this.on(Event.PanRight,t)},App.onPanUp=function(t){return this.on(Event.PanUp,t)},App.onPanDown=function(t){return this.on(Event.PanDown,t)},App.onScale=function(t){return this.on(Event.Scale,t)},App.onScaleStart=function(t){return this.on(Event.ScaleStart,t)},App.onScaleEnd=function(t){return this.on(Event.ScaleEnd,t)},App.onRotate=function(t){return this.on(Event.Rotate,t)},App.onRotateStart=function(t){return this.on(Event.RotateStart,t)},App.onRotateEnd=function(t){return this.on(Event.RotateEnd,t)},App.onImportProgress=function(t){return this.on(Event.ImportProgress,t)},App.onImportEnd=function(t){return this.on(Event.ImportEnd,t)},App.onPreloadProgress=function(t){return this.on(Event.PreloadProgress,t)},App.onPreloadEnd=function(t){return this.on(Event.PreloadEnd,t)},App.onKeyDown=function(t){return this.on(Event.KeyDown,t)},App.onKeyPress=function(t){return this.on(Event.KeyPress,t)},App.onKeyUp=function(t){return this.on(Event.KeyUp,t)};var Import;Import=function(t,e){var n,i,r,o,s;if(t){for(Utils.isString(t)&&(t=[t]),i=[],o=0,s=t.length;s>o;o++)n=t[o],-1===n.indexOf(".js")&&(n="/build/"+n+".js",App.USE_PROJECT_PATH&&(r=App.location.pathname.split("/"),r.shift(),r.shift(),n="/p/"+r[0]+"/"+n)),App.__IS_DIRECT_PATH&&Utils.startsWith(n,"/build/")&&(n="/"+window.__ID+n),App.__BUILD&&(n+="?b="+App.__BUILD),i.push(n);return $LAB.setGlobalDefaults({ErrorHandler:function(t){console.error(t.stack)}}).script(i).wait(function(){return App.emit(Event.ImportEnd),e?e():void 0})}};var Preload;Preload=function(t,e){var n,i,r,o,s,a,u,h,l;if(t){for(Utils.isString(t)&&(t=[t]),s=[],a=0,h=t.length;h>a;a++)o=t[a],s.push({image:o,loaded:!1});for(r=0,n=0,u=0,l=s.length;l>u;u++)o=s[u],o.loaded||(o.loaded=!0,i=new Image({source:o.image}),i.on(Event.Load,function(t,n){var i;r++,i=100*r/s.length,App.emit(Event.PreloadProgress,{images:s,current:n.image,progress:i}),r===s.length&&(App.emit(Event.PreloadEnd),e&&e())}))}};var Above,Below,Desktop,Mobile,Netbook,Phone,QHD,Screen,TV,Tablet,UHD,Watch,When;Watch="Watch",Mobile="Mobile",Phone="Phone",Tablet="Tablet",Netbook="Netbook",Desktop="Desktop",TV="TV",QHD="QHD",UHD="UHD",When=function(t,e,n){var i,r,o,s,a,u,h,l,p,c,d;for(t=Utils.capitalizeFirst(t),a={},arguments[3]&&Utils.isObject(arguments[3])&&(n={view:arguments[2],properties:arguments[3]}),Utils.isObject(n)&&!Utils.isArray(n)&&(n=[n]),u=0,p=n.length;p>u;u++)if(i=n[u],i.view&&i.properties){if(i.view._originalValues){for(r=[],s=Object.keys(i.properties),l=0,d=s.length;d>l;l++)o=s[l],o in i.view&&(r[o]=i.view[o]);i.view._originalValues=Utils.defaults(i.view._originalValues,r)}else for(i.view._originalValues={},s=Object.keys(i.properties),h=0,c=s.length;c>h;h++)o=s[h],o in i.view&&(i.view._originalValues[o]=i.view[o]);i.view["_"+t+e]||(i.view["_"+t+e]={}),i.view["_"+t+e]=Utils.extend(i.view["_"+t+e],i.properties),App._responsives[i.view.id]=i.view,a[i.view.id]=i.view}return App._updateResponsives(a)},App.when=When,Below=function(t,e,n){return When("below",t,e,n)},Above=function(t,e,n){return When("above",t,e,n)},Screen={definitions:{Watch:0,Mobile:320,Phone:480,Tablet:760,Netbook:960,Desktop:1200,TV:1600,QHD:1980,UHD:2600},below:[UHD,QHD,TV,Desktop,Netbook,Tablet,Phone,Mobile,Watch],above:[Watch,Mobile,Phone,Tablet,Netbook,Desktop,TV,QHD,UHD]},App._updateResponsivesStates=function(){var t;Below.states={Watch:!1,Mobile:!1,Phone:!1,Tablet:!1,Netbook:!1,UHD:!1,QHD:!1,TV:!1,Desktop:!1},Above.states={Watch:!1,Mobile:!1,Phone:!1,Tablet:!1,Netbook:!1,UHD:!1,QHD:!1,TV:!1,Desktop:!1};for(t in Screen.definitions)App.width>=Screen.definitions[t]&&(Above.states[t]=!0),App.width<=Screen.definitions[t]&&(Below.states[t]=!0);App.page&&App._updateResponsives(App._responsives)},App._updateResponsives=function(t){var e,n,i,r,o,s,a,u,h,l,p;for(o in t){for(r=t[o],i={},l=Screen.below,s=0,u=l.length;u>s;s++)n=l[s],e=Utils.capitalizeFirst(n),r["_Below"+e]&&Below.states[e]===!0&&(i=Utils.extend(i,r["_Below"+e]));for(p=Screen.above,a=0,h=p.length;h>a;a++)n=p[a],e=Utils.capitalizeFirst(n),r["_Above"+e]&&Above.states[e]===!0&&(i=Utils.extend(i,r["_Above"+e]));r.props=r._originalValues,r.props=i}};var View,__bind=function(t,e){return function(){return t.apply(e,arguments)}},__hasProp={}.hasOwnProperty,__extends=function(t,e){function n(){this.constructor=t}for(var i in e)__hasProp.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},__indexOf=[].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1},__slice=[].slice;View=function(t){function e(t){null==t&&(t={}),this.addListener=__bind(this.addListener,this),this.once=__bind(this.once,this),e.__super__.constructor.apply(this,arguments),this._children=[],this._createElement(),this.userInteraction=!1,this._context.addView(this),this._context.emit("view:create",this),this.props=Defaults.getDefaults(this._kind,t),t.parent&&delete t.parent,t.addTo&&delete t.addTo,t.props&&(this.props=t.props)}var n,i,r,o;return __extends(e,t),e.prototype._kind="View",e.prototype._elementType="div",e.prototype._createElement=function(){return this._element=document.createElement(this._elementType),this._element.setAttribute("id","Orbe"+this._kind+"::"+this.id),this._element.style.overflow="hidden",this._element.style.outline="none",this._element.style.position="relative",this._element.instance=this},e.prototype._insertElement=function(){return this.bringToFront(),this._context._element.appendChild(this._element)},e.define("html",{get:function(){return this._element.innerHTML||""},set:function(t){return this._element.innerHTML=t,this.emit("change:html",t)}}),e.define("context",{get:function(){return this._context}}),e.define("_domEventManager",{get:function(){return this._context.domEventManager.wrap(this._element)}}),e.define("element",{get:function(){return this._element}}),e.define("style",{importable:!0,exportable:!1,get:function(){return this._element.style},set:function(t){return Utils.extend(this._element.style,t),this.emit("change:style")}}),e.define("classList",{importable:!0,exportable:!1,get:function(){return this._element.classList}}),e.define("click",{get:function(){return this._eventClick},set:function(t){return this._eventClick=t,this.on(Event.Click,t)}}),e.define("doubleClick",{get:function(){return this._eventDoubleClick},set:function(t){return this._eventDoubleClick=t,this.on(Event.DoubleClick,t)}}),e.define("down",{get:function(){return this._eventDown},set:function(t){return this._eventDown=t,this.on(Event.Down,t)}}),e.define("over",{get:function(){return this._eventOver},set:function(t){return this._eventOver=t,this.on(Event.Over,t)}}),e.define("up",{get:function(){return this._eventUp},set:function(t){return this._eventUp=t,this.on(Event.Up,t)}}),e.define("in",{get:function(){return this._eventIn},set:function(t){return this._eventIn=t,this.on(Event.In,t)}}),e.define("out",{get:function(){return this._eventOut},set:function(t){return this._eventOut=t,this.on(Event.Out,t)}}),e.define("mouseDown",{get:function(){return this._eventDown},set:function(t){return this._eventDown=t,this.on(Event.Down,t)}}),e.define("mouseOver",{get:function(){return this._eventOver},set:function(t){return this._eventOver=t,this.on(Event.Over,t)}}),e.define("mouseUp",{get:function(){return this._eventUp},set:function(t){return this._eventUp=t,this.on(Event.Up,t)}}),e.define("mouseIn",{get:function(){return this._eventIn},set:function(t){return this._eventIn=t,this.on(Event.In,t)}}),e.define("mouseOut",{get:function(){return this._eventOut},set:function(t){return this._eventOut=t,this.on(Event.Out,t)}}),e._def=function(t,e,n){return this.define(t,{get:function(){return void 0===this["_"+t]?e:this["_"+t]},set:function(e){return this["_"+t]=e,n.call(this,e),this.emit("change:"+t,e)}})},e._def_style=function(t,e,n){return this._def(t,n,function(t){return this._element.style[e]=t})},e._alias=function(t,e){return this.define(t,{get:function(){return this[""+e]},set:function(t){return this[""+e]=t}})},e.define("do",{get:function(){return this._do},set:function(t){return Utils.isFunction(t)?(this._do=t,t.call(this)):void 0}}),e.define("name",{get:function(){return this._getPropertyValue("name")},set:function(t){return this._setPropertyValue("name",t),this._element.setAttribute("name",t)}}),e._def("fixed",!1,function(t){return t===!0?(this._fixed=!0,this._element.style.position="fixed"):(this._fixed=!1,""!==this._element.style.left?this._element.style.position="absolute":this._element.style.position="")}),e.define("margin",{get:function(){return void 0===this._margin&&(this._margin={x:0,y:0,top:0,right:0,bottom:0,left:0}),this._margin},set:function(t){var e,n,i;void 0===this._margin&&(this._margin={x:0,y:0,top:0,right:0,bottom:0,left:0}),"object"!=typeof t?("center"===t&&(t="auto"),this._margin.x=t,this._margin.y=t,this._margin.top=t,this._margin.right=t,this._margin.bottom=t,this._margin.left=t):(void 0!==t.x&&("center"===t.x&&(t.x="auto"),this._margin.x=t.x,void 0===t.left&&(t.left=t.x),void 0===t.right&&(t.right=t.x)),void 0!==t.y&&("center"===t.y&&(t.y="auto"),this._margin.y=t.y,void 0===t.top&&(t.top=t.y),void 0===t.bottom&&(t.bottom=t.y)),void 0!==t.top&&(this._margin.top=t.top),void 0!==t.bottom&&(this._margin.bottom=t.bottom),void 0!==t.left&&(this._margin.left=t.left),void 0!==t.right&&(this._margin.right=t.right)),this.emit("change:margin",this._margin),i="",e=void 0;for(n in this._margin)"x"!==n&&"y"!==n&&(e=this._margin[n],"number"==typeof this._margin[n]&&(e=this._margin[n]+"px"),i+=e+" ");return this._element.style.margin=i}}),e._alias("mg","margin"),e.define("marginX",{get:function(){return this.margin.x},set:function(t){return this.margin={x:t}}}),e.define("marginY",{get:function(){return this.margin.y},set:function(t){return this.margin={y:t}}}),e.define("marginTop",{get:function(){return this.margin.top},set:function(t){return this.margin={top:t}}}),e.define("marginRight",{get:function(){return this.margin.right},set:function(t){return this.margin={right:t}}}),e.define("marginBottom",{get:function(){return this.margin.bottom},set:function(t){return this.margin={bottom:t}}}),e.define("marginLeft",{get:function(){return this.margin.left},set:function(t){this.margin={left:t}}}),e.define("padding",{get:function(){return void 0===this._padding&&(this._padding={x:0,y:0,top:0,right:0,bottom:0,left:0}),this._padding},set:function(t){var e,n,i;void 0===this._padding&&(this._padding={x:0,y:0,top:0,right:0,bottom:0,left:0}),"object"!=typeof t?(this._padding.x=t,this._padding.y=t,this._padding.top=t,this._padding.right=t,this._padding.bottom=t,this._padding.left=t):(void 0!==t.x&&(this._padding.x=t.x,void 0===t.left&&(t.left=t.x),void 0===t.right&&(t.right=t.x)),void 0!==t.y&&(this._padding.y=t.y,void 0===t.top&&(t.top=t.y),void 0===t.bottom&&(t.bottom=t.y)),void 0!==t.top&&(this._padding.top=t.top),void 0!==t.bottom&&(this._padding.bottom=t.bottom),void 0!==t.left&&(this._padding.left=t.left),void 0!==t.right&&(this._padding.right=t.right)),this.emit("change:padding",this._padding),i="",e=void 0;for(n in this._padding)"x"!==n&&"y"!==n&&(e=this._padding[n],"number"==typeof this._padding[n]&&(e=this._padding[n]+"px"),i+=e+" ");return this._element.style.padding=i}}),e._alias("pg","padding"),e.define("paddingX",{get:function(){return this.padding.x},set:function(t){return this.padding={x:t}}}),e.define("paddingY",{get:function(){return this.padding.y},set:function(t){return this.padding={y:t}}}),e.define("paddingTop",{get:function(){return this.padding.top},set:function(t){return this.padding={top:t}}}),e.define("paddingRight",{get:function(){return this.padding.right},set:function(t){return this.padding={right:t}}}),e.define("paddingBottom",{get:function(){return this.padding.bottom},set:function(t){return this.padding={bottom:t}}}),e.define("paddingLeft",{get:function(){return this.padding.left},set:function(t){return this.padding={left:t}}}),e.define("x",{get:function(){var t;return t=this._element.style.left,t.indexOf("px")>=0&&(t=parseFloat(t,10)),""===t&&(t=0),t},set:function(t){return this._keepCenterX=!1,Utils.isObject(t)&&(t.centerX&&(this._keepCenterX=!0),t=t.value),Utils.isNumber(t)&&(t+="px"),this.fixed||(this._element.style.position="absolute"),this._element.style.left=t,this.emit("change:x",t),this.emit("change:left",t),this.emit("change:point",this.point),this.emit("change:frame",this.frame)}}),e.define("y",{get:function(){var t;return t=this._element.style.top,t.indexOf("px")>=0&&(t=parseFloat(t,10)),""===t&&(t=0),t},set:function(t){return this._keepCenterY=!1,Utils.isObject(t)&&(t.centerY&&(this._keepCenterY=!0),t=t.value),Utils.isNumber(t)&&(t+="px"),this.fixed||(this._element.style.position="absolute"),this._element.style.top=t,this.emit("change:y",t),this.emit("change:top",t),this.emit("change:point",this.point),this.emit("change:frame",this.frame)}}),e._alias("top","y"),e._alias("left","x"),e.define("bottom",{get:function(){var t;return t=this._element.style.bottom,t.indexOf("px")>=0&&(t=parseFloat(t,10)),""===t&&(t=0),t},set:function(t){return Utils.isNumber(t)&&(t+="px"),this.fixed||(this._element.style.position="absolute"),this._element.style.bottom=t,this.emit("change:bottom",t)}}),e.define("right",{get:function(){var t;return t=this._element.style.right,t.indexOf("px")>=0&&(t=parseFloat(t,10)),""===t&&(t=0),t},set:function(t){return Utils.isNumber(t)&&(t+="px"),this.fixed||(this._element.style.position="absolute"),this._element.style.right=t,this.emit("change:right",t)}}),e.define("width",{configurable:!0,get:function(){var t,e,n;return void 0!==this._width&&"number"!=typeof this._width?this._width:0===this._element.offsetWidth&&void 0!==this._width?this._width:(e=""!==this._element.style.borderLeftWidth?this._element.style.borderLeftWidth:0,n=""!==this._element.style.borderRightWidth?this._element.style.borderRightWidth:0,t=parseFloat(e,10)+parseFloat(n,10),this._element.offsetWidth-t)},set:function(t){return"auto"===t?void(this._element.style.width=""):(this._width=t,Utils.isNumber(t)&&(t+="px"),this._element.style.width=t,this.emit("change:width",this._width),this.emit("change:size",this.size),this.emit("change:frame",this.frame))}}),e.define("height",{configurable:!0,get:function(){var t,e,n;return void 0!==this._height&&"number"!=typeof this._height?this._height:0===this._element.offsetHeight&&void 0!==this._height?this._height:(n=""!==this._element.style.borderTopWidth?this._element.style.borderTopWidth:0,e=""!==this._element.style.borderBottomWidth?this._element.style.borderBottomWidth:0,t=parseFloat(n,10)+parseFloat(e,10),this._element.offsetHeight-t)},set:function(t){return"auto"===t?void(this._element.style.height=""):(this._height=t,Utils.isNumber(t)&&(t+="px"),this._element.style.height=t,this.emit("change:height",this._height),this.emit("change:size",this.size),void this.emit("change:frame",this.frame))}}),e._alias("w","width"),e._alias("h","height"),e._def("minWidth",null,function(t){return Utils.isNumber(t)&&(t+="px"),this._element.style.minWidth=t}),e._def("maxWidth",null,function(t){return Utils.isNumber(t)&&(t+="px"),this._element.style.maxWidth=t}),e._def("minHeight",null,function(t){return Utils.isNumber(t)&&(t+="px"),this._element.style.minHeight=t}),e._def("maxHeight",null,function(t){return Utils.isNumber(t)&&(t+="px"),this._element.style.maxHeight=t}),e._def_min=function(t){return this.define("min"+t.toUpperCase(),{get:function(){var e;return e="left","y"===t&&(e="top"),"string"==typeof this[t]&&this[t].indexOf("%")>=0?parseFloat(this.computedStyle()[e],10):this[t]},set:function(e){this[t]=e}})},e._def_mid=function(t){return this.define("mid"+t.toUpperCase(),{get:function(){var e,n;return n="width","y"===t&&(n="height"),e="left","y"===t&&(e="top"),"string"==typeof this[t]&&this[t].indexOf("%")>=0?parseFloat(this.computedStyle()[e],10)+this[n]/2:this[t]+this[n]/2},set:function(e){var n;n="width","y"===t&&(n="height"),this[t]=e-this[n]/2}})},e._def_max=function(t){return this.define("max"+t.toUpperCase(),{get:function(){var e,n;return n="width","y"===t&&(n="height"),e="left","y"===t&&(e="top"),"string"==typeof this[t]&&this[t].indexOf("%")>=0?parseFloat(this.computedStyle()[e],10)+this[n]:this[t]+this[n]},set:function(e){var n;n="width","y"===t&&(n="height"),this[t]=e-this[n]}})},e._def_min("x"),e._def_min("y"),e._def_mid("x"),e._def_mid("y"),e._def_max("x"),e._def_max("y"),e.define("point",{get:function(){return{x:this.x,y:this.y}},set:function(t){void 0!==t.x&&(this.x=t.x),void 0!==t.y&&(this.y=t.y)}}),e.define("size",{get:function(){return{width:this.width,height:this.height}},set:function(t){void 0!==t.width&&(this.width=t.width),void 0!==t.height&&(this.height=t.height)}}),e.define("frame",{get:function(){return{x:this.x,y:this.y,width:this.width,height:this.height}},set:function(t){void 0!==t.x&&(this.x=t.x),void 0!==t.y&&(this.y=t.y),void 0!==t.width&&(this.width=t.width),void 0!==t.height&&(this.height=t.height)}}),e.define("windowFrame",{get:function(){return{x:this._element.getBoundingClientRect().left,y:this._element.getBoundingClientRect().top,width:this.width,height:this.height}},set:function(t){return void 0!==t.x&&(this.x=t.x),void 0!==t.y&&(this.y=t.y),void 0!==t.width&&(this.width=t.width),void 0!==t.height&&(this.height=t.height),this.fixed=!0}}),e.define("backgroundColor",{configurable:!0,get:function(){return void 0===this._background?null:this._background},set:function(t){return t||(t=""),"clear"===t&&(t="transparent"),t=Color.toColor(t),t&&t.color?this._background=t.color:this._background=t,this._element.style.background=t}}),e._alias("bc","backgroundColor"),e.define("display",{get:function(){return"none"===this._element.style.display?!1:""===this._element.style.display?!0:this._element.style.display},set:function(t){return Utils.isString(t)?(this._element.style.display=t,this._element.style.webkitDisplay=t):t===!0?this._element.style.display="block":this._element.style.display="none"}}),e.define("visible",{get:function(){var t;return t=this._element.style.visibility,"visible"===t||""===t?!0:!1},set:function(t){return t=t===!0?"visible":"hidden",this._element.style.visibility=t}}),e.define("image",{configurable:!0,get:function(){return void 0===this._image?!1:this._image},set:function(t){return this._background=null,this._image=t,this._element.style.backgroundImage="url("+Utils.parseAsset(t)+")",this._element.style.backgroundSize="cover",this.imageRepeat=!1}}),e._alias("backgroundImage","image"),e.define("background",{get:function(){return this.image},set:function(t){return Color.isColor(t)||t.color?this.backgroundColor=t:(this.image=t,this.imagePosition="center center",this.imageSize="cover",this.imageRepeat=!1)}}),e.define("imageSize",{get:function(){return void 0===this._imageSize?"cover":this._image},set:function(t){return this._imageSize=t,Utils.isNumber(t)&&(t=100*t+"%"),this._element.style.backgroundSize=t}}),e._alias("imageScale","imageSize"),e.define("imageRepeat",{get:function(){return void 0===this._imageRepeat?!0:this._imageRepeat},set:function(t){return t!==!0&&"repeat"!==t?(this._imageRepeat=!1,this._element.style.backgroundRepeat="no-repeat"):(this._imageRepeat=!0,this._element.style.backgroundRepeat="repeat","cover"===this.imageSize?this.imageSize="auto":void 0)}}),e.define("imageFixed",{get:function(){return void 0===this._imageFixed&&(this._imageFixed=!1),this._imageFixed},set:function(t){return t===!0?(this._imageFixed=!0,this._element.style.backgroundAttachment="fixed"):(this._imageFixed=!1,this._element.style.backgroundAttachment="scroll")}}),e.define("imagePosition",{get:function(){return void 0===this._imagePosition&&(this._imagePosition=""),this._imagePosition},set:function(t){return this._imagePosition=t,"number"==typeof t&&(t+="px"),this._element.style.backgroundPosition=t}}),e._def_style("opacity","opacity",1),e._alias("alpha","opacity"),e.define("clip",{get:function(){return void 0===this._clip&&(this._clip=!0),
this._clip},set:function(t){return t===!0?(this._clip=!0,this._element.style.overflow="hidden"):(this._clip=!1,this._element.style.overflow="visible")}}),e.define("scrollTop",{get:function(){return this._element.scrollTop},set:function(t){return this._element.scrollTop=t}}),e._alias("scrollY","scrollTop"),e.define("scrollLeft",{get:function(){return this._element.scrollLeft},set:function(t){return this._element.scrollLeft=t}}),e._alias("scrollX","scrollLeft"),e.define("scrollFrame",{importable:!1,get:function(){var t;return t={x:this.scrollX,y:this.scrollY,width:this.width,height:this.height}},set:function(t){return this.scrollX=t.x,this.scrollY=t.y}}),e.define("scrollWidth",{get:function(){return this._element.scrollWidth}}),e.define("scrollHeight",{get:function(){return this._element.scrollHeight}}),e.define("scroll",{configurable:!0,get:function(){return void 0===this._scroll?!1:this._scroll},set:function(t){return t===!0?(this._scroll=!0,this._element.style.overflow="scroll",this._element.style.webkitOverflowScrolling="touch"):(this._scroll=!1,this.clip?this._element.style.overflow="hidden":this._element.style.overflow="auto")}}),e.define("scrollHorizontal",{configurable:!0,get:function(){return void 0===this._scrollHorizontal?!1:this._scrollHorizontal},set:function(t){t===!0?(this._scrollHorizontal=!0,this._element.style.overflowX="scroll",this.clip&&!this.scrollVertical&&(this._element.style.overflowY="hidden"),this._element.style.webkitOverflowScrolling="touch"):(this._scrollHorizontal=!1,this.clip?this._element.style.overflowX="hidden":this._element.style.overflowX="auto")}}),e.define("scrollVertical",{configurable:!0,get:function(){return void 0===this._scrollVertical?!1:this._scrollVertical},set:function(t){return t===!0?(this._scrollVertical=!0,this._element.style.overflowY="scroll",this.clip&&!this.scrollHorizontal&&(this._element.style.overflowX="hidden"),this._element.style.webkitOverflowScrolling="touch"):(this._scrollVertical=!1,this.clip?this._element.style.overflowY="hidden":this._element.style.overflowY="auto")}}),e._def_style("cursor","cursor","auto"),e.define("parent",{enumerable:!1,exportable:!1,importable:!0,get:function(){return this._parent||null},set:function(t){if(t!==this._parent){if(Utils.domCompleteCancel(this.__insertElement),this._parent&&(this._parent===App._wrapper&&(App._page=null,App.emit("change:page",{added:[],removed:[this]})),this.emit(Event.WillDisappear),this.willDisappear&&this.willDisappear(),this._parent._children=Utils.without(this._parent._children,this),this._element.parentNode===this._parent._element&&this._parent._element.removeChild(this._element),this._parent.emit("change:children",{added:[],removed:[this]}),this.emit(Event.DidDisappear),this.didDisappear&&this.didDisappear()),t){if("App"===t._kind){if("Page"!==this._kind)throw Error("View: parent view must be a page, not the App.");t=App._wrapper,App._page=this,App._pages_counter++}this.emit(Event.WillAppear),this.willAppear&&this.willAppear(this.__options),t._element.appendChild(this._element),t._children.push(this),"App"===t._kind&&"Page"===this._kind&&App.emit("change:page",{added:[this],removed:[]}),t.emit("change:children",{added:[this],removed:[]}),this.didAppear&&(this._didAppear=!0,this.didAppear(this.__options)),this.emit(Event.DidAppear)}return this._parent=t,this.emit("change:parent")}}}),e._alias("addTo","parent"),e.define("children",{enumerable:!1,exportable:!1,importable:!1,get:function(){return Utils.clone(this._children)}}),e.define("siblings",{enumerable:!1,exportable:!1,importable:!1,get:function(){return this.parent?Utils.without(this.parent._children,this):null}}),e.define("descendants",{enumerable:!1,exportable:!1,importable:!1,get:function(){var t,e;return e=[],t=function(n){return e.push(n),n.children.map(t)},this.children.map(t),e}}),e.define("index",{get:function(){return this._index||(this._index=0),this._index},set:function(t){return this._index=parseInt(t),this.emit("change:index",t),this._element.style.zIndex=t}}),e.define("flex",{get:function(){return this._flex},set:function(t){return t===!0?this._element.style.flex="1":t===!1?this._element.style.flex="0":(this._element.style.flex=String(t),this._element.style.webkitFlex=String(t)),this._flex=t}}),e.define("originX",{get:function(){return void 0===this._originX?.5:this._originX},set:function(t){(0>t||t>1)&&(t=.5),this._originX=t,void 0===this._originY&&(this._originY=.5),this._element.style.transformOrigin=100*t+"% "+100*this._originY+"%"}}),e.define("originY",{get:function(){return void 0===this._originY?.5:this._originY},set:function(t){return(0>t||t>1)&&(t=.5),this._originY=t,void 0===this._originX&&(this._originX=.5),this._element.style.transformOrigin=100*this._originX+"% "+100*t+"%"}}),e._def("perspective",0,function(t){return this._element.style.perspective=t+"px"}),e._def("preserve3D",!1,function(t){return t=t?"preserve-3d":"flat",this._element.style.webkitTransformStyle=t,this._element.style.transformStyle=t}),e._def("translate",0,function(t){return this._translateX=t,this._translateY=t,this._updateTransform()}),e._def("translateX",0,function(t){return void 0===this._translateY&&(this._translateY=0),this._updateTransform()}),e._def("translateY",0,function(t){return void 0===this._translateX&&(this._translateX=0),this._updateTransform()}),e._def("translateZ",0,function(t){return void 0===this._translateZ&&(this._translateZ=0),this._updateTransform()}),e._def("rotation",0,function(){return this._updateTransform()}),e._alias("rotate","rotation"),e._def("rotationX",0,function(){return this._updateTransform()}),e._alias("rotateX","rotationX"),e._def("rotationY",0,function(){return this._updateTransform()}),e._alias("rotateY","rotationY"),e._def("rotationZ",0,function(){return this._updateTransform()}),e._alias("rotateZ","rotationZ"),e._def("scale",1,function(t){return this._scaleX=t,this._scaleY=t,this._updateTransform()}),e._def("scaleX",1,function(t){return void 0===this._scaleY&&(this._scaleY=1),this._updateTransform()}),e._def("scaleY",1,function(t){return void 0===this._scaleX&&(this._scaleX=1),this._updateTransform()}),e._def("skew",0,function(t){return this._skewX=t,this._skewY=t,this._updateTransform()}),e._def("skewX",0,function(t){return void 0===this._skewY&&(this._skewY=0),this._updateTransform()}),e._def("skewY",0,function(t){return void 0===this._skewX&&(this._skewX=0),this._updateTransform()}),e._def("blur",0,function(t){return this._f_blur="blur("+t+"px) ",this._updateEffects()}),e._def("brightness",1,function(t){return this._f_brightness="brightness("+t+") ",this._updateEffects()}),e._def("saturate",100,function(t){return this._f_saturate="saturate("+t+"%) ",this._updateEffects()}),e.define("hueRotate",{get:function(){return void 0===this._hueRotate?0:this._hueRotate},set:function(t){return(0>t||t>360)&&(t=0),this._hueRotate=t,this._f_hueRotate="hue-rotate("+t+"deg) ",this._updateEffects()}}),e._def("contrast",100,function(t){return this._f_contrast="contrast("+t+"%) ",this._updateEffects()}),e.define("invert",{get:function(){return void 0===this._invert?0:this._invert},set:function(t){return(0>t||t>100)&&(t=0),this._invert=t,this._f_invert="invert("+t+"%) ",this._updateEffects()}}),e.define("grayscale",{get:function(){return void 0===this._grayscale?0:this._grayscale},set:function(t){return(0>t||t>100)&&(t=0),this._grayscale=t,this._f_grayscale="grayscale("+t+"%) ",this._updateEffects()}}),e.define("sepia",{get:function(){return void 0===this._sepia?0:this._sepia},set:function(t){return(0>t||t>100)&&(t=0),this._sepia=t,this._f_sepia="sepia("+t+"%) ",this._updateEffects()}}),e._def("backdropBlur",0,function(t){return this._bf_blur="blur("+t+"px) ",this._updateBackDropEffects()}),e._def("backdropBrightness",1,function(t){return this._bf_brightness="brightness("+t+") ",this._updateBackDropEffects()}),e._def("backdropSaturate",100,function(t){return this._bf_saturate="saturate("+t+"%) ",this._updateBackDropEffects()}),e.define("backdropHueRotate",{get:function(){return void 0===this._hueRotate?0:this._hueRotate},set:function(t){return(0>t||t>360)&&(t=0),this._hueRotate=t,this._bf_hueRotate="hue-rotate("+t+"deg) ",this._updateBackDropEffects()}}),e._def("backdropContrast",100,function(t){return this._bf_contrast="contrast("+t+"%) ",this._updateBackDropEffects()}),e.define("backdropInvert",{get:function(){return void 0===this._invert?0:this._invert},set:function(t){return(0>t||t>100)&&(t=0),this._invert=t,this._bf_invert="invert("+t+"%) ",this._updateBackDropEffects()}}),e.define("backdropGrayscale",{get:function(){return void 0===this._grayscale?0:this._grayscale},set:function(t){return(0>t||t>100)&&(t=0),this._grayscale=t,this._bf_grayscale="grayscale("+t+"%) ",this._updateBackDropEffects()}}),e.define("backdropSepia",{get:function(){return void 0===this._sepia?0:this._sepia},set:function(t){return(0>t||t>100)&&(t=0),this._sepia=t,this._bf_sepia="sepia("+t+"%) ",this._updateBackDropEffects()}}),e._def("shadowX",0,function(){return this._updateShadow()}),e._def("shadowY",0,function(){return this._updateShadow()}),e._def("shadowBlur",0,function(){return this._updateShadow()}),e._def("shadowSpread",0,function(){return this._updateShadow()}),e._def("shadowColor","black",function(){return this._updateShadow()}),e.define("shadowInset",{get:function(){return void 0===this._shadowInset?"":this._shadowInset},set:function(t){return t=t===!0?"inset":"",this._shadowInset=t,this._updateShadow()}}),e.define("borderBox",{get:function(){return void 0===this._borderBox&&(this._borderBox=!1),this._borderBox},set:function(t){return t===!0?(this._borderBox=!0,this._element.style.boxSizing="border-box"):(this._borderBox=!1,this._element.style.boxSizing="content-box")}}),e._def("borderRadius",0,function(t){return"number"==typeof t&&(t+="px"),this._element.style.borderRadius=t,this._element.style.webkitBorderRadius=t,this._element.style.mozBorderRadius=t,this._element.style.msBorderRadius=t,this._element.style.oBorderRadius=t}),e._alias("br","borderRadius"),e._alias("cornerRadius","borderRadius"),e._def("borderTopLeftRadius",0,function(t){return"number"==typeof t&&(t+="px"),this._element.style.borderTopLeftRadius=t,this._element.style.webkitBorderTopLeftRadius=t,this._element.style.mozBorderTopLeftRadius=t,this._element.style.msBorderTopLeftRadius=t,this._element.style.oBorderTopLeftRadius=t}),e._def("borderTopRightRadius",0,function(t){return"number"==typeof t&&(t+="px"),this._element.style.borderTopRightRadius=t,this._element.style.webkitBorderTopRightRadius=t,this._element.style.mozBorderTopRightRadius=t,this._element.style.msBorderTopRightRadius=t,this._element.style.oBorderTopRightRadius=t}),e._def("borderBottomLeftRadius",0,function(t){return"number"==typeof t&&(t+="px"),this._element.style.borderBottomLeftRadius=t,this._element.style.webkitBorderBottomLeftRadius=t,this._element.style.mozBorderBottomLeftRadius=t,this._element.style.msBorderBottomLeftRadius=t,this._element.style.oBorderBottomLeftRadiuss=t}),e._def("borderBottomRightRadius",0,function(t){return"number"==typeof t&&(t+="px"),this._element.style.borderBottomRightRadius=t,this._element.style.webkitBorderBottomRightRadius=t,this._element.style.mozBorderBottomRightRadius=t,this._element.style.msBorderBottomRightRadius=t,this._element.style.oBorderBottomRightRadius=t}),e._def("borderColor","",function(t){return"clear"===t&&(t="transparent"),this._element.style.borderColor=t}),e._def("borderTopColor","",function(t){return"clear"===t&&(t="transparent"),this._element.style.borderTopColor=t}),e._def("borderBottomColor","",function(t){return"clear"===t&&(t="transparent"),this._element.style.borderBottomColor=t}),e._def("borderLeftColor","",function(t){return"clear"===t&&(t="transparent"),this._element.style.borderLeftColor=t}),e._def("borderRightColor","",function(t){return"clear"===t&&(t="transparent"),this._element.style.borderRightColor=t}),e._def_style("borderStyle","borderStyle","solid"),e._def("borderWidth",0,function(t){return"number"==typeof t&&(t+="px"),this._element.style.borderWidth=t,this._element.style.borderStyle=this.borderStyle}),e._def("borderLeftWidth",0,function(t){return"number"==typeof t&&(t+="px"),this._element.style.borderLeftWidth=t,this._element.style.borderStyle=this.borderStyle}),e._def("borderRightWidth",0,function(t){return"number"==typeof t&&(t+="px"),this._element.style.borderRightWidth=t,this._element.style.borderStyle=this.borderStyle}),e._def("borderTopWidth",0,function(t){return"number"==typeof t&&(t+="px"),this._element.style.borderTopWidth=t,this._element.style.borderStyle=this.borderStyle}),e._def("borderBottomWidth",0,function(t){return"number"==typeof t&&(t+="px"),this._element.style.borderBottomWidth=t,this._element.style.borderStyle=this.borderStyle}),e.define("userInteraction",{get:function(){return void 0===this._userInteraction&&(this._userInteraction=!1),this._userInteraction},set:function(t){return t===!0?(this._userInteraction=!0,this.classList.remove("no-select"),this.classList.add("select")):(this._userInteraction=!1,this.classList.remove("select"),this.classList.add("no-select"))}}),e._alias("interaction","userInteraction"),e.define("states",{enumerable:!1,exportable:!1,importable:!1,get:function(){return null!=this._states?this._states:this._states=new ViewStates(this)}}),e.define("draggable",{get:function(){return null!=this._draggable?this._draggable:this._draggable=new ViewDraggable(this)},set:function(t){return Utils.isBoolean(t)?this.draggable.enabled=t:void 0}}),e.define("transition",{get:function(){return this._transition},set:function(t){var e;return t===!1?void(this._transition&&this._transition.disable()):(e={view:this,duration:.2},"object"==typeof t&&(t.duration&&(e.duration=t.duration),t.delay&&(e.delay=t.delay),t.curve&&(e.curve=t.curve)),this._transition=new Transition(e),this._transition.start())}}),e.define("isAnimating",{enumerable:!1,exportable:!1,get:function(){return 0!==this.animations().length}}),e.define("hoverAnimated",{get:function(){return this._hover?this._hover.values:this._hover={},this._hover},set:function(t){var e,n;for(this._hover={},this._hover.originalValues={},this._hover.transition=null,this._hover.animate=!0,this._hover.options={duration:.2},t.hasOwnProperty("animated")&&t.animated===!1&&(this._hover.animate=!1),t.hasOwnProperty("options")&&(this._hover.options=t.options,delete t.options),n=Object.keys(t),e=0;e<n.length;)n[e]in this&&(this._hover.originalValues[n[e]]=this[n[e]]),e++;return this._hover.values=t,this.on(Event.In,function(t,e){var n,i;if(!this._hover.animate)return void(this.props=this._hover.values);i={properties:this._hover.values,view:this};for(n in this._hover.options)i[n]=this._hover.options[n];return this._hover.transition=new Transition(i),this._hover.transition.start()}),this.on(Event.Out,function(t,e){return this._hover.animate?(this._hover.transition.options||(this._hover.transition.options={}),this._hover.transition.options.properties=this._hover.originalValues,this._hover.transition.start(!0)):void(this.props=this._hover.originalValues)})}}),e.define("hover",{get:function(){return this.hoverAnimated},set:function(t){return void 0!==t.animate&&(t.animated=t.animate),void 0===t.animated&&(t.animated=!1),this.hoverAnimated=t}}),e.define("delegate",{get:function(){return void 0===this._delegate&&(this._delegate=null),this._delegate},set:function(t){return this._delegate=t}}),e.define("pointerEvent",{get:function(){return"none"===this._element.style.pointerEvents?!1:!0},set:function(t){return t=t?"auto":"none",this._element.style.pointerEvents=t}}),e._alias("pointerEvents","pointerEvent"),e._alias("ignoreEvent","pointerEvent"),e._def("tooltip",null,function(t){return this._element.setAttribute("title",t)}),e.define("blend",{get:function(){return this._element.style.mixBlendMode},set:function(t){return this._element.style.mixBlendMode=t}}),e._def("force2d",!1,function(t){return t===!0?(this._element.style.webkitTransform="",this._element.style.mozTransform="",this._element.style.msTransform="",this._element.style.oTransform="",this._element.style.transform=""):void 0}),e.define("fontSize",{get:function(){return parseFloat(this._element.style.fontSize,10)},set:function(t){"number"==typeof t&&(t+="px"),this._element.style.fontSize=t}}),e._alias("fsize","fontSize"),e.define("fontStyle",{get:function(){return this._element.style.fontStyle},set:function(t){return this._element.style.fontStyle=t}}),e.define("fontWeight",{get:function(){return this._element.style.fontWeight},set:function(t){return this._element.style.fontWeight=t}}),e._alias("weight","fontWeight"),e.define("fontName",{get:function(){return this._element.style.fontFamily},set:function(t){return this._element.style.fontFamily=t+", sans-serif"}}),e._alias("fontFamily","fontName"),e.define("font",{get:function(){return this._element.style.font},set:function(t){return this._element.style.font=t}}),e.define("color",{get:function(){return this._element.style.color},set:function(t){return"clear"===t&&(t="transparent"),t=Color.toColor(t),t=t&&t.color?t.color:t,this._element.style.color=t}}),e.define("align",{get:function(){return this._element.style.textAlign},set:function(t){return this._element.style.textAlign=t}}),e._alias("textAlignment","align"),e._alias("textAlign","align"),e.prototype.addChild=function(t){return t.parent=this},e.prototype.add=function(t){return this.addChild(t)},e.prototype.removeChild=function(t){return __indexOf.call(this.children,t)<0?void 0:t.parent=null},e.prototype.remove=function(t){return this.removeChild(t)},e.prototype.ancestors=function(t){var e,n;if(null==t&&(t=!1),n=[],e=this,t===!1)for(;e.parent;)n.push(e.parent),e=e.parent;else for(;e._parentOrContext();)n.push(e._parentOrContext()),e=e._parentOrContext();return n},e.prototype.childrenWithName=function(t){return this.children.filter(function(e){return e.name===t})},e.prototype.siblingsWithName=function(t){return this.siblings.filter(function(e){return e.name===t})},e.prototype.childrenAbove=function(t,e,n){return null==e&&(e=0),null==n&&(n=0),this.children.filter(function(i){return Utils.framePointForOrigin(i.frame,e,n).y<t.y})},e.prototype.childrenBelow=function(t,e,n){return null==e&&(e=0),null==n&&(n=0),this.children.filter(function(i){return Utils.framePointForOrigin(i.frame,e,n).y>t.y})},e.prototype.childrenLeft=function(t,e,n){return null==e&&(e=0),null==n&&(n=0),this.children.filter(function(i){return Utils.framePointForOrigin(i.frame,e,n).x<t.x})},e.prototype.childrenRight=function(t,e,n){return null==e&&(e=0),null==n&&(n=0),this.children.filter(function(i){return Utils.framePointForOrigin(i.frame,e,n).x>t.x})},e.prototype._parentOrContext=function(){return this.parent?this.parent:this._context._parent?this._context._parent:void 0},e.prototype.bringToFront=function(){return this.siblings?this.index=Utils.max(Utils.union([0],this.siblings.map(function(t){return t.index})))+1:void 0},e.prototype.sendToBack=function(){return this.siblings?this.index=Utils.max(Utils.union([0],this.siblings.map(function(t){return t.index})))-1:void 0},e.prototype.placeBefore=function(t){var e,n,i,r;if(!(__indexOf.call(this.siblings,t)<0)){for(r=this.siblings,n=0,i=r.length;i>n;n++)e=r[n],e.index<=t.index&&(e.index-=1);return this.index=t.index+1}},e.prototype.placeBehind=function(t){var e,n,i,r;if(!(__indexOf.call(this.siblings,t)<0)){for(r=this.siblings,n=0,i=r.length;i>n;n++)e=r[n],e.index>=t.index&&(e.index+=1);return this.index=t.index-1}},e.prototype.computedStyle=function(t){return void 0!==t?window.getComputedStyle(this._element).getPropertyValue(t):window.getComputedStyle(this._element)},e.prototype.cx=function(){var t;return t=this.computedStyle().getPropertyValue("left"),""===t?null:parseFloat(t,10)},e.prototype.cy=function(){var t;return t=this.computedStyle().getPropertyValue("top"),""===t?null:parseFloat(t,10)},e.prototype.cwidth=function(){return parseFloat(this.computedStyle().getPropertyValue("width"),10)},e.prototype.cheight=function(){return parseFloat(this.computedStyle().getPropertyValue("height"),10)},e.prototype.destroy=function(t){var e,n,i,r,o;if(this.parent&&(this.parent._children=Utils.without(this.parent._children,this)),null!=(r=this._element.parentNode)&&r.removeChild(this._element),this.removeAllListeners(),this._context.removeView(this),this._context.emit("view:destroy",this),t)for(o=this.descendants,n=0,i=o.length;i>n;n++)e=o[n],e.destroy()},e.prototype.copy=function(){var t;return t=Utils.clone(this),t._element=this._element.cloneNode(!0),t._element.instance=t,t._events=void 0,t._id=Utils.randomID(),t._element.setAttribute("id","Orbe"+this._kind+"::"+t.id),t._parent=null,t},e.prototype.copySingle=function(){var t;return t=Utils.clone(this),t._parent=null,t._element=this._element.cloneNode(!1),t._events=void 0,t._id=Utils.randomID(),t._element.setAttribute("id","Orbe"+this._kind+"::"+t.id),t._children=[],t},e.prototype.querySelector=function(t){return this._element.querySelector(t)},e.prototype.querySelectorAll=function(t){return this._element.querySelectorAll(t)},e.prototype.pixelAlign=function(){return this.x=parseInt(this.x),this.y=parseInt(this.y)},e.prototype.contentFrame=function(){var t,e,n,i,r;for(n=0,e=0,t=0;t<this.children.length;)i=this.children[t].x+this.children[t].width,r=this.children[t].y+this.children[t].height,i>n&&(n=i),r>e&&(e=r),t++;return{x:0,y:0,width:n,height:e}},e.prototype.centerFrame=function(){var t,e,n;return this.parent?(t=this.frame,n=this.parent.width,Utils.isString(this.parent.width)&&(n=this.parent.cwidth()),e=this.parent.height,Utils.isString(this.parent.height)&&(e=this.parent.cheight()),Utils.frameSetMidX(t,parseInt(n/2-this.borderWidth-this.marginLeft)),Utils.frameSetMidY(t,parseInt(e/2-this.borderWidth-this.marginTop)),t):(t=this.frame,Utils.frameSetMidX(t,parseInt(this._context.width/2)-this.borderWidth-this.marginLeft),Utils.frameSetMidY(t,parseInt(this._context.height/2)-this.borderWidth-this.marginTop),t)},e.prototype.absoluteCenter=function(t){var e,n;if(e=this.centerFrame(),this.x={value:e.x,centerX:!0},this.y={value:e.y,centerY:!0},!t){if(!this.parent)return;(Utils.isString(this.parent.width)||Utils.isString(this.parent.height))&&(n=this,App.onResize(function(){return e=n.centerFrame(),n._keepCenterX&&(n.x={value:e.x,centerX:!0}),n._keepCenterY?n.y={value:e.y,centerY:!0}:void 0}))}return this},e.prototype.absoluteCenterX=function(t,e){var n;if(null==t&&(t=0),this.x={value:this.centerFrame().x+t,centerX:!0},!e){if(!this.parent)return;(Utils.isString(this.parent.width)||Utils.isString(this.parent.height))&&(n=this,App.onResize(function(){var e;return e=n.centerFrame(),n._keepCenterX?n.x={value:e.x+t,centerX:!0}:void 0}))}return this},e.prototype.absoluteCenterY=function(t,e){var n;if(null==t&&(t=0),this.y={value:this.centerFrame().y+t,centerY:!0},!e){if(!this.parent)return;(Utils.isString(this.parent.width)||Utils.isString(this.parent.height))&&(n=this,App.onResize(function(){var e;return e=n.centerFrame(),n._keepCenterY?n.y={value:e.y+t,centerY:!0}:void 0}))}return this},e.prototype.center=function(){return this._element.style.position="absolute",this.x="50%",this.y="50%",this.marginLeft=-(this.width/2),this.marginTop=-(this.height/2)},e.prototype.centerX=function(t){this.element.style.position="absolute",this.x="50%",void 0===t&&(t=0),this.marginLeft=-(this.width/2)+t},e.prototype.centerY=function(t){return this.element.style.position="absolute",this.y="50%",void 0===t&&(t=0),this.marginTop=-(this.height/2)+t},e.prototype.animate=function(t){var e,n;return n=t.start,n||(n=!0),delete t.start,t.view=this,e=new Animation(t),n&&e.start(),e},e.prototype.animations=function(){return this._context.animations.filter(function(t){return function(e){return e.options.view===t}}(this))},e.prototype.animatingProperties=function(){var t,e,n,i,r,o,s,a,u;for(e={},a=this.animations(),i=0,o=a.length;o>i;i++)for(t=a[i],u=t.animatingProperties(),r=0,s=u.length;s>r;r++)n=u[r],e[n]=t;return e},e.prototype.animateStop=function(){var t;return Utils.invoke(this.animations(),"stop"),null!=(t=this._draggable)?t.animateStop():void 0},e.prototype.animatingProperties=function(){var t,e,n,i,r,o,s,a,u;for(o={},a=this.animations(),e=0,i=a.length;i>e;){for(t=a[e],u=t.animatingProperties(),n=0,r=u.length;r>n;)s=u[n],o[s]=t,n++;e++}return o},e.prototype.enterFullScreen=function(){document.fullscreenElement&&document.webkitFullscreenElement&&document.mozFullScreenElement&&document.msFullscreenElement||(this._element.requestFullscreen?this._element.requestFullscreen():this._element.webkitRequestFullscreen?this._element.webkitRequestFullscreen():this._element.mozRequestFullScreen?this._element.mozRequestFullScreen():this._element.msRequestFullscreen&&this._element.msRequestFullscreen())},e.prototype.exitFullScreen=function(){(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)&&(document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen())},e.prototype.isFullScreen=function(){return document.fullscreenEnabled||document.mozFullscreenEnabled||document.webkitIsFullScreen?!0:!1},e.prototype.fadeIn=function(t){var e;return t||(t={}),e=!1,"number"==typeof t&&(e=t,t={}),t.props&&(t.properties=t.props),t.properties||(t.properties={}),t.properties.opacity=1,t.curve||(t.curve="linear"),e&&(t.time=e),this.animate(t)},e.prototype.fadeOut=function(t){var e;return t||(t={}),e=!1,"number"==typeof t&&(e=t,t={}),t.props&&(t.properties=t.props),t.properties||(t.properties={}),t.properties.opacity=0,t.curve||(t.curve="linear"),e&&(t.time=e),this.animate(t)},e.prototype.removeAll=function(){var t;for(t=0;t<this.children.length;)this.removeChild(this.children[t]),t++},e.prototype.empty=function(){return this.removeAll()},e.prototype.emit=function(){var t,n,i,r;if(n=arguments[0],t=2<=arguments.length?__slice.call(arguments,1):[],this._cancelClickEventInDragSession&&(n===Event.Click||n===Event.Tap||n===Event.TapStart||n===Event.TapEnd||n===Event.LongPress||n===Event.LongPressStart||n===Event.LongPressEnd)&&this._parentDraggableView()){if(i=null!=(r=this._parentDraggableView())?r.draggable.velocity:void 0,Math.abs(i.x)>this._cancelClickEventInDragSessionVelocity)return;if(Math.abs(i.y)>this._cancelClickEventInDragSessionVelocity)return}return e.__super__.emit.apply(this,[n].concat(__slice.call(t),[this]))},e.prototype.once=function(t,n){return e.__super__.once.call(this,t,n),this._addListener(t,n)},e.prototype.addListener=function(t,n){return t&&n?(e.__super__.addListener.call(this,t,n),this._addListener(t,n)):void 0},e.prototype.removeListener=function(t,n){if(!t)throw Error("View.off needs a valid event name");return e.__super__.removeListener.call(this,t,n),this._removeListener(t,n)},e.prototype._addListener=function(t,e){return(Utils.domValidEvent(this._element,t)||__indexOf.call(Utils.values(Gesture),t)>=0)&&!this._domEventManager.listeners(t).length?this._domEventManager.addEventListener(t,function(e){return function(n){return e.emit(t,n)}}(this)):void 0},e.prototype._removeListener=function(t,e){return this.listeners(t).length?void 0:this._domEventManager.removeAllListeners(t)},e.prototype._parentDraggableView=function(){var t,e,n,i,r;for(i=this.ancestors(),e=0,n=i.length;n>e;e++)if(t=i[e],null!=(r=t._draggable)?r.enabled:void 0)return t;return null},e.prototype.on=e.prototype.addListener,e.prototype.off=e.prototype.removeListener,e.prototype.onWillAppear=function(t){return this.on(Event.WillAppear,t)},e.prototype.onAppear=function(t){return this.on(Event.Appear,t)},e.prototype.onDidAppear=function(t){return this.on(Event.DidAppear,t)},e.prototype.onWillDisappear=function(t){return this.on(Event.WillDisappear,t)},e.prototype.onDisappear=function(t){return this.on(Event.Disappear,t)},e.prototype.onDidDisappear=function(t){return this.on(Event.DidDisappear,t)},e.prototype.onClick=function(t){return this.on(Event.Click,t)},e.prototype.onDoubleClick=function(t){return this.on(Event.DoubleClick,t)},e.prototype.onIn=function(t){return this.on(Event.In,t)},e.prototype.onOut=function(t){return this.on(Event.Out,t)},e.prototype.onDown=function(t){return this.on(Event.Down,t)},e.prototype.onOver=function(t){return this.on(Event.Over,t)},e.prototype.onUp=function(t){return this.on(Event.Up,t)},e.prototype.onMove=function(t){return this.on(Event.Move,t)},e.prototype.onRightClick=function(t){return this.on(Event.RightClick,t)},e.prototype.onMouseIn=function(t){return this.on(Event.MouseIn,t)},e.prototype.onMouseUp=function(t){return this.on(Event.MouseUp,t)},e.prototype.onMouseDown=function(t){return this.on(Event.MouseDown,t)},e.prototype.onMouseOver=function(t){return this.on(Event.MouseOver,t)},e.prototype.onMouseOut=function(t){return this.on(Event.MouseOut,t)},e.prototype.onMouseMove=function(t){return this.on(Event.MouseMove,t)},e.prototype.onMouseWheel=function(t){return this.on(Event.MouseWheel,t)},o=function(t){return this.on(Event.ScrollStart,t)},e.prototype.onScroll=function(t){return this.on(Event.Scroll,t)},r=function(t){return this.on(Event.ScrollEnd,t)},i=function(t){return this.on(Event.ScrollAnimationDidStart,t)},n=function(t){return this.on(Event.ScrollAnimationDidEnd,t)},e.prototype.onTouchStart=function(t){return this.on(Event.TouchStart,t)},e.prototype.onTouchEnd=function(t){return this.on(Event.TouchEnd,t)},e.prototype.onTouchMove=function(t){return this.on(Event.TouchMove,t)},e.prototype.onAnimationStart=function(t){return this.on(Event.AnimationStart,t)},e.prototype.onAnimationStop=function(t){return this.on(Event.AnimationStop,t)},e.prototype.onAnimationEnd=function(t){return this.on(Event.AnimationEnd,t)},e.prototype.onAnimationDidStart=function(t){return this.on(Event.AnimationDidStart,t)},e.prototype.onAnimationDidStop=function(t){return this.on(Event.AnimationDidStop,t)},e.prototype.onAnimationDidEnd=function(t){return this.on(Event.AnimationDidEnd,t)},e.prototype.onDragStart=function(t){return this.on(Event.DragStart,t)},e.prototype.onDragWillMove=function(t){return this.on(Event.DragWillMove,t)},e.prototype.onDragMove=function(t){return this.on(Event.DragMove,t)},e.prototype.onDragDidMove=function(t){return this.on(Event.DragDidMove,t)},e.prototype.onDrag=function(t){return this.on(Event.Drag,t)},e.prototype.onDragEnd=function(t){return this.on(Event.DragEnd,t)},e.prototype.onDragAnimationStart=function(t){return this.on(Event.DragAnimationStart,t)},e.prototype.onDragAnimationEnd=function(t){return this.on(Event.DragAnimationEnd,t)},e.prototype.onDirectionLockStart=function(t){return this.on(Event.DirectionLockStart,t)},e.prototype.onDragEnter=function(t){return this.on(Event.DragEnter,t)},e.prototype.onDragOver=function(t){return this.on(Event.DragOver,t)},e.prototype.onDragLeave=function(t){return this.on(Event.DragLeave,t)},e.prototype.onDrop=function(t){return this.on(Event.Drop,t)},e.prototype.onStateSwitch=function(t){return this.on(Event.StateDidSwitch,t)},e.prototype.onStateDidSwitch=function(t){return this.on(Event.StateDidSwitch,t)},e.prototype.onStateWillSwitch=function(t){return this.on(Event.StateWillSwitch,t)},e.prototype.onTap=function(t){return this.on(Event.Tap,t)},e.prototype.onTapStart=function(t){return this.on(Event.TapStart,t)},e.prototype.onTapEnd=function(t){return this.on(Event.TapEnd,t)},e.prototype.onDoubleTap=function(t){return this.on(Event.DoubleTap,t)},e.prototype.onForceTap=function(t){return this.on(Event.ForceTap,t)},e.prototype.onForceTapChange=function(t){return this.on(Event.ForceTapChange,t)},e.prototype.onForceTapStart=function(t){return this.on(Event.ForceTapStart,t)},e.prototype.onForceTapEnd=function(t){return this.on(Event.ForceTapEnd,t)},e.prototype.onLongPress=function(t){return this.on(Event.LongPress,t)},e.prototype.onLongPressStart=function(t){return this.on(Event.LongPressStart,t)},e.prototype.onLongPressEnd=function(t){
return this.on(Event.LongPressEnd,t)},e.prototype.onSwipe=function(t){return this.on(Event.Swipe,t)},e.prototype.onSwipeStart=function(t){return this.on(Event.SwipeStart,t)},e.prototype.onSwipeEnd=function(t){return this.on(Event.SwipeEnd,t)},e.prototype.onSwipeUp=function(t){return this.on(Event.SwipeUp,t)},e.prototype.onSwipeUpStart=function(t){return this.on(Event.SwipeUpStart,t)},e.prototype.onSwipeUpEnd=function(t){return this.on(Event.SwipeUpEnd,t)},e.prototype.onSwipeDown=function(t){return this.on(Event.SwipeDown,t)},e.prototype.onSwipeDownStart=function(t){return this.on(Event.SwipeDownStart,t)},e.prototype.onSwipeDownEnd=function(t){return this.on(Event.SwipeDownEnd,t)},e.prototype.onSwipeLeft=function(t){return this.on(Event.SwipeLeft,t)},e.prototype.onSwipeLeftStart=function(t){return this.on(Event.SwipeLeftStart,t)},e.prototype.onSwipeLeftEnd=function(t){return this.on(Event.SwipeLeftEnd,t)},e.prototype.onSwipeRight=function(t){return this.on(Event.SwipeRight,t)},e.prototype.onSwipeRightStart=function(t){return this.on(Event.SwipeRightStart,t)},e.prototype.onSwipeRightEnd=function(t){return this.on(Event.SwipeRightEnd,t)},e.prototype.onPan=function(t){return this.on(Event.Pan,t)},e.prototype.onPanStart=function(t){return this.on(Event.PanStart,t)},e.prototype.onPanEnd=function(t){return this.on(Event.PanEnd,t)},e.prototype.onPanLeft=function(t){return this.on(Event.PanLeft,t)},e.prototype.onPanRight=function(t){return this.on(Event.PanRight,t)},e.prototype.onPanUp=function(t){return this.on(Event.PanUp,t)},e.prototype.onPanDown=function(t){return this.on(Event.PanDown,t)},e.prototype.onScale=function(t){return this.on(Event.Scale,t)},e.prototype.onScaleStart=function(t){return this.on(Event.ScaleStart,t)},e.prototype.onScaleEnd=function(t){return this.on(Event.ScaleEnd,t)},e.prototype.onRotate=function(t){return this.on(Event.Rotate,t)},e.prototype.onRotateStart=function(t){return this.on(Event.RotateStart,t)},e.prototype.onRotateEnd=function(t){return this.on(Event.RotateEnd,t)},e.prototype.toInspect=function(){var t;return t=function(t){return parseInt(t)===t?parseInt(t):Utils.round(t,1)},this.name?"<"+this._kind+" id:"+this.id+" name:"+this.name+" ("+t(this.x)+","+t(this.y)+") "+t(this.width)+"x"+t(this.height)+">":"<"+this._kind+" id:"+this.id+" ("+t(this.x)+","+t(this.y)+") "+t(this.width)+"x"+t(this.height)+">"},e.prototype._updateShadow=function(){return this._element.style.boxShadow=this.shadowX+"px "+this.shadowY+"px "+this.shadowBlur+"px "+this.shadowSpread+"px "+this.shadowColor+" "+this.shadowInset},e.prototype._updateEffects=function(){var t;this._f_blur||(this._f_blur=""),this._f_hueRotate||(this._f_hueRotate=""),this._f_invert||(this._f_invert=""),this._f_contrast||(this._f_contrast=""),this._f_grayscale||(this._f_grayscale=""),this._f_sepia||(this._f_sepia=""),this._f_saturate||(this._f_saturate=""),this._f_brightness||(this._f_brightness=""),t=this._f_blur+this._f_brightness+this._f_saturate+this._f_hueRotate+this._f_contrast+this._f_invert+this._f_sepia+this._f_grayscale,this._element.style.WebkitFilter=t,this._element.style.filter=t},e.prototype._updateBackDropEffects=function(){var t;this._bf_blur||(this._bf_blur=""),this._bf_hueRotate||(this._bf_hueRotate=""),this._bf_invert||(this._bf_invert=""),this._bf_contrast||(this._bf_contrast=""),this._bf_grayscale||(this._bf_grayscale=""),this._bf_sepia||(this._bf_sepia=""),this._bf_saturate||(this._bf_saturate=""),this._bf_brightness||(this._bf_brightness=""),t=this._bf_blur+this._bf_brightness+this._bf_saturate+this._bf_hueRotate+this._bf_contrast+this._bf_invert+this._bf_sepia+this._bf_grayscale,this._element.style.WebkitBackdropFilter=t,this._element.style.backdropFilter=t},e.prototype._updateTransform=function(){var t,e,n,i;return t="",(void 0!==this._translateX||void 0!==this._translateY)&&(e="",n="","number"==typeof this._translateX&&(e="px"),"number"==typeof this._translateY&&(n="px"),t+="translate("+this._translateX+e+", "+this._translateY+n+") "),void 0!==this._translateZ&&(i="","number"==typeof this._translateZ&&(i="px"),t+="translateZ("+this._translateZ+i+") "),void 0!==this._rotation&&(t+="rotate("+this._rotation+"deg) "),void 0!==this._rotationX&&(t+="rotateX("+this._rotationX+"deg) "),void 0!==this._rotationY&&(t+="rotateY("+this._rotationY+"deg) "),void 0!==this._rotationZ&&(t+="rotateZ("+this._rotationZ+"deg) "),void 0!==this._scale&&(t+=this._scaleX===this._scaleY?"scale("+this._scaleX+") ":"scale("+this._scaleX+", "+this._scaleY+") "),(void 0!==this._skewX||void 0!==this._skewY)&&(t+=this._skewX===this._skewY?"skew("+this._skewX+"deg) ":"skew("+this._skewX+"deg, "+this._skewY+"deg) "),this._element.style.webkitTransform=t,this._element.style.mozTransform=t,this._element.style.msTransform=t,this._element.style.oTransform=t,this._element.style.transform=t},e}(Element);var ViewStates,ViewStatesIgnoredKeys,__hasProp={}.hasOwnProperty,__extends=function(t,e){function n(){this.constructor=t}for(var i in e)__hasProp.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},__indexOf=[].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1},__slice=[].slice;ViewStatesIgnoredKeys=["ignoreEvent"],ViewStates=function(t){function e(t){this.view=t,this._states={},this._orderedStates=[],this.animationOptions={},this.add("default",this.view.props),this._currentState="default",this._previousStates=[],e.__super__.constructor.apply(this,arguments)}return __extends(e,t),e.prototype.add=function(t,n){var i,r,o;{if(!Utils.isObject(t))return i=function(){throw Error('Usage example: view.states.add("someName", {x:500})')},Utils.isString(t)||i(),Utils.isObject(n)||i(),this._orderedStates.push(t),this._states[t]=e.filterStateProperties(n);for(r in t)o=t[r],this.add(r,o)}},e.prototype.remove=function(t){return this._states.hasOwnProperty(t)?(delete this._states[t],this._orderedStates=Utils.without(this._orderedStates,t)):void 0},e.prototype["switch"]=function(t,e,n){var i,r,o,s,a,u,h,l,p,c,d;if(null==n&&(n=!1),o=arguments,s=void 0,Utils.isFunction(arguments[1])?s=arguments[1]:Utils.isFunction(arguments[2])?s=arguments[2]:Utils.isFunction(arguments[3])&&(s=arguments[3]),!this._states.hasOwnProperty(t))throw Error("No such state: '"+t+"'");this.emit(Event.StateWillSwitch,this._currentState,t,this),this._previousStates.push(this._currentState),this._currentState=t,u={},r=this.animatingKeys(),c=this._states[t];for(h in c)p=c[h],__indexOf.call(ViewStatesIgnoredKeys,h)>=0||__indexOf.call(r,h)<0||(Utils.isFunction(p)&&(p=p.call(this.view,this.view,h,t)),u[h]=p);i=[];for(a in u)l=u[a],Utils.isNumber(l)?i.push(a):Color.isColorObject(l)?i.push(a):null===l&&i.push(a);return 0===i.length&&(n=!0),n===!0?(this.view.props=u,this.emit(Event.StateDidSwitch,Utils.last(this._previousStates),this._currentState,this)):(null==e&&(e=this.animationOptions),e.properties=u,null!=(d=this._animation)&&d.stop(),this._animation=this.view.animate(e),this._animation.once("stop",function(e){return function(){for(a in u)l=u[a],Utils.isNumber(l)||Color.isColorObject(l)||(e.view[a]=l);return s&&s(Utils.last(e._previousStates),e._currentState,e),Utils.last(e._previousStates)!==t?e.emit(Event.StateDidSwitch,Utils.last(e._previousStates),e._currentState,e):void 0}}(this)))},e.prototype.switchInstant=function(t,e){return this["switch"](t,null,!0,e)},e.define("state",{get:function(){return this._currentState}}),e.define("current",{get:function(){return this._currentState}}),e.define("all",{get:function(){return Utils.clone(this._orderedStates)}}),e.prototype.states=function(){return Utils.clone(this._orderedStates)},e.prototype.animatingKeys=function(){var t,e,n,i;t=[],i=this._states;for(n in i)e=i[n],t=Utils.union(t,Utils.keys(e));return t},e.prototype.previous=function(t,e){var n,i,r;return n=arguments,r=Utils.last(n),i=void 0,Utils.isFunction(r)&&(n=Array.prototype.slice.call(arguments),i=n.pop(),t===i&&(t=void 0),e===i&&(e={})),null==t&&(t=this.states()),this["switch"](Utils.arrayPrev(t,this._currentState),e,i)},e.prototype.next=function(){var t,e,n,i,r,o;return t=arguments,i=Utils.last(t),e=void 0,Utils.isFunction(i)&&(t=Array.prototype.slice.call(arguments),e=t.pop()),r=Utils.arrayFromArguments(t),r.length||(r=this.states(),n=r.indexOf(this._currentState),r=n+1>r.length?[r[0]]:[r[n+1]]),o=this,this["switch"](Utils.arrayNext(r,this._currentState),function(){return r.shift(),r.length>0?e?o.next(r,e):o.next(r):e?e():void 0})},e.prototype.last=function(t){var e,n,i,r;return e=arguments,i=Utils.last(e),n=void 0,Utils.isFunction(i)&&(e=Array.prototype.slice.call(arguments),n=e.pop(),t===n&&(t={})),r=void 0,r=this._previousStates.length?this._previousStates:this.states(),this["switch"](Utils.last(r),t,n)},e.prototype.emit=function(){var t,n;return t=1<=arguments.length?__slice.call(arguments,0):[],e.__super__.emit.apply(this,arguments),(n=this.view).emit.apply(n,t)},e.filterStateProperties=function(t){var e,n,i;n={};for(e in t)i=t[e],Utils.isString(i)&&Utils.endsWith(e.toLowerCase(),"color")&&Color.isColorString(i)?n[e]=new Color(i):(Utils.isNumber(i)||Utils.isFunction(i)||Utils.isBoolean(i)||Utils.isString(i)||Color.isColorObject(i)||null===i)&&(n[e]=i);return n},e}(Element);var ViewDraggable,__bind=function(t,e){return function(){return t.apply(e,arguments)}},__hasProp={}.hasOwnProperty,__extends=function(t,e){function n(){this.constructor=t}for(var i in e)__hasProp.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};Event.DragSessionStart="dragsessionstart",Event.DragSessionMove="dragsessionmove",Event.DragSessionEnd="dragsessionend",Event.DragAnimationDidStart=Event.DragAnimationStart,Event.DragAnimationDidEnd=Event.DragAnimationEnd,Event.DirectionLockDidStart=Event.DirectionLockStart,ViewDraggable=function(t){function e(t){var n;this.view=t,this._stopSimulation=__bind(this._stopSimulation,this),this._onSimulationStop=__bind(this._onSimulationStop,this),this._onSimulationStep=__bind(this._onSimulationStep,this),this._touchEnd=__bind(this._touchEnd,this),this._touchMove=__bind(this._touchMove,this),this._touchStart=__bind(this._touchStart,this),this._updateViewPosition=__bind(this._updateViewPosition,this),this.touchStart=__bind(this.touchStart,this),n=Defaults.get("ViewDraggable",{}),e.__super__.constructor.call(this,n),Utils.extend(this,n),this.enabled=!0,this._eventBuffer=new EventBuffer,this._constraints=null,this._ignoreUpdateViewPosition=!0,this.attach()}return __extends(e,t),e.define("speedX",e.simpleProperty("speedX",1)),e.define("speedY",e.simpleProperty("speedY",1)),e.define("horizontal",e.simpleProperty("horizontal",!0)),e.define("vertical",e.simpleProperty("vertical",!0)),e.define("momentumVelocityMultiplier",e.simpleProperty("momentumVelocityMultiplier",800)),e.define("directionLock",e.simpleProperty("directionLock",!1)),e.define("directionLockThreshold",e.simpleProperty("directionLockThreshold",{x:10,y:10})),e.define("propagateEvent",e.simpleProperty("propagateEvent",!0)),e.define("constraints",{get:function(){return this._constraints},set:function(t){return t&&Utils.isObject(t)?(t=Utils.pick(t,["x","y","width","height"]),t=Utils.defaults(t,{x:0,y:0,width:0,height:0}),this._constraints=t):this._constraints={x:0,y:0,width:0,height:0},this._constraints?this._updateSimulationConstraints(this._constraints):void 0}}),e.define("isDragging",{get:function(){return this._isDragging||!1}}),e.define("isAnimating",{get:function(){return this._isAnimating||!1}}),e.define("isMoving",{get:function(){return this._isMoving||!1}}),e.define("viewStartPoint",{get:function(){return this._viewStartPoint||this.view.point}}),e.define("cursorStartPoint",{get:function(){return this._cursorStartPoint||{x:0,y:0}}}),e.define("viewCursorOffset",{get:function(){return this._viewCursorOffset||{x:0,y:0}}}),e.define("offset",{get:function(){var t;return this._correctedViewStartPoint?t={x:this.view.x-this._correctedViewStartPoint.x,y:this.view.y-this._correctedViewStartPoint.y}:{x:0,y:0}}}),e.prototype.attach=function(){return this.view.on(Gesture.TapStart,this.touchStart),this.view.on("change:x",this._updateViewPosition),this.view.on("change:y",this._updateViewPosition)},e.prototype.remove=function(){return this.view.off(Gesture.TapStart,this.touchStart),this.view.off(Gesture.Pan,this._touchMove),this.view.off(Gesture.PanEnd,this._touchEnd)},e.prototype.updatePosition=function(t){return t},e.prototype.touchStart=function(t){return this._touchStart(t)},e.prototype._updateViewPosition=function(){return this._ignoreUpdateViewPosition!==!0?this._point=this.view.point:void 0},e.prototype._touchStart=function(t){var e,n,i,r,o,s;for(Event.wrap(document).addEventListener(Gesture.Pan,this._touchMove),Event.wrap(document).addEventListener(Gesture.TapEnd,this._touchEnd),this._isMoving=this.isAnimating,s=this.view.animations(),r=0,o=s.length;o>r;r++)e=s[r],n=e.options.properties,(n.hasOwnProperty("x")||n.hasOwnProperty("y"))&&e.stop();return this._stopSimulation(),this._resetdirectionLock(),t.preventDefault(),this.propagateEvent===!1&&t.stopPropagation(),i=Event.touchEvent(t),this._eventBuffer.push({x:i.clientX,y:i.clientY,t:Date.now()}),this._viewStartPoint=this.view.point,this._correctedViewStartPoint=this.view.point,this.constraints&&this.bounce&&(this._correctedViewStartPoint=this._constrainPosition(this._correctedViewStartPoint,this.constraints,1/this.overdragScale)),this._cursorStartPoint={x:i.clientX,y:i.clientY},this._viewCursorOffset={x:i.clientX-this._correctedViewStartPoint.x,y:i.clientY-this._correctedViewStartPoint.y},this._point=this._correctedViewStartPoint,this._ignoreUpdateViewPosition=!1,this.emit(Event.DragSessionStart,t)},e.prototype._touchMove=function(t){var e,n,i,r,o;if(this.enabled){if(this._point||this.touchStart(t),this._lastEvent=t,t.preventDefault(),this.propagateEvent===!1&&t.stopPropagation(),o=Event.touchEvent(t),this._eventBuffer.push({x:o.clientX,y:o.clientY,t:Date.now()}),n=Utils.clone(this._point),i=this.view.scale*this.view.scaleX,r=this.view.scale*this.view.scaleY,this.horizontal&&(n.x=this._point.x+t.delta.x*i*this.speedX),this.vertical&&(n.y=this._point.y+t.delta.y*r*this.speedY),this._point=Utils.clone(n),this._constraints&&(n=this._constrainPosition(n,this._constraints,this.overdragScale)),this.directionLock){if(!this._directionLockEnabledX&&!this._directionLockEnabledY)return e=t.offset,e.x=e.x*this.speedX*this.view.scaleX*this.view.scale,e.y=e.y*this.speedY*this.view.scaleY*this.view.scale,void this._updatedirectionLock(e);this._directionLockEnabledX&&(n.x=this._viewStartPoint.x),this._directionLockEnabledY&&(n.y=this._viewStartPoint.y)}return(n.x!==this._viewStartPoint.x||n.y!==this._viewStartPoint.y)&&(this._isDragging||(this._isDragging=!0,this._isMoving=!0,this.emit(Event.DragStart,t))),this.isDragging&&this.emit(Event.DragWillMove,t),this.pixelAlign&&(this.horizontal&&(n.x=parseInt(n.x)),this.vertical&&(n.y=parseInt(n.y))),this._ignoreUpdateViewPosition=!0,this.view.point=this.updatePosition(n),this._ignoreUpdateViewPosition=!1,this.isDragging&&(this.emit(Event.Move,this.view.point),this.emit(Event.DragDidMove,t)),this.emit(Event.DragSessionMove,t)}},e.prototype._touchEnd=function(t){return Event.wrap(document).removeEventListener(Gesture.Pan,this._touchMove),Event.wrap(document).removeEventListener(Gesture.TapEnd,this._touchEnd),this.propagateEvent===!1&&t.stopPropagation(),this._startSimulation(),this.emit(Event.DragSessionEnd,t),this._isDragging&&this.emit(Event.DragEnd,t),this._isDragging=!1,this._ignoreUpdateViewPosition=!0},e.define("constraintsOffset",{get:function(){var t,e,n,i,r,o,s,a;return this.constraints?(a=this._calculateConstraints(this.constraints),i=a.minX,e=a.maxX,r=a.minY,n=a.maxY,s=this.view.point,t={x:Utils.clamp(s.x,i,e),y:Utils.clamp(s.y,r,n)},o={x:s.x-t.x,y:s.y-t.y}):{x:0,y:0}}}),e.define("isBeyondConstraints",{get:function(){var t;return t=this.constraintsOffset,0!==t.x?!0:0!==t.y?!0:!1}}),e.prototype._clampAndScale=function(t,e,n,i){return e>t&&(t=e+(t-e)*i),t>n&&(t=n+(t-n)*i),t},e.prototype._calculateConstraints=function(t){var e;return t?(t.width<this.view.width&&(t.width=this.view.width),t.height<this.view.height&&(t.height=this.view.height),e={minX:Utils.frameGetMinX(t),maxX:Utils.frameGetMaxX(t),minY:Utils.frameGetMinY(t),maxY:Utils.frameGetMaxY(t)},e.maxX-=this.view.width,e.maxY-=this.view.height,e):e={minX:1/0,maxX:1/0,minY:1/0,maxY:1/0}},e.prototype._constrainPosition=function(t,e,n){var i,r,o,s,a,u;return u=this._calculateConstraints(this._constraints),o=u.minX,i=u.maxX,s=u.minY,r=u.maxY,a=this.overdrag?{x:this._clampAndScale(t.x,o,i,n),y:this._clampAndScale(t.y,s,r,n)}:{x:Utils.clamp(t.x,o,i),y:Utils.clamp(t.y,s,r)},(0===this.speedX||this.horizontal===!1)&&(a.x=t.x),(0===this.speedY||this.vertical===!1)&&(a.y=t.y),a},e.define("velocity",{get:function(){return this.isAnimating?this._calculateSimulationVelocity():this._eventBuffer.velocity}}),e.define("angle",{get:function(){return this._eventBuffer.angle}}),e.define("direction",{get:function(){var t;return t=this.velocity,Math.abs(t.x)>Math.abs(t.y)?t.x>0?"right":"left":t.y>0?"down":"up"}}),e.prototype.calculateVelocity=function(){return this.velocity},e.prototype._calculateSimulationVelocity=function(){var t,e,n;return e=this._simulation.x.finished(),n=this._simulation.y.finished(),t={x:0,y:0},e||(t.x=this._simulation.x.simulator.state.v/this.momentumVelocityMultiplier),n||(t.y=this._simulation.y.simulator.state.v/this.momentumVelocityMultiplier),t},e.prototype.emit=function(t,n){return this.view.emit(t,n),e.__super__.emit.call(this,t,n)},e.prototype._updatedirectionLock=function(t){return this._directionLockEnabledX=Math.abs(t.y)>this.directionLockThreshold.y,this._directionLockEnabledY=Math.abs(t.x)>this.directionLockThreshold.x,this._directionLockEnabledX||this._directionLockEnabledY?this.emit(Event.DirectionLockStart,{x:this._directionLockEnabledX,y:this._directionLockEnabledY}):void 0},e.prototype._resetdirectionLock=function(){return this._directionLockEnabledX=!1,this._directionLockEnabledY=!1},e.prototype._setupSimulation=function(){return this._simulation?void 0:(this._simulation={x:this._setupSimulationForAxis("x"),y:this._setupSimulationForAxis("y")},this._updateSimulationConstraints(this.constraints))},e.prototype._setupSimulationForAxis=function(t){var e,n;return e={},e[t]=!0,n=new Simulation({view:this.view,properties:e,model:"inertial-scroll",modelOptions:{momentum:this.momentumOptions,bounce:this.bounceOptions}}),n.on(Event.SimulationStep,function(e){return function(n){return e._onSimulationStep(t,n)}}(this)),n.on(Event.SimulationStop,function(e){return function(n){return e._onSimulationStop(t,n)}}(this)),n},e.prototype._updateSimulationConstraints=function(t){var e,n,i,r,o;if(this._simulation)return t?(o=this._calculateConstraints(this._constraints),i=o.minX,e=o.maxX,r=o.minY,n=o.maxY,this._simulation.x.simulator.options={min:i,max:e},this._simulation.y.simulator.options={min:r,max:n}):(this._simulation.x.simulator.options={min:-(1/0),max:+(1/0)},this._simulation.y.simulator.options={min:-(1/0),max:+(1/0)})},e.prototype._onSimulationStep=function(t,e){var n,i,r,o,s,a,u;if(!("x"===t&&this.horizontal===!1||"y"===t&&this.vertical===!1))return this.constraints?this.bounce?n=e.x-this.view[t]:(u=this._calculateConstraints(this._constraints),o=u.minX,i=u.maxX,s=u.minY,r=u.maxY,"x"===t&&(n=Utils.clamp(e.x,o,i)-this.view[t]),"y"===t&&(n=Utils.clamp(e.x,s,r)-this.view[t])):n=e.x-this.view[t],a=this.view.point,"x"===t&&(a[t]=a[t]+n),"y"===t&&(a[t]=a[t]+n),this.updatePosition(a),this.view[t]=this.updatePosition(a)[t],this.emit(Event.Move,this.view.point)},e.prototype._onSimulationStop=function(t,e){return"x"===t&&this.horizontal===!1||"y"===t&&this.vertical===!1||!this._simulation?void 0:(this.pixelAlign&&(this.view[t]=parseInt(this.view[t])),this._simulation.x.finished()&&this._simulation.y.finished()?this._stopSimulation():void 0)},e.prototype._startSimulation=function(){var t,e,n,i,r,o,s,a,u,h;if((this.momentum||this.bounce)&&!(this.isBeyondConstraints===!1&&this.momentum===!1||this.isBeyondConstraints===!1&&this.isDragging===!1||(h=this._calculateConstraints(this._constraints),n=h.minX,t=h.maxX,i=h.minY,e=h.maxY,r=this.overdrag===!0||this.view.x>n&&this.view.x<t,o=this.overdrag===!0||this.view.y>i&&this.view.y<e,r===o&&o===!1)))return s=this.velocity,a=s.x*this.momentumVelocityMultiplier*this.speedX*this.view.scaleX*this.view.scale,u=s.y*this.momentumVelocityMultiplier*this.speedY*this.view.scaleY*this.view.scale,this._setupSimulation(),this._isAnimating=!0,this._isMoving=!0,this._simulation.x.simulator.setState({x:this.view.x,v:a}),r&&this._simulation.x.start(),this._simulation.y.simulator.setState({x:this.view.y,v:u}),o&&this._simulation.y.start(),this.emit(Event.DragAnimationStart)},e.prototype._stopSimulation=function(){var t,e;return this._isAnimating=!1,this._simulation?(null!=(t=this._simulation)&&t.x.stop(),null!=(e=this._simulation)&&e.y.stop(),this._simulation=null,this.emit(Event.Move,this.view.point),this.emit(Event.DragAnimationEnd)):void 0},e.prototype.animateStop=function(){return this._stopSimulation()},e.prototype.onMove=function(t){return this.on(Event.Move,t)},e.prototype.onDragStart=function(t){return this.on(Event.DragStart,t)},e.prototype.onDragWillMove=function(t){return this.on(Event.DragWillMove,t)},e.prototype.onDragMove=function(t){return this.on(Event.DragMove,t)},e.prototype.onDragDidMove=function(t){return this.on(Event.DragDidMove,t)},e.prototype.onDrag=function(t){return this.on(Event.Drag,t)},e.prototype.onDragEnd=function(t){return this.on(Event.DragEnd,t)},e.prototype.onDragAnimationStart=function(t){return this.on(Event.DragAnimationStart,t)},e.prototype.onDragAnimationEnd=function(t){return this.on(Event.DragAnimationEnd,t)},e.prototype.onDirectionLockStart=function(t){return this.on(Event.DirectionLockStart,t)},e}(Element);var Page,__hasProp={}.hasOwnProperty,__extends=function(t,e){function n(){this.constructor=t}for(var i in e)__hasProp.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};Page=function(t){function e(t){e.__super__.constructor.apply(this,arguments)}return __extends(e,t),e.prototype._kind="Page",e.define("title",{configurable:!0,get:function(){return App.title},set:function(t){App.title=t}}),e.prototype.toInspect=function(){return this.name?"<Page id:"+this.id+" name:"+this.name+">":"<Page id:"+this.id+">"},e.prototype.isFirst=function(){return App._pages_counter?!1:!0},e}(View);var Text,__hasProp={}.hasOwnProperty,__extends=function(t,e){function n(){this.constructor=t}for(var i in e)__hasProp.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};Text=function(t){function e(t){var n,i;null==t&&(t={}),t.header?(this._kind="TextHeader",this._elementType="h1"):t.paragraph&&(i="TextParagraph",n="p"),e.__super__.constructor.apply(this,arguments)}return __extends(e,t),e.prototype._kind="Text",e.prototype._assigned={},e.prototype._text="",e.define("text",{configurable:!0,get:function(){return this._text},set:function(t){var e,n,i,r;for(r=this.children,n=0,i=r.length;i>n;n++)e=r[n],e.parent=null;this._assigned={},this._text=t,this.emit("change:text",t),this.html=Utils.e(t)}}),e.define("value",{configurable:!0,get:function(){return this.text},set:function(t){this.emit("change:value",t),this.text=t}}),e.define("header",{configurable:!0,get:function(){return this._header},set:function(t){t&&(this.emit("change:header",t),this.text=this._header=t)}}),e.define("paragraph",{configurable:!0,get:function(){return this._paragraph},set:function(t){t&&(this.emit("change:paragraph",t),this.text=this._paragraph=t)}}),e.define("indent",{get:function(){return this._element.style.textIndent},set:function(t){"number"==typeof t&&(t+="px"),this._element.style.textIndent=t}}),e._alias("textIndent","indent"),e.define("decoration",{get:function(){return this._element.style.textDecoration},set:function(t){return this._element.style.textDecoration=t}}),e._alias("textDecoration","decoration"),e.define("spacing",{get:function(){return parseFloat(this._element.style.letterSpacing,10)},set:function(t){"number"==typeof t&&(t+="px"),this._element.style.letterSpacing=t}}),e._alias("letterSpacing","spacing"),e.define("wordSpacing",{get:function(){return parseFloat(this._element.style.wordSpacing,10)},set:function(t){"number"==typeof t&&(t+="px"),this._element.style.wordSpacing=t}}),e.define("wrap",{get:function(){return"break-word"===this._element.style.wordWrap?!0:!1},set:function(t){t===!0?this._element.style.wordWrap="break-word":this._element.style.wordWrap="normal"}}),e.define("break",{get:function(){return void 0===this._break?!1:this._break},set:function(t){t===!0?(this._break===!0,this._element.style.wordBreak="break-all"):(this._break===!1,this._element.style.wordBreak="normal")}}),e.define("whiteSpace",{get:function(){return this._element.style.whiteSpace},set:function(t){return this._element.style.whiteSpace=t}}),e.define("nowrap",{get:function(){return"nowrap"===this._element.style.whiteSpace?!0:!1},set:function(t){t===!0?this._element.style.whiteSpace="nowrap":this._element.style.whiteSpace="normal"}}),e.define("lineHeight",{get:function(){return parseFloat(this._element.style.lineHeight)},set:function(t){"number"==typeof t&&(t+="px"),this._element.style.lineHeight=t}}),e._def("textShadowX",0,function(){return this._updateTextShadow()}),e._def("textShadowY",0,function(){return this._updateTextShadow()}),e._def("textShadowBlur",0,function(){return this._updateTextShadow()}),e._def("textShadowColor","",function(){return this._updateTextShadow()}),e.prototype.uppercase=function(){return this._element.style.textTransform="uppercase"},e.prototype.lowercase=function(){return this._element.style.textTransform="lowercase"},e.prototype.underline=function(){return this._element.style.textDecoration="underline"},e.prototype.capitalize=function(){void 0!==this._text&&(this._text.charAt(0).toUpperCase()+this._text.slice(1),this.html=this._text)},e.prototype.centerText=function(){return this.align="center",this.parent?this.lineHeight=this.parent.height:void 0},e.prototype.assignLink=function(t,e,n){return t&&t.length>0?(this._assigned[t]={url:e,options:n},this._assignProcessor()):void 0},e.prototype.assign=function(t,e){t&&t.length>0&&(this._assigned[t]={options:e},this._assignProcessor())},e.prototype._assignProcessor=function(){var t,n,i,r,o,s,a;t=Utils.keys(this._assigned).length,s="",n=0;for(i in this._assigned){this._assigned[i].url?this._assigned[i].assign=new Link({color:"inherit",display:"inline",href:this._assigned[i].url}):this._assigned[i].assign=new e({color:"inherit",display:"inline"});for(r in this._assigned[i].options)this._assigned[i].assign[r]=this._assigned[i].options[r];s+=i,t-1>n&&(s+="|"),n++}return a=this,o=new RegExp("("+s+")","g"),this.html=this._text.replace(o,function(t){var e,n;return n=a._assigned[t].assign._elementType,e=new RegExp("(</?"+n+">)","i"),a._assigned[t].assign._element.outerHTML.split(e)[0]+t+("</"+n+">")})},e.prototype._updateTextShadow=function(){return this._element.style.textShadow=this.textShadowX+"px "+this.textShadowY+"px "+this.textShadowBlur+"px "+this.textShadowColor},e}(View);var Link,__hasProp={}.hasOwnProperty,__extends=function(t,e){function n(){this.constructor=t}for(var i in e)__hasProp.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};Link=function(t){function e(t){e.__super__.constructor.apply(this,arguments),this.on(Event.Click,function(t,e){return this.external?void 0:e.url&&this.auto?this._isExternal(e.url)?void 0:(App.go(e.url,!0),t.preventDefault()):void t.preventDefault()})}return __extends(e,t),e.prototype._kind="Link",e.prototype._elementType="a",e.define("url",{get:function(){return this._element.getAttribute("href")},set:function(t){this._element.setAttribute("href",Utils.parseURL(t))}}),e.define("href",{get:function(){return this.url},set:function(t){this.url=t}}),e.define("path",{get:function(){return this.url},set:function(t){this.url=t}}),e.define("link",{get:function(){return this.url},set:function(t){this.url=t}}),e.define("auto",{get:function(){return void 0===this._auto&&(this._auto=!0),this._auto},set:function(t){t===!0?this._auto=!0:this._auto=!1}}),e.define("external",{get:function(){return this._external||(this._external=!1),this._external},set:function(t){t===!0?this._external=!0:this._external=!1}}),e.define("blank",{get:function(){return void 0!==this._blank&&(this._blank=!1),this._blank},set:function(t){t===!0?(this._blank=!0,this.external=!0,this._element.setAttribute("target","_blank")):(this._blank=!1,this.external=!1,this._element.setAttribute("target","_self"))}}),e.define("tab",{get:function(){return this.blank},set:function(t){this.blank=t}}),e.prototype.go=function(t,e){return this.url?!this._isExternal(this.url)&&(App.go(this.url,!0),t)?t.preventDefault():void 0:void(t&&t.preventDefault())},e.prototype._isExternal=function(t){var e,n;return e=function(t){return t.replace("http://","").replace("https://","").split("/")[0]},n=e(t),""===n?!1:e(location.href)!==n},e}(Text);var Image,__hasProp={}.hasOwnProperty,__extends=function(t,e){function n(){this.constructor=t}for(var i in e)__hasProp.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};window._Image=window.Image,Image=function(t){function e(t){e.__super__.constructor.apply(this,arguments)}return __extends(e,t),e.prototype._kind="Image",e.prototype._elementType="img",e.define("src",{get:function(){return this._src},set:function(t){this._src=t,this._element.setAttribute("src",Utils.parseAsset(t))}}),e.define("image",{get:function(){return this.src},set:function(t){this.src=t}}),e.define("source",{get:function(){return this.src},set:function(t){this.src=t}}),e.define("url",{get:function(){return this.src},set:function(t){this.src=t}}),e.define("aspect",{get:function(){return void 0===this._aspect&&(this._aspect="fit"),this._aspect},set:function(t){return"fit"===t?(this.props={width:"auto",height:"auto",maxWidth:"100%",maxHeight:"100%"},this._aspect="fit"):"fitCenter"===t?(this.props={width:"auto",height:"auto",maxWidth:"100%",maxHeight:"100%",display:"block",margin:"auto"},this._aspect="fitCenter"):"fill"===t?(this.props={width:"100%",height:"100%",maxWidth:"",maxHeight:""},this._aspect="fill"):"fillWidth"===t?(this.props={width:"100%",height:"auto",maxWidth:"",maxHeight:""},this._aspect="fillWidth"):"fillHeight"===t?(this.props={width:"auto",height:"100%",maxWidth:"",maxHeight:""},this._aspect="fillHeight"):"fillHeightCenter"===t?(this.props={width:"auto",height:"100%",maxWidth:"",maxHeight:"",display:"block",margin:"auto"},this._aspect="fillHeightCenter"):void 0}}),e.define("original",{get:function(){return{width:this.element.naturalWidth,height:this.element.naturalHeight}}}),e.define("loaded",{get:function(){return void 0===this._eventLoaded?null:this._eventLoaded},set:function(t){t&&(this._eventLoaded=t,this.on(Event.Load,t))}}),e.define("done",{get:function(){return this.loaded},set:function(t){this.loaded=t}}),e.define("then",{get:function(){return this.loaded},set:function(t){this.loaded=t}}),e.define("after",{get:function(){return this.loaded},set:function(t){this.loaded=t}}),e.define("finished",{get:function(){return this.loaded},set:function(t){this.loaded=t}}),e.define("finish",{get:function(){return this.loaded},set:function(t){this.loaded=t}}),e.prototype.onLoad=function(t){return this.on(Event.Load,t)},e.prototype.onLoaded=function(t){return this.on(Event.Load,t)},e.prototype.onDone=function(t){return this.on(Event.Load,t)},e}(View);var Button,__hasProp={}.hasOwnProperty,__extends=function(t,e){function n(){this.constructor=t}for(var i in e)__hasProp.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};Button=function(t){
function e(t){e.__super__.constructor.apply(this,arguments)}return __extends(e,t),e.prototype._kind="Button",e.prototype._elementType="button",e.define("icon",{get:function(){return this.image},set:function(t){this.backgroundColor="none",this.image=t,this.imagePosition="center center",this.imageSize="100% 100%",this.imageRepeat=!1,this.padding=0}}),e}(Text),Button.prototype.focus=function(){this._element.focus()},Button.prototype.resignFocus=function(){this._element.blur()};var Knob,Slider,__hasProp={}.hasOwnProperty,__extends=function(t,e){function n(){this.constructor=t}for(var i in e)__hasProp.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},__bind=function(t,e){return function(){return t.apply(e,arguments)}};Event.SliderValueChange="sliderValueChange",Knob=function(t){function e(t){e.__super__.constructor.call(this,t)}return __extends(e,t),e.define("constrained",e.simpleProperty("constrained",!1)),e}(View),Slider=function(t){function e(t){null==t&&(t={}),this._updateValue=__bind(this._updateValue,this),this._setRadius=__bind(this._setRadius,this),this._updateFrame=__bind(this._updateFrame,this),this._updateKnob=__bind(this._updateKnob,this),this._updateFill=__bind(this._updateFill,this),this._touchEnd=__bind(this._touchEnd,this),this._touchStart=__bind(this._touchStart,this),Utils.defaults(t,{backgroundColor:"#ccc",borderRadius:50,clip:!1,width:300,height:10,value:0,knobSize:30}),null==t.hitArea&&(t.hitArea=t.knobSize),this.knob=new Knob({backgroundColor:"#fff",shadowY:1,shadowBlur:3,shadowColor:"rgba(0,0,0,0.35)",name:"knob"}),this.fill=new View({backgroundColor:"#333",width:0,force2d:!0,name:"fill",backgroundColor:"#179afc"}),this.sliderOverlay=new View({backgroundColor:null,name:"sliderOverlay"}),e.__super__.constructor.call(this,t),this.knob.parent=this.fill.parent=this.sliderOverlay.parent=this,this.width>this.height?this.fill.height=this.height:this.fill.width=this.width,this.fill.borderRadius=this.sliderOverlay.borderRadius=this.borderRadius,this.knob.draggable.enabled=!0,this.knob.draggable.overdrag=!1,this.knob.draggable.momentum=!0,this.knob.draggable.momentumOptions={friction:5,tolerance:.25},this.knob.draggable.bounce=!1,this.knob.borderRadius=this.knobSize/2,t.value&&(this.value=t.value),this._updateFrame(),this._updateKnob(),this._updateFill(),this.on("change:frame",this._updateFrame),this.on("change:borderRadius",this._setRadius),this.knob.on("change:size",this._updateKnob),this.knob.on("change:frame",this._updateValue),this.knob.on("change:frame",this._updateFill),t.noknob?t.knobSize&&(this.knobSize=t.knobSize):(this.fill.on(Event.TapStart,this._touchStart),this.fill.on(Event.TapEnd,this._touchEnd),this.sliderOverlay.on(Event.TapStart,this._touchStart),this.sliderOverlay.on(Event.TapEnd,this._touchEnd))}return __extends(e,t),e.prototype._kind="Slider",e.prototype._touchStart=function(t){return t.preventDefault(),this.width>this.height?this.value=this.valueForPoint(Event.touchEvent(t).layerX):this.value=this.valueForPoint(Event.touchEvent(t).layerY),this.knob.draggable._touchStart(t),this._updateValue()},e.prototype._touchEnd=function(t){return this._updateValue()},e.prototype._updateFill=function(){return this.width>this.height?this.fill.width=this.knob.midX:this.fill.height=this.knob.midY},e.prototype._updateKnob=function(){return this.width>this.height?(this.knob.midX=this.fill.width,this.knob.absoluteCenterY()):(this.knob.midY=this.fill.height,this.knob.absoluteCenterX())},e.prototype._updateFrame=function(){return this.knob.draggable.constraints={x:-this.knob.width/2,y:-this.knob.height/2,width:this.width+this.knob.width,height:this.height+this.knob.height},this.knob.constrained&&(this.knob.draggable.constraints={x:0,y:0,width:this.width,height:this.height}),this.width>this.height?(this.fill.height=this.height,this.knob.absoluteCenterY()):(this.fill.width=this.width,this.knob.absoluteCenterX()),this.width>this.height?this.knob.draggable.speedY=0:this.knob.draggable.speedX=0,this.sliderOverlay.absoluteCenter()},e.prototype._setRadius=function(){var t;return t=this.borderRadius,this.fill.style.borderRadius=""+t+"px 0 0 "+t+"px"},e.define("knobSize",{get:function(){return this._knobSize},set:function(t){return this._knobSize=t,this.knob.width=this._knobSize,this.knob.height=this._knobSize,this._updateFrame()}}),e.define("hitArea",{get:function(){return this._hitArea},set:function(t){return this._hitArea=t,this.width>this.height?(this.sliderOverlay.width=this.width+this.hitArea,this.sliderOverlay.height=this.hitArea):(this.sliderOverlay.width=this.hitArea,this.sliderOverlay.height=this.height+this.hitArea)}}),e.define("min",{get:function(){return this._min||0},set:function(t){return this._min=t}}),e.define("max",{get:function(){return this._max||1},set:function(t){return this._max=t}}),e.define("value",{get:function(){return this.width>this.height?this.valueForPoint(this.knob.midX):this.valueForPoint(this.knob.midY)},set:function(t){return this.width>this.height?this.knob.midX=this.pointForValue(t):this.knob.midY=this.pointForValue(t),this._updateFill(),this._updateValue()}}),e.prototype._updateValue=function(){return this._lastUpdatedValue!==this.value?(this._lastUpdatedValue=this.value,this.emit("change:value",this.value),this.emit(Event.SliderValueChange,this.value)):void 0},e.prototype.pointForValue=function(t){return this.width>this.height?this.knob.constrained?Utils.modulate(t,[this.min,this.max],[0+this.knob.width/2,this.width-this.knob.width/2],!0):Utils.modulate(t,[this.min,this.max],[0,this.width],!0):this.knob.constrained?Utils.modulate(t,[this.min,this.max],[0+this.knob.height/2,this.height-this.knob.height/2],!0):Utils.modulate(t,[this.min,this.max],[0,this.height],!0)},e.prototype.valueForPoint=function(t){return this.width>this.height?this.knob.constrained?Utils.modulate(t,[0+this.knob.width/2,this.width-this.knob.width/2],[this.min,this.max],!0):Utils.modulate(t,[0,this.width],[this.min,this.max],!0):this.knob.constrained?Utils.modulate(t,[0+this.knob.height/2,this.height-this.knob.height/2],[this.min,this.max],!0):Utils.modulate(t,[0,this.height],[this.min,this.max],!0)},e.prototype.animateToValue=function(t,e){return null==e&&(e={curve:"spring(300,25,0)"}),this.width>this.height?e.properties={x:this.pointForValue(t)-this.knob.width/2}:e.properties={y:this.pointForValue(t)-this.knob.height/2},this.knob.animate(e)},e.prototype.onValueChange=function(t){return this.on(Event.SliderValueChange,t)},e}(View);var ProgressBar,__hasProp={}.hasOwnProperty,__extends=function(t,e){function n(){this.constructor=t}for(var i in e)__hasProp.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};ProgressBar=function(t){function e(t){t.noknob=!0,e.__super__.constructor.apply(this,arguments),this.removeChild(this.knob),void 0===t.value&&(this.value=.5)}return __extends(e,t),e.prototype._kind="ProgressBar",e}(Slider);var TextField,__hasProp={}.hasOwnProperty,__extends=function(t,e){function n(){this.constructor=t}for(var i in e)__hasProp.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};TextField=function(t){function e(t){e.__super__.constructor.apply(this,arguments)}return __extends(e,t),e.prototype._kind="TextField",e.prototype._elementType="input",e.define("text",{configurable:!0,get:function(){return this._element.value},set:function(t){this._element.value=t,this.emit("change:text",t)}}),e.define("value",{configurable:!0,get:function(){return this.text},set:function(t){this.text=t,this.emit("change:value",t)}}),e.define("val",{configurable:!0,get:function(){return this.value},set:function(t){return this.value=t}}),e.define("placeholder",{get:function(){return this._element.getAttribute("placeholder")},set:function(t){this._element.setAttribute("placeholder",t)}}),e.define("secure",{get:function(){return void 0===this._secureTextEntry&&(this._secureTextEntry=!1),this._secureTextEntry},set:function(t){t===!0?(this._secureTextEntry=!0,this._element.setAttribute("type","password")):(this._secureTextEntry=!1,this._element.setAttribute("type","text"))}}),e.define("maxlength",{get:function(){return void 0===this._maxlength&&(this._maxlength=0),this._maxlength},set:function(t){this._maxlength=t,this._element.setAttribute("maxlength",t)}}),e.define("limit",{get:function(){return this.limit},set:function(t){this.maxlength=t}}),e.define("readonly",{get:function(){return void 0===this._readonly&&(this._readonly=!0),this._readonly},set:function(t){t===!0?(this._readonly=!0,this._element.setAttribute("readonly","on")):(this._readonly=!1,this._element.setAttribute("readonly","off"))}}),e.define("autocomplete",{get:function(){return void 0===this._autocomplete&&(this._autocomplete=!0),this._autocomplete},set:function(t){t===!0?(this._autocomplete=!0,this._element.setAttribute("autocomplete","on")):(this._autocomplete=!1,this._element.setAttribute("autocomplete","off"))}}),e.define("autocorrect",{get:function(){return void 0===this._autocorrect&&(this._autocorrect=!0),this._autocorrect},set:function(t){t===!0?(this._autocorrecte=!0,this._element.setAttribute("autocorrect","on")):(this._autocorrect=!1,this._element.setAttribute("autocorrect","off"))}}),e.define("autocapitalize",{get:function(){return void 0===this._autocapitalize&&(this._autocapitalize=!0),this._autocapitalize},set:function(t){t===!0?(this._autocapitalize=!0,this._element.setAttribute("autocapitalize","on")):(this._autocapitalize=!1,this._element.setAttribute("autocapitalize","off"))}}),e.define("spellcheck",{get:function(){return void 0===this._spellcheck&&(this._spellcheck=!0),this._spellcheck},set:function(t){t===!0?(this._spellcheck=!0,this._element.setAttribute("spellcheck","true")):(this._spellcheck=!1,this._element.setAttribute("spellcheck","false"))}}),e}(Text),TextField.prototype.focus=function(){this._element.focus()},TextField.prototype.resignFocus=function(){this._element.blur()},TextField.prototype.select=function(){this._element.select()},TextField.prototype.empty=function(){this.value=""},TextField.prototype.onKeyDown=function(t){return this.on(Event.KeyDown,t)},TextField.prototype.onKeyPress=function(t){return this.on(Event.KeyPress,t)},TextField.prototype.onKeyUp=function(t){return this.on(Event.KeyUp,t)},TextField.prototype.onFocus=function(t){return this.on(Event.Focus,t)},TextField.prototype.onResignFocus=function(t){return this.on(Event.ResignFocus,t)},TextField.prototype.onBlur=function(t){return this.on(Event.ResignFocus,t)},TextField.prototype.onChange=function(t){return this.on(Event.Change,t)},TextField.prototype.onWillFocus=function(t){return this.on(Event.WillFocus,t)},TextField.prototype.onWillResignFocus=function(t){return this.on(Event.WillResignFocus,t)},TextField.prototype.onInput=function(t){return this.on(Event.Input,t)},TextField.prototype.onSelect=function(t){return this.on(Event.Select,t)};var FileField,__hasProp={}.hasOwnProperty,__extends=function(t,e){function n(){this.constructor=t}for(var i in e)__hasProp.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};FileField=function(t){function e(t){e.__super__.constructor.apply(this,arguments),this._element.setAttribute("type","file"),this._element.setAttribute("tabindex","1")}return __extends(e,t),e.prototype._kind="FileField",e.prototype._elementType="input",e.define("accept",{get:function(){return this._accept},set:function(t){var e,n;if("string"==typeof t&&(t=[t]),"object"==typeof t){for(n="",e=0;e<t.length;)n+=t[e],e!==t.length-1&&(n+=", "),e++;this._accept=t,this._element.setAttribute("accept",n)}}}),e.define("value",{get:function(){return this._element.value}}),e.define("file",{get:function(){return this._element.files[0]}}),e.define("files",{get:function(){return this._element.files}}),e.define("multiple",{get:function(){return this._multiple?this._multiple:!1},set:function(t){return t===!0?(this._multiple=!0,this._element.setAttribute("multiple","multiple")):(this._multiple=!1,this._element.removeAttribute("multiple"))}}),e}(View),FileField.prototype.focus=function(){this._element.focus()},FileField.prototype.resignFocus=function(){this._element.blur()},FileField.prototype.open=function(){this._element.click()},FileField.prototype.onFocus=function(t){return this.on(Event.Focus,t)},FileField.prototype.onResignFocus=function(t){return this.on(Event.ResignFocus,t)},FileField.prototype.onBlur=function(t){return this.on(Event.Blur,t)},FileField.prototype.onChange=function(t){return this.on(Event.Change,t)},FileField.prototype.onWillFocus=function(t){return this.on(Event.WillFocus,t)},FileField.prototype.onWillResignFocus=function(t){return this.on(Event.WillResignFocus,t)};var TextView,__hasProp={}.hasOwnProperty,__extends=function(t,e){function n(){this.constructor=t}for(var i in e)__hasProp.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};TextView=function(t){function e(t){e.__super__.constructor.apply(this,arguments),this.on(Event.Input,function(t,e){this.autoresize&&(e.height="auto",e.height=e.element.scrollHeight)})}return __extends(e,t),e.prototype._kind="TextView",e.prototype._elementType="textarea",e.define("text",{get:function(){return this._element.value},set:function(t){this._element.innerHTML=t,this._element.value=t,this.emit("change:text",t)}}),e.define("value",{get:function(){return this._element.value},set:function(t){this._element.innerHTML=t,this._element.value=t,this.emit("change:value",t)}}),e.define("resizable",{get:function(){return void 0===this._resizable&&(this._resizable=!1),this._resizable},set:function(t){t===!0?(this._resizable=!0,void 0===this._resizeDirection?this._element.style.resize="":this._element.style.resize=this._resizeDirection):(this._resizable=!1,this._element.style.resize="none")}}),e.define("resize",{get:function(){return this.resizable},set:function(t){this.resizable=t}}),e.define("resizeDirection",{get:function(){return void 0===this._resizeDirection&&(this._resizable?this._resizeDirection="both":this._resizeDirection=!1),this._resizeDirection},set:function(t){"vertical"===t||"horizontal"===t?(this._resizeDirection=t,this._resizable&&(this._element.style.resize=t)):this._resizeDirection=""}}),e.define("autoresize",{get:function(){return void 0===this._autoresize&&(this._autoresize=!1),this._autoresize},set:function(t){t===!0?this._autoresize=!0:this._autoresize=!1}}),e.prototype.fit=function(){return this.height=this.scrollHeight+2},e}(TextField);var Canvas,__hasProp={}.hasOwnProperty,__extends=function(t,e){function n(){this.constructor=t}for(var i in e)__hasProp.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};Canvas=function(t){function e(t){e.__super__.constructor.apply(this,arguments)}return __extends(e,t),e.prototype._kind="Canvas",e.prototype._elementType="canvas",e.prototype.getContext=function(t){return null==t&&(t="2d"),this._element.getContext(t)},e}(View);var WebView,__hasProp={}.hasOwnProperty,__extends=function(t,e){function n(){this.constructor=t}for(var i in e)__hasProp.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};WebView=function(t){function e(t){e.__super__.constructor.apply(this,arguments),this._sandbox={},this.content=this._element.contentWindow,this.document=this._element.contentDocument}return __extends(e,t),e.prototype._kind="WebView",e.prototype._elementType="iframe",e.prototype.onLoad=function(t){return this.on(Event.Load,t)},e.prototype.onLoaded=function(t){return this.on(Event.Loaded,t)},e.prototype.onDone=function(t){return this.on(Event.Loaded,t)},e.define("url",{get:function(){return void 0===this._url&&(this._url=""),this._url},set:function(t){this._url=t,this._element.setAttribute("src",t)}}),e.define("src",{get:function(){return this.url},set:function(t){this.url=t}}),e._def_enabled=function(t){return this.define(t,{get:function(){return void 0===this["_"+t]?!0:this["_"+t]},set:function(e){return e!==!0&&(e=!1),this["_"+t]=e,this["_"+t.replace("Enabled","")]=e,this._updateSandbox()}})},e._def_enabled("scriptsEnabled"),e._def_enabled("formsEnabled"),e._def_enabled("popupsEnabled"),e._def_enabled("pointerLockEnabled"),e._def_enabled("sameOriginEnabled"),e._def_enabled("navigationEnabled"),e}(View),WebView.prototype.reload=function(){this._element.contentWindow.location.reload()},WebView.prototype._updateSandbox=function(){var t,e,n;n={forms:"allow-forms",pointerLock:"allow-pointer-lock",popups:"allow-popups",sameOrigin:"allow-same-origin",scripts:"allow-scripts",navigation:"allow-top-navigation"},e="";for(t in this._sandbox)void 0!==n[t]&&this._sandbox[t]===!1&&delete n[t];for(t in n)e+=n[t]+" ";this._element.setAttribute("sandbox",e)};var Dropdown,__hasProp={}.hasOwnProperty,__extends=function(t,e){function n(){this.constructor=t}for(var i in e)__hasProp.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};Dropdown=function(t){function e(t){e.__super__.constructor.apply(this,arguments)}return __extends(e,t),e.prototype._kind="Dropdown",e.prototype._elementType="select",e.define("options",{get:function(){return void 0===this._options&&(this._options={}),this._options},set:function(t){var e,n,i;if(!Utils.isObject(t))return!1;this._options=t,i=[];for(n in t)void 0!==n?(e=document.createElement("option"),e.text=t[n],void 0!==t[n].value&&e.setAttribute("value",n),i.push(this._element.add(e))):i.push(void 0);return i}}),e.define("enabled",{get:function(){return void 0===this._enabled&&(this._enabled=!0),this._enabled},set:function(t){t===!0?(this._enabled=t,this._element.disabled=!1):(this._enabled=!1,this._element.disabled=!0)}}),e.define("value",{get:function(){return this._element.options[this._element.selectedIndex].value},set:function(t){return this._element.value=t}}),e}(View),Dropdown.prototype.focus=function(){this._element.setAttribute("autofocus","autofocus")},Dropdown.prototype.resignFocus=function(){this._element.removeAttribute("autofocus")},Dropdown.prototype.onFocus=function(t){return this.on(Event.Focus,t)},Dropdown.prototype.onResignFocus=function(t){return this.on(Event.ResignFocus,t)},Dropdown.prototype.onBlur=function(t){return this.on(Event.Blur,t)},Dropdown.prototype.onChange=function(t){return this.on(Event.Change,t)};var Checkbox,CheckboxInput,__hasProp={}.hasOwnProperty,__extends=function(t,e){function n(){this.constructor=t}for(var i in e)__hasProp.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};CheckboxInput=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return __extends(e,t),e.prototype._kind="CheckboxInput",e.prototype._elementType="input",e}(View),Checkbox=function(t){function e(t){var n;this.input=new CheckboxInput,this.input._element.setAttribute("type","checkbox"),this.input.style.verticalAlign="middle",this.label=new Text(App.Originals.Checkbox.Text),e.__super__.constructor.apply(this,arguments),n=this,this.addChild(this.input),this.addChild(this.label),this.onClick(function(){return this.enabled?n.checked?n.checked=!1:n.checked=!0:void 0})}return __extends(e,t),e.prototype._kind="Checkbox",e.define("enabled",{get:function(){return void 0===this._enabled&&(this._enabled=!0),this._enabled},set:function(t){t===!0?(this._enabled=!0,this.input._element.disabled=!1):(this._enabled=!1,this.input._element.disabled=!0)}}),e.define("checked",{get:function(){return this.input._element.checked},set:function(t){t===!0?(this.input._element.checked=!0,this.emit("change:value",!0),this.emit("change:checked",!0)):(this.input._element.checked=!1,this.emit("change:value",!1),this.emit("change:checked",!1))}}),e.define("text",{get:function(){return this.label.text},set:function(t){this.label.text=t}}),e}(View),Checkbox.prototype.focus=function(){this.input._element.focus()},Checkbox.prototype.resignFocus=function(){this.input._element.blur()},Checkbox.prototype.onChange=function(t){return this.on("change:value",t)};var RadioButton,RadioButtonInput,RadioButtonOriginalInput,__hasProp={}.hasOwnProperty,__extends=function(t,e){function n(){this.constructor=t}for(var i in e)__hasProp.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};RadioButtonOriginalInput=function(t){function e(){e.__super__.constructor.apply(this,arguments),this.element.setAttribute("type","radio"),this.style.verticalAlign="middle"}return __extends(e,t),e.prototype._elementType="input",e.prototype._kind="RadioButtonInput",e}(View),RadioButtonInput=function(t){function e(){e.__super__.constructor.apply(this,arguments),this.props={width:18,height:18,padding:0,borderRadius:10,borderWidth:1,borderColor:"rgba(0, 0, 0, 0.08)",backgroundColor:"white",display:"inline-block"},this.style["float"]="left",this.dot=new View({width:10,height:10,borderRadius:5,backgroundColor:"#179afc",opacity:0,parent:this}),this.dot.absoluteCenter(),this.checked=!1}return __extends(e,t),e.prototype._kind="RadioButtonInput",e}(View),RadioButton=function(t){function e(t){null==t&&(t={}),this.input=void 0,t.original?this.input=new RadioButtonOriginalInput:(t.original=!1,this.input=new RadioButtonInput),this.original=t.original,this.label=new Text(App.Originals.RadioButton.Text),this.original&&(this.label.fontSize=12),e.__super__.constructor.apply(this,arguments),this.addChild(this.input),this.addChild(this.label),this.on(Event.Click,function(t,e){return this.enabled?this.checked=!0:void 0})}return __extends(e,t),e.prototype._kind="RadioButton",e.define("enabled",{get:function(){return void 0===this._enabled&&(this._enabled=!0),this._enabled},set:function(t){t===!0?(this._enabled=!0,this.original?this.input._element.disabled=!1:this.input.opacity=1):(this._enabled=!1,this.original?this.input._element.disabled=!0:this.input.opacity=.5)}}),e.define("checked",{get:function(){return this.original?this.input._element.checked:this.input.checked},set:function(t){var e,n,i,r;if(t!==this.input._element.checked)if(t===!0){if((t!==this.input.checked||this.original)&&(this.emit("change:value",!0),this.emit("change:checked",!0)),this.original)this.input._element.checked=!0;else if(this.input.checked=!0,this.input.dot.opacity=1,this._group&&App.__radiobuttons[this._group])for(r=App.__radiobuttons[this._group],n=0,i=r.length;i>n;n++)e=r[n],e&&e!==this&&(e.checked=!1)}else(t!==this.input.checked||this.original)&&(this.emit("change:value",!1),this.emit("change:checked",!1)),this.original?this.input._element.checked=!1:(this.input.checked=!1,this.input.dot.opacity=0)}}),e.define("text",{get:function(){return this.label.text},set:function(t){this.label.text=t,this.emit("change:text",t)}}),e.define("group",{get:function(){return void 0===this._group&&(this._group=""),this._group},set:function(t){var e;this._group&&!this.orignal&&(e=App.__radiobuttons[this._group].indexof(this),e>-1&&App.__radiobuttons[this._group].splice(e,1)),this._group=t,this.original?this.input._element.setAttribute("name",t):(App.__radiobuttons||(App.__radiobuttons={}),App.__radiobuttons[this._group]||(App.__radiobuttons[this._group]=[]),App.__radiobuttons[this._group].push(this))}}),e}(View),RadioButton.prototype.focus=function(){this.input._element.focus()},RadioButton.prototype.resignFocus=function(){this.input._element.blur()},RadioButton.prototype.onChange=function(t){return this.on("change:value",t)};var Player,__hasProp={}.hasOwnProperty,__extends=function(t,e){function n(){this.constructor=t}for(var i in e)__hasProp.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};Player=function(t){function e(t){this.player=new Object,e.__super__.constructor.apply(this,arguments)}return __extends(e,t),e.prototype.on=function(t,e){return this.player.on(t,e)},e.prototype.off=function(t,e){return this.player.off(t,e)},e.prototype.onCanPlay=function(t){return this.on(Event.CanPlay,t)},e.prototype.onCanPlayThrough=function(t){return this.on(Event.CanPlayThrough,t)},e.prototype.onDurationChange=function(t){return this.on(Event.DurationChange,t)},e.prototype.onEmptied=function(t){return this.on(Event.Emptied,t)},e.prototype.onReachEnd=function(t){return this.on(Event.ReachEnd,t)},e.prototype.onLoadedData=function(t){return this.on(Event.LoadedData,t)},e.prototype.onLoadedMetaData=function(t){return this.on(Event.LoadedMetaData,t)},e.prototype.onLoadStart=function(t){return this.on(Event.LoadStart,t)},e.prototype.onPause=function(t){return this.on(Event.Pause,t)},e.prototype.onPlay=function(t){return this.on(Event.Play,t)},e.prototype.onPlaying=function(t){return this.on(Event.Playing,t)},e.prototype.onProgress=function(t){return this.on(Event.Progress,t)},e.prototype.onSpeedChange=function(t){return this.on(Event.SpeedChange,t)},e.prototype.onSeeked=function(t){return this.on(Event.Seeked,t)},e.prototype.onSeeking=function(t){return this.on(Event.Seeking,t)},e.prototype.onStalled=function(t){return this.on(Event.Stalled,t)},e.prototype.onSuspend=function(t){return this.on(Event.Suspend,t)},e.prototype.onTimeUpdate=function(t){return this.on(Event.TimeUpdate,t)},e.prototype.onVolumeChange=function(t){return this.on(Event.VolumeChange,t)},e.prototype.onWaiting=function(t){return this.on(Event.Waiting,t)},e.prototype._kind="Player",e.define("video",{get:function(){return this.player.currentSrc},set:function(t){if(void 0!==this.player.mediaType){if("video"===this.player.mediaType)return void(this.player.src=Utils.parseAsset(t));this.player.pause(),this._element.removeChild(this.player)}this.player=document.createElement("video"),this.player.style.overflow="hidden",this.player.style.display="block",this.player.style.width="100%",this.player.innerHTML="",this.player.mediaType="video",this._element.appendChild(this.player),this.player.source=document.createElement("source"),this.player.source.setAttribute("src",Utils.parseAsset(t)),this.player.appendChild(this.player.source),this._updateProperties(),this.player.element=Event.wrap(this.player).element,this.player.on=this.player.addEventListener,this.player.off=this.player.removeEventListener}}),e.define("audio",{get:function(){return this.player.currentSrc},set:function(t){if(void 0!==this.player.mediaType){if("audio"===this.player.mediaType)return void(this.player.src=Utils.parseAsset(t));this.player.pause(),this._element.removeChild(this.player)}this.player=document.createElement("audio"),this.player.style.overflow="hidden",this.player.style.display="block",this.player.style.width="100%",this.player.innerHTML="",this.player.mediaType="audio",this._element.appendChild(this.player),this.player.source=document.createElement("source"),this.player.source.setAttribute("src",Utils.parseAsset(t)),this.player.appendChild(this.player.source),this._updateProperties(),this.player.element=Event.wrap(this.player).element,this.player.on=this.player.addEventListener,this.player.off=this.player.removeEventListener}}),e.define("autoplay",{get:function(){return this.player.autoplay},set:function(t){this._autoplay=t,this.player.autoplay=t}}),e.define("buffered",{get:function(){return this.player.buffered},set:function(t){console.log("Player: cannot set buffered property.")}}),e.define("controls",{get:function(){return this.player.controls},set:function(t){this._controls=t,this.player.controls=t}}),e.define("currentTime",{get:function(){return this.player.currentTime},set:function(t){this._currentTime=t,this.player.currentTime=t}}),e.define("defaultMuted",{get:function(){return this.player.defaultMuted},set:function(t){this._defaultMuted=t,this.player.defaultMuted=t}}),e.define("defaultPlaybackRate",{get:function(){return this.player.defaultPlaybackRate},set:function(t){this._defaultPlaybackRate=t,this.player.defaultPlaybackRate=t}}),e.define("duration",{get:function(){return this.player.duration},set:function(t){console.log("Player: cannot set duration property.")}}),e.define("ended",{get:function(){return this.player.ended},set:function(t){console.log("Player: cannot set ended property.")}}),e.define("loop",{get:function(){return this._element.loop},set:function(t){this._loop=t,this.player.loop=t}}),e.define("mediaGroup",{get:function(){return this._element.mediaGroup},set:function(t){this._mediaGroup=t,this.player.mediaGroup=t}}),e.define("muted",{get:function(){return this._element.muted},set:function(t){this._muted=t,this.player.muted=t}}),e.define("networkState",{get:function(){return this.player.networkState},set:function(t){console.log("Player: cannot set networkState property.")}}),e.define("paused",{get:function(){return this.player.paused},set:function(t){console.log("Player: cannot set paused property.")}}),e.define("playbackRate",{get:function(){return this.player.playbackRate},set:function(t){this._playbackRate=t,this.player.playbackRate=t}}),e.define("played",{get:function(){return this.player.played},set:function(t){console.log("Player: cannot set played property.")}}),e.define("preload",{get:function(){return this.player.preload},set:function(t){this._preload=t,this.player.preload=t}}),e.define("readyState",{get:function(){return this.player.readyState},set:function(t){console.log("Player: cannot set readyState property.")}}),e.define("seekable",{get:function(){return this.player.seekable},set:function(t){console.log("Player: cannot set seekable property.")}}),e.define("seeking",{get:function(){return this.player.seeking},set:function(t){console.log("Player: cannot set seeking property.")}}),e.define("textTracks",{get:function(){return this.player.textTracks},set:function(t){console.log("Player: cannot set textTracks property.")}}),e.define("volume",{get:function(){return this.player.volume},set:function(t){this._volume=t,this.player.volume=t}}),e}(View),Player.prototype.play=function(){this.player.play()},Player.prototype.load=function(){this.player.load()},Player.prototype.pause=function(){this.player.pause()},Player.prototype.canPlayType=function(t){return this.player.canPlayType(t)},Player.prototype.addTextTrack=function(t,e,n){this._element.addTextTrack(t,e,n)},Player.prototype._updateProperties=function(){void 0!==this._autoplay&&(this.autoplay=this._autoplay),void 0!==this._controls&&(this.controls=this._controls),void 0!==this._currentTime&&(this.currentTime=this._currentTime),void 0!==this._defaultMuted&&(this.defaultMuted=this._defaultMuted),void 0!==this._defaultPlaybackRate&&(this.defaultPlaybackRate=this._defaultPlaybackRate),void 0!==this._loop&&(this.loop=this._loop),void 0!==this._mediaGroup&&(this.mediaGroup=this._mediaGroup),void 0!==this._muted&&(this.muted=this._muted),void 0!==this._playbackRate&&(this.playbackRate=this._playbackRate),void 0!==this._preload&&(this.preload=this._preload),void 0!==this._volume&&(this.volume=this._volume)};var List,__hasProp={}.hasOwnProperty,__extends=function(t,e){function n(){this.constructor=t}for(var i in e)__hasProp.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};List=function(t){function e(t){var n,i;n=Utils.clone(t),t&&(t.length&&delete t.length,t.each&&delete t.each),e.__super__.constructor.call(this,t),this.children=[],this.count=0,this.functionAtIndex=!1,this.functionToCount=function(){return this.count},this.horizontal=!1,n&&(n.length&&(i=n.length,this.length(i),delete n.length),n.horizontal&&(this.horizontal=n.horizontal),n.vertical&&(this.horizontal=!n.vertical),n.each&&(this.each(n.each),delete n.each))}return __extends(e,t),e.prototype._kind="List",e.prototype._elementType="ul",e.prototype.length=function(t){var e,n;return t&&"number"==typeof t&&(n=t,t=function(){return n}),t?void(this.functionToCount=t):(e=this.functionToCount(),"number"!=typeof e&&(e=0),this.count=e,this.count)},e.prototype.each=function(t){var e,n,i;for(this.length(),t&&(this.functionAtIndex=t),i=this,e=0;e<this.count;){if(t){if(n=t(null,e),!n)return void log("List: nothing was return from the each function.");
this.horizontal?n.display="inline-block":n.display="block",i.addChild(n)}e++}},e.prototype.itemAtIndex=function(t){return this.children[t]},e.prototype.addItem=function(t){this.addChild(t)},e.prototype.removeItem=function(t){this.removeChild(t)},e.prototype.removeItemAtIndex=function(t){var e;for(e in this.children)if(e===t)return void this.removeChild(this.parent.children[e])},e.prototype.reload=function(){var t,e,n,i;if(this.functionAtIndex){if(this.length(),this.count<this.children.length)for(t=this.children.length,e=0;t>e;)this.count<=e&&this.removeChild(this.children[0]),e++;for(e=0;e<this.count;)i=this.children[e],n=this.functionAtIndex(i,e),this.horizontal?n.display="inline-block":n.display="block",!i&&n&&this.addChild(n),e++}},e.prototype.reset=function(){return this._children=[],this.html="",this.each(this.functionAtIndex)},e}(View);var ListItem,__hasProp={}.hasOwnProperty,__extends=function(t,e){function n(){this.constructor=t}for(var i in e)__hasProp.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};ListItem=function(t){function e(t){e.__super__.constructor.apply(this,arguments)}return __extends(e,t),e.prototype._kind="ListItem",e.prototype._elementType="li",e}(View),ListItem.prototype.itemIndex=function(){var t;!this||!this.parent||!this.parent.children;for(t in this.parent.children)if(this.parent.children[t]===this)return parseInt(t,10)},ListItem.prototype.removeFromList=function(){this.parent.removeChild(this)};